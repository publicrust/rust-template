using System;
using Newtonsoft.Json;
using Oxide.Ext.Discord.Libraries;

[JsonObject(MemberSerialization = MemberSerialization.OptIn)]
internal sealed class DiscordTemplate<TTemplate> where TTemplate : class
{
	[JsonProperty("Template", Order = 1)]
	public TTemplate Template { get; private set; }

	[JsonProperty("Template Version", Order = 1000)]
	public TemplateVersion Version { get; set; } = new TemplateVersion(1, 0, 0);

	[JsonConstructor]
	private DiscordTemplate()
	{
	}

	public DiscordTemplate(TTemplate template, TemplateVersion version)
	{
		Template = template ?? throw new ArgumentNullException("template");
		Version = version;
	}
}
