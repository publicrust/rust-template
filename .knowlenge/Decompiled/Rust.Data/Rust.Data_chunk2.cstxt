using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Entity : IDisposable, IPooled, IProto<Entity>, IProto
{
	[NonSerialized]
	public BaseNetworkable baseNetworkable;

	[NonSerialized]
	public BaseEntity baseEntity;

	[NonSerialized]
	public BasePlayer basePlayer;

	[NonSerialized]
	public WorldItem worldItem;

	[NonSerialized]
	public BaseResource resource;

	[NonSerialized]
	public BuildingBlock buildingBlock;

	[NonSerialized]
	public ProtoBuf.Environment environment;

	[NonSerialized]
	public Corpse corpse;

	[NonSerialized]
	public ParentInfo parent;

	[NonSerialized]
	public KeyLock keyLock;

	[NonSerialized]
	public CodeLock codeLock;

	[NonSerialized]
	public EntitySlots entitySlots;

	[NonSerialized]
	public BuildingPrivilege buildingPrivilege;

	[NonSerialized]
	public StorageBox storageBox;

	[NonSerialized]
	public HeldEntity heldEntity;

	[NonSerialized]
	public BaseProjectile baseProjectile;

	[NonSerialized]
	public BaseNPC baseNPC;

	[NonSerialized]
	public Loot loot;

	[NonSerialized]
	public GenericSpawner genericSpawner;

	[NonSerialized]
	public SleepingBag sleepingBag;

	[NonSerialized]
	public LootableCorpse lootableCorpse;

	[NonSerialized]
	public Sign sign;

	[NonSerialized]
	public BaseCombat baseCombat;

	[NonSerialized]
	public MapEntity mapEntity;

	[NonSerialized]
	public ResearchTable researchTable;

	[NonSerialized]
	public DudExplosive dudExplosive;

	[NonSerialized]
	public MiningQuarry miningQuarry;

	[NonSerialized]
	public BaseVehicle baseVehicle;

	[NonSerialized]
	public Helicopter helicopter;

	[NonSerialized]
	public Landmine landmine;

	[NonSerialized]
	public AutoTurret autoturret;

	[NonSerialized]
	public SphereEntity sphereEntity;

	[NonSerialized]
	public StabilityEntity stabilityEntity;

	[NonSerialized]
	public OwnerInfo ownerInfo;

	[NonSerialized]
	public DecayEntity decayEntity;

	[NonSerialized]
	public Spawnable spawnable;

	[NonSerialized]
	public ServerGib servergib;

	[NonSerialized]
	public VendingMachine vendingMachine;

	[NonSerialized]
	public SpinnerWheel spinnerWheel;

	[NonSerialized]
	public Lift lift;

	[NonSerialized]
	public BradleyAPC bradley;

	[NonSerialized]
	public WaterWell waterwell;

	[NonSerialized]
	public Motorboat motorBoat;

	[NonSerialized]
	public IOEntity ioEntity;

	[NonSerialized]
	public PuzzleReset puzzleReset;

	[NonSerialized]
	public RelationshipManager relationshipManager;

	[NonSerialized]
	public HotAirBalloon hotAirBalloon;

	[NonSerialized]
	public SAMSite samSite;

	[NonSerialized]
	public EggHunt eggHunt;

	[NonSerialized]
	public ArcadeMachine arcadeMachine;

	[NonSerialized]
	public Minicopter miniCopter;

	[NonSerialized]
	public Horse horse;

	[NonSerialized]
	public SmartAlarm smartAlarm;

	[NonSerialized]
	public LightString lightString;

	[NonSerialized]
	public LightDeployer lightDeployer;

	[NonSerialized]
	public RCEntity rcEntity;

	[NonSerialized]
	public ComputerStation computerStation;

	[NonSerialized]
	public GrowableEntity growableEntity;

	[NonSerialized]
	public Composter composter;

	[NonSerialized]
	public ModularVehicle modularVehicle;

	[NonSerialized]
	public ModularCar modularCar;

	[NonSerialized]
	public SimpleUID simpleUID;

	[NonSerialized]
	public VehicleLift vehicleLift;

	[NonSerialized]
	public EngineStorage engineStorage;

	[NonSerialized]
	public VehicleVendor vehicleVendor;

	[NonSerialized]
	public WaterPool WaterPool;

	[NonSerialized]
	public Photo photo;

	[NonSerialized]
	public PhotoFrame photoFrame;

	[NonSerialized]
	public VehicleModule vehicleModule;

	[NonSerialized]
	public MixingTable mixingTable;

	[NonSerialized]
	public ShopKeeper shopKeeper;

	[NonSerialized]
	public Elevator elevator;

	[NonSerialized]
	public SkullTrophy skullTrophy;

	[NonSerialized]
	public Cassette cassette;

	[NonSerialized]
	public Telephone telephone;

	[NonSerialized]
	public BoomBox boomBox;

	[NonSerialized]
	public NeonSign neonSign;

	[NonSerialized]
	public SubEntityList subEntityList;

	[NonSerialized]
	public MarketTerminal marketTerminal;

	[NonSerialized]
	public DeliveryDrone deliveryDrone;

	[NonSerialized]
	public ReclaimTerminal reclaimTerminal;

	[NonSerialized]
	public SlotMachine slotMachine;

	[NonSerialized]
	public TrainEngine trainEngine;

	[NonSerialized]
	public CardGame cardGame;

	[NonSerialized]
	public Crane crane;

	[NonSerialized]
	public ConnectedSpeaker connectedSpeaker;

	[NonSerialized]
	public AudioEntity audioEntity;

	[NonSerialized]
	public MicrophoneStand microphoneStand;

	[NonSerialized]
	public Submarine submarine;

	[NonSerialized]
	public SleepingBagCamper sleepingBagCamper;

	[NonSerialized]
	public CamperModule camperModule;

	[NonSerialized]
	public PaintableSign paintableSign;

	[NonSerialized]
	public Whitelist whitelist;

	[NonSerialized]
	public FrankensteinTable FrankensteinTable;

	[NonSerialized]
	public MLRS mlrs;

	[NonSerialized]
	public ReclaimManager reclaimManager;

	[NonSerialized]
	public GameMode gameMode;

	[NonSerialized]
	public Snowmobile snowmobile;

	[NonSerialized]
	public bool createdThisFrame;

	[NonSerialized]
	public PatternFirework patternFirework;

	[NonSerialized]
	public CargoPlane cargoPlane;

	[NonSerialized]
	public PaintedItem paintedItem;

	[NonSerialized]
	public ClanManager clanManager;

	[NonSerialized]
	public Spray spray;

	[NonSerialized]
	public BaseTrain baseTrain;

	[NonSerialized]
	public Zipline zipline;

	[NonSerialized]
	public ZiplineMountable ziplineMountable;

	[NonSerialized]
	public ZiplineArrivalPoint ZiplineArrival;

	[NonSerialized]
	public SprayLine sprayLine;

	[NonSerialized]
	public CoalingTower coalingTower;

	[NonSerialized]
	public SimpleInt simpleInt;

	[NonSerialized]
	public BaseOven baseOven;

	[NonSerialized]
	public BrainComponent brainComponent;

	[NonSerialized]
	public ProceduralDungeon proceduralDungeon;

	[NonSerialized]
	public IndustrialConveyor industrialConveyor;

	[NonSerialized]
	public IndustrialCrafter industrialCrafter;

	[NonSerialized]
	public Drone drone;

	[NonSerialized]
	public TimedExplosive explosive;

	[NonSerialized]
	public SimpleUInt simpleUint;

	[NonSerialized]
	public WeaponRack weaponRack;

	[NonSerialized]
	public AttackHeli attackHeli;

	[NonSerialized]
	public AttackHeliTurret attackHeliTurret;

	[NonSerialized]
	public AttackHeliRockets attackHeliRockets;

	[NonSerialized]
	public BaseBoat baseBoat;

	[NonSerialized]
	public Ragdoll ragdoll;

	[NonSerialized]
	public DieselEngine dieselEngine;

	[NonSerialized]
	public AssociatedFiles associatedFiles;

	[NonSerialized]
	public NexusFerry nexusFerry;

	[NonSerialized]
	public NexusIsland nexusIsland;

	[NonSerialized]
	public NexusDockTerminal nexusDockTerminal;

	[NonSerialized]
	public RockingChair rockingChair;

	[NonSerialized]
	public HeadData headData;

	[NonSerialized]
	public WantedPoster wantedPoster;

	[NonSerialized]
	public WaypointRace waypointRace;

	[NonSerialized]
	public LegacyShelter legacyShelter;

	[NonSerialized]
	public MetalDetectorSource metalDetectorSource;

	[NonSerialized]
	public TutorialIsland tutorialIsland;

	[NonSerialized]
	public CinematicEntity cinematicEntity;

	[NonSerialized]
	public BuildingPrivilegeRetro buildingPrivilegeRetro;

	[NonSerialized]
	public HarborCrane harborCrane;

	[NonSerialized]
	public CargoShip cargoShip;

	[NonSerialized]
	public CargoShipContainer cargoShipContainer;

	[NonSerialized]
	public MissionMapMarker missionMapMarker;

	[NonSerialized]
	public Bike bike;

	[NonSerialized]
	public DiverPropulsionVehicle diverPropulsionVehicle;

	[NonSerialized]
	public TravellingVendor travellingVendor;

	[NonSerialized]
	public VendingDynamicPricing vendingDynamicPricing;

	[NonSerialized]
	public TinCanAlarm tinCanAlarm;

	[NonSerialized]
	public DigitalClock digitalClock;

	[NonSerialized]
	public ElevatorLift elevatorLift;

	[NonSerialized]
	public NPCVendingMachine npcVendingMachine;

	[NonSerialized]
	public Mailbox mailbox;

	[NonSerialized]
	public GunWeaponMod projectileWeaponMod;

	[NonSerialized]
	public BaseSculpture baseSculpture;

	[NonSerialized]
	public VendingMachineStats vendingMachineStats;

	[NonSerialized]
	public Catapult catapult;

	[NonSerialized]
	public SiegeTower siegeTower;

	[NonSerialized]
	public Ballista ballista;

	[NonSerialized]
	public BallistaGun ballistaGun;

	[NonSerialized]
	public BatteringRam batteringRam;

	[NonSerialized]
	public TemporaryRagdoll temporaryRagdoll;

	[NonSerialized]
	public ConstructableEntity constructableEntity;

	[NonSerialized]
	public ChickenCoop chickenCoop;

	[NonSerialized]
	public FarmableAnimal farmableAnimal;

	[NonSerialized]
	public ItemOwnershipAmount ownership;

	[NonSerialized]
	public Beehive beehive;

	[NonSerialized]
	public BeeMasterSwarm beeMasterSwarm;

	[NonSerialized]
	public ContainerCorpseData containerCorpse;

	[NonSerialized]
	public NPCSensesState npcSensesState;

	[NonSerialized]
	public VineMountable vineMountable;

	[NonSerialized]
	public VineTree vineTree;

	[NonSerialized]
	public TreeRespawn treeRespawn;

	[NonSerialized]
	public WallpaperTool wallpaperTool;

	[NonSerialized]
	public CommandBlock commandBlock;

	[NonSerialized]
	public StaticRespawnAreaData staticRespawn;

	[NonSerialized]
	public BuriedItems buriedItemStorage;

	[NonSerialized]
	public Mannequin mannequin;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Entity instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.baseNetworkable != null)
			{
				instance.baseNetworkable.ResetToPool();
				instance.baseNetworkable = null;
			}
			if (instance.baseEntity != null)
			{
				instance.baseEntity.ResetToPool();
				instance.baseEntity = null;
			}
			if (instance.basePlayer != null)
			{
				instance.basePlayer.ResetToPool();
				instance.basePlayer = null;
			}
			if (instance.worldItem != null)
			{
				instance.worldItem.ResetToPool();
				instance.worldItem = null;
			}
			if (instance.resource != null)
			{
				instance.resource.ResetToPool();
				instance.resource = null;
			}
			if (instance.buildingBlock != null)
			{
				instance.buildingBlock.ResetToPool();
				instance.buildingBlock = null;
			}
			if (instance.environment != null)
			{
				instance.environment.ResetToPool();
				instance.environment = null;
			}
			if (instance.corpse != null)
			{
				instance.corpse.ResetToPool();
				instance.corpse = null;
			}
			if (instance.parent != null)
			{
				instance.parent.ResetToPool();
				instance.parent = null;
			}
			if (instance.keyLock != null)
			{
				instance.keyLock.ResetToPool();
				instance.keyLock = null;
			}
			if (instance.codeLock != null)
			{
				instance.codeLock.ResetToPool();
				instance.codeLock = null;
			}
			if (instance.entitySlots != null)
			{
				instance.entitySlots.ResetToPool();
				instance.entitySlots = null;
			}
			if (instance.buildingPrivilege != null)
			{
				instance.buildingPrivilege.ResetToPool();
				instance.buildingPrivilege = null;
			}
			if (instance.storageBox != null)
			{
				instance.storageBox.ResetToPool();
				instance.storageBox = null;
			}
			if (instance.heldEntity != null)
			{
				instance.heldEntity.ResetToPool();
				instance.heldEntity = null;
			}
			if (instance.baseProjectile != null)
			{
				instance.baseProjectile.ResetToPool();
				instance.baseProjectile = null;
			}
			if (instance.baseNPC != null)
			{
				instance.baseNPC.ResetToPool();
				instance.baseNPC = null;
			}
			if (instance.loot != null)
			{
				instance.loot.ResetToPool();
				instance.loot = null;
			}
			if (instance.genericSpawner != null)
			{
				instance.genericSpawner.ResetToPool();
				instance.genericSpawner = null;
			}
			if (instance.sleepingBag != null)
			{
				instance.sleepingBag.ResetToPool();
				instance.sleepingBag = null;
			}
			if (instance.lootableCorpse != null)
			{
				instance.lootableCorpse.ResetToPool();
				instance.lootableCorpse = null;
			}
			if (instance.sign != null)
			{
				instance.sign.ResetToPool();
				instance.sign = null;
			}
			if (instance.baseCombat != null)
			{
				instance.baseCombat.ResetToPool();
				instance.baseCombat = null;
			}
			if (instance.mapEntity != null)
			{
				instance.mapEntity.ResetToPool();
				instance.mapEntity = null;
			}
			if (instance.researchTable != null)
			{
				instance.researchTable.ResetToPool();
				instance.researchTable = null;
			}
			if (instance.dudExplosive != null)
			{
				instance.dudExplosive.ResetToPool();
				instance.dudExplosive = null;
			}
			if (instance.miningQuarry != null)
			{
				instance.miningQuarry.ResetToPool();
				instance.miningQuarry = null;
			}
			if (instance.baseVehicle != null)
			{
				instance.baseVehicle.ResetToPool();
				instance.baseVehicle = null;
			}
			if (instance.helicopter != null)
			{
				instance.helicopter.ResetToPool();
				instance.helicopter = null;
			}
			if (instance.landmine != null)
			{
				instance.landmine.ResetToPool();
				instance.landmine = null;
			}
			if (instance.autoturret != null)
			{
				instance.autoturret.ResetToPool();
				instance.autoturret = null;
			}
			if (instance.sphereEntity != null)
			{
				instance.sphereEntity.ResetToPool();
				instance.sphereEntity = null;
			}
			if (instance.stabilityEntity != null)
			{
				instance.stabilityEntity.ResetToPool();
				instance.stabilityEntity = null;
			}
			if (instance.ownerInfo != null)
			{
				instance.ownerInfo.ResetToPool();
				instance.ownerInfo = null;
			}
			if (instance.decayEntity != null)
			{
				instance.decayEntity.ResetToPool();
				instance.decayEntity = null;
			}
			if (instance.spawnable != null)
			{
				instance.spawnable.ResetToPool();
				instance.spawnable = null;
			}
			if (instance.servergib != null)
			{
				instance.servergib.ResetToPool();
				instance.servergib = null;
			}
			if (instance.vendingMachine != null)
			{
				instance.vendingMachine.ResetToPool();
				instance.vendingMachine = null;
			}
			if (instance.spinnerWheel != null)
			{
				instance.spinnerWheel.ResetToPool();
				instance.spinnerWheel = null;
			}
			if (instance.lift != null)
			{
				instance.lift.ResetToPool();
				instance.lift = null;
			}
			if (instance.bradley != null)
			{
				instance.bradley.ResetToPool();
				instance.bradley = null;
			}
			if (instance.waterwell != null)
			{
				instance.waterwell.ResetToPool();
				instance.waterwell = null;
			}
			if (instance.motorBoat != null)
			{
				instance.motorBoat.ResetToPool();
				instance.motorBoat = null;
			}
			if (instance.ioEntity != null)
			{
				instance.ioEntity.ResetToPool();
				instance.ioEntity = null;
			}
			if (instance.puzzleReset != null)
			{
				instance.puzzleReset.ResetToPool();
				instance.puzzleReset = null;
			}
			if (instance.relationshipManager != null)
			{
				instance.relationshipManager.ResetToPool();
				instance.relationshipManager = null;
			}
			if (instance.hotAirBalloon != null)
			{
				instance.hotAirBalloon.ResetToPool();
				instance.hotAirBalloon = null;
			}
			if (instance.samSite != null)
			{
				instance.samSite.ResetToPool();
				instance.samSite = null;
			}
			if (instance.eggHunt != null)
			{
				instance.eggHunt.ResetToPool();
				instance.eggHunt = null;
			}
			if (instance.arcadeMachine != null)
			{
				instance.arcadeMachine.ResetToPool();
				instance.arcadeMachine = null;
			}
			if (instance.miniCopter != null)
			{
				instance.miniCopter.ResetToPool();
				instance.miniCopter = null;
			}
			if (instance.horse != null)
			{
				instance.horse.ResetToPool();
				instance.horse = null;
			}
			if (instance.smartAlarm != null)
			{
				instance.smartAlarm.ResetToPool();
				instance.smartAlarm = null;
			}
			if (instance.lightString != null)
			{
				instance.lightString.ResetToPool();
				instance.lightString = null;
			}
			if (instance.lightDeployer != null)
			{
				instance.lightDeployer.ResetToPool();
				instance.lightDeployer = null;
			}
			if (instance.rcEntity != null)
			{
				instance.rcEntity.ResetToPool();
				instance.rcEntity = null;
			}
			if (instance.computerStation != null)
			{
				instance.computerStation.ResetToPool();
				instance.computerStation = null;
			}
			if (instance.growableEntity != null)
			{
				instance.growableEntity.ResetToPool();
				instance.growableEntity = null;
			}
			if (instance.composter != null)
			{
				instance.composter.ResetToPool();
				instance.composter = null;
			}
			if (instance.modularVehicle != null)
			{
				instance.modularVehicle.ResetToPool();
				instance.modularVehicle = null;
			}
			if (instance.modularCar != null)
			{
				instance.modularCar.ResetToPool();
				instance.modularCar = null;
			}
			if (instance.simpleUID != null)
			{
				instance.simpleUID.ResetToPool();
				instance.simpleUID = null;
			}
			if (instance.vehicleLift != null)
			{
				instance.vehicleLift.ResetToPool();
				instance.vehicleLift = null;
			}
			if (instance.engineStorage != null)
			{
				instance.engineStorage.ResetToPool();
				instance.engineStorage = null;
			}
			if (instance.vehicleVendor != null)
			{
				instance.vehicleVendor.ResetToPool();
				instance.vehicleVendor = null;
			}
			if (instance.WaterPool != null)
			{
				instance.WaterPool.ResetToPool();
				instance.WaterPool = null;
			}
			if (instance.photo != null)
			{
				instance.photo.ResetToPool();
				instance.photo = null;
			}
			if (instance.photoFrame != null)
			{
				instance.photoFrame.ResetToPool();
				instance.photoFrame = null;
			}
			if (instance.vehicleModule != null)
			{
				instance.vehicleModule.ResetToPool();
				instance.vehicleModule = null;
			}
			if (instance.mixingTable != null)
			{
				instance.mixingTable.ResetToPool();
				instance.mixingTable = null;
			}
			if (instance.shopKeeper != null)
			{
				instance.shopKeeper.ResetToPool();
				instance.shopKeeper = null;
			}
			if (instance.elevator != null)
			{
				instance.elevator.ResetToPool();
				instance.elevator = null;
			}
			if (instance.skullTrophy != null)
			{
				instance.skullTrophy.ResetToPool();
				instance.skullTrophy = null;
			}
			if (instance.cassette != null)
			{
				instance.cassette.ResetToPool();
				instance.cassette = null;
			}
			if (instance.telephone != null)
			{
				instance.telephone.ResetToPool();
				instance.telephone = null;
			}
			if (instance.boomBox != null)
			{
				instance.boomBox.ResetToPool();
				instance.boomBox = null;
			}
			if (instance.neonSign != null)
			{
				instance.neonSign.ResetToPool();
				instance.neonSign = null;
			}
			if (instance.subEntityList != null)
			{
				instance.subEntityList.ResetToPool();
				instance.subEntityList = null;
			}
			if (instance.marketTerminal != null)
			{
				instance.marketTerminal.ResetToPool();
				instance.marketTerminal = null;
			}
			if (instance.deliveryDrone != null)
			{
				instance.deliveryDrone.ResetToPool();
				instance.deliveryDrone = null;
			}
			if (instance.reclaimTerminal != null)
			{
				instance.reclaimTerminal.ResetToPool();
				instance.reclaimTerminal = null;
			}
			if (instance.slotMachine != null)
			{
				instance.slotMachine.ResetToPool();
				instance.slotMachine = null;
			}
			if (instance.trainEngine != null)
			{
				instance.trainEngine.ResetToPool();
				instance.trainEngine = null;
			}
			if (instance.cardGame != null)
			{
				instance.cardGame.ResetToPool();
				instance.cardGame = null;
			}
			if (instance.crane != null)
			{
				instance.crane.ResetToPool();
				instance.crane = null;
			}
			if (instance.connectedSpeaker != null)
			{
				instance.connectedSpeaker.ResetToPool();
				instance.connectedSpeaker = null;
			}
			if (instance.audioEntity != null)
			{
				instance.audioEntity.ResetToPool();
				instance.audioEntity = null;
			}
			if (instance.microphoneStand != null)
			{
				instance.microphoneStand.ResetToPool();
				instance.microphoneStand = null;
			}
			if (instance.submarine != null)
			{
				instance.submarine.ResetToPool();
				instance.submarine = null;
			}
			if (instance.sleepingBagCamper != null)
			{
				instance.sleepingBagCamper.ResetToPool();
				instance.sleepingBagCamper = null;
			}
			if (instance.camperModule != null)
			{
				instance.camperModule.ResetToPool();
				instance.camperModule = null;
			}
			if (instance.paintableSign != null)
			{
				instance.paintableSign.ResetToPool();
				instance.paintableSign = null;
			}
			if (instance.whitelist != null)
			{
				instance.whitelist.ResetToPool();
				instance.whitelist = null;
			}
			if (instance.FrankensteinTable != null)
			{
				instance.FrankensteinTable.ResetToPool();
				instance.FrankensteinTable = null;
			}
			if (instance.mlrs != null)
			{
				instance.mlrs.ResetToPool();
				instance.mlrs = null;
			}
			if (instance.reclaimManager != null)
			{
				instance.reclaimManager.ResetToPool();
				instance.reclaimManager = null;
			}
			if (instance.gameMode != null)
			{
				instance.gameMode.ResetToPool();
				instance.gameMode = null;
			}
			if (instance.snowmobile != null)
			{
				instance.snowmobile.ResetToPool();
				instance.snowmobile = null;
			}
			instance.createdThisFrame = false;
			if (instance.patternFirework != null)
			{
				instance.patternFirework.ResetToPool();
				instance.patternFirework = null;
			}
			if (instance.cargoPlane != null)
			{
				instance.cargoPlane.ResetToPool();
				instance.cargoPlane = null;
			}
			if (instance.paintedItem != null)
			{
				instance.paintedItem.ResetToPool();
				instance.paintedItem = null;
			}
			if (instance.clanManager != null)
			{
				instance.clanManager.ResetToPool();
				instance.clanManager = null;
			}
			if (instance.spray != null)
			{
				instance.spray.ResetToPool();
				instance.spray = null;
			}
			if (instance.baseTrain != null)
			{
				instance.baseTrain.ResetToPool();
				instance.baseTrain = null;
			}
			if (instance.zipline != null)
			{
				instance.zipline.ResetToPool();
				instance.zipline = null;
			}
			if (instance.ziplineMountable != null)
			{
				instance.ziplineMountable.ResetToPool();
				instance.ziplineMountable = null;
			}
			if (instance.ZiplineArrival != null)
			{
				instance.ZiplineArrival.ResetToPool();
				instance.ZiplineArrival = null;
			}
			if (instance.sprayLine != null)
			{
				instance.sprayLine.ResetToPool();
				instance.sprayLine = null;
			}
			if (instance.coalingTower != null)
			{
				instance.coalingTower.ResetToPool();
				instance.coalingTower = null;
			}
			if (instance.simpleInt != null)
			{
				instance.simpleInt.ResetToPool();
				instance.simpleInt = null;
			}
			if (instance.baseOven != null)
			{
				instance.baseOven.ResetToPool();
				instance.baseOven = null;
			}
			if (instance.brainComponent != null)
			{
				instance.brainComponent.ResetToPool();
				instance.brainComponent = null;
			}
			if (instance.proceduralDungeon != null)
			{
				instance.proceduralDungeon.ResetToPool();
				instance.proceduralDungeon = null;
			}
			if (instance.industrialConveyor != null)
			{
				instance.industrialConveyor.ResetToPool();
				instance.industrialConveyor = null;
			}
			if (instance.industrialCrafter != null)
			{
				instance.industrialCrafter.ResetToPool();
				instance.industrialCrafter = null;
			}
			if (instance.drone != null)
			{
				instance.drone.ResetToPool();
				instance.drone = null;
			}
			if (instance.explosive != null)
			{
				instance.explosive.ResetToPool();
				instance.explosive = null;
			}
			if (instance.simpleUint != null)
			{
				instance.simpleUint.ResetToPool();
				instance.simpleUint = null;
			}
			if (instance.weaponRack != null)
			{
				instance.weaponRack.ResetToPool();
				instance.weaponRack = null;
			}
			if (instance.attackHeli != null)
			{
				instance.attackHeli.ResetToPool();
				instance.attackHeli = null;
			}
			if (instance.attackHeliTurret != null)
			{
				instance.attackHeliTurret.ResetToPool();
				instance.attackHeliTurret = null;
			}
			if (instance.attackHeliRockets != null)
			{
				instance.attackHeliRockets.ResetToPool();
				instance.attackHeliRockets = null;
			}
			if (instance.baseBoat != null)
			{
				instance.baseBoat.ResetToPool();
				instance.baseBoat = null;
			}
			if (instance.ragdoll != null)
			{
				instance.ragdoll.ResetToPool();
				instance.ragdoll = null;
			}
			if (instance.dieselEngine != null)
			{
				instance.dieselEngine.ResetToPool();
				instance.dieselEngine = null;
			}
			if (instance.associatedFiles != null)
			{
				instance.associatedFiles.ResetToPool();
				instance.associatedFiles = null;
			}
			if (instance.nexusFerry != null)
			{
				instance.nexusFerry.ResetToPool();
				instance.nexusFerry = null;
			}
			if (instance.nexusIsland != null)
			{
				instance.nexusIsland.ResetToPool();
				instance.nexusIsland = null;
			}
			if (instance.nexusDockTerminal != null)
			{
				instance.nexusDockTerminal.ResetToPool();
				instance.nexusDockTerminal = null;
			}
			if (instance.rockingChair != null)
			{
				instance.rockingChair.ResetToPool();
				instance.rockingChair = null;
			}
			if (instance.headData != null)
			{
				instance.headData.ResetToPool();
				instance.headData = null;
			}
			if (instance.wantedPoster != null)
			{
				instance.wantedPoster.ResetToPool();
				instance.wantedPoster = null;
			}
			if (instance.waypointRace != null)
			{
				instance.waypointRace.ResetToPool();
				instance.waypointRace = null;
			}
			if (instance.legacyShelter != null)
			{
				instance.legacyShelter.ResetToPool();
				instance.legacyShelter = null;
			}
			if (instance.metalDetectorSource != null)
			{
				instance.metalDetectorSource.ResetToPool();
				instance.metalDetectorSource = null;
			}
			if (instance.tutorialIsland != null)
			{
				instance.tutorialIsland.ResetToPool();
				instance.tutorialIsland = null;
			}
			if (instance.cinematicEntity != null)
			{
				instance.cinematicEntity.ResetToPool();
				instance.cinematicEntity = null;
			}
			if (instance.buildingPrivilegeRetro != null)
			{
				instance.buildingPrivilegeRetro.ResetToPool();
				instance.buildingPrivilegeRetro = null;
			}
			if (instance.harborCrane != null)
			{
				instance.harborCrane.ResetToPool();
				instance.harborCrane = null;
			}
			if (instance.cargoShip != null)
			{
				instance.cargoShip.ResetToPool();
				instance.cargoShip = null;
			}
			if (instance.cargoShipContainer != null)
			{
				instance.cargoShipContainer.ResetToPool();
				instance.cargoShipContainer = null;
			}
			if (instance.missionMapMarker != null)
			{
				instance.missionMapMarker.ResetToPool();
				instance.missionMapMarker = null;
			}
			if (instance.bike != null)
			{
				instance.bike.ResetToPool();
				instance.bike = null;
			}
			if (instance.diverPropulsionVehicle != null)
			{
				instance.diverPropulsionVehicle.ResetToPool();
				instance.diverPropulsionVehicle = null;
			}
			if (instance.travellingVendor != null)
			{
				instance.travellingVendor.ResetToPool();
				instance.travellingVendor = null;
			}
			if (instance.vendingDynamicPricing != null)
			{
				instance.vendingDynamicPricing.ResetToPool();
				instance.vendingDynamicPricing = null;
			}
			if (instance.tinCanAlarm != null)
			{
				instance.tinCanAlarm.ResetToPool();
				instance.tinCanAlarm = null;
			}
			if (instance.digitalClock != null)
			{
				instance.digitalClock.ResetToPool();
				instance.digitalClock = null;
			}
			if (instance.elevatorLift != null)
			{
				instance.elevatorLift.ResetToPool();
				instance.elevatorLift = null;
			}
			if (instance.npcVendingMachine != null)
			{
				instance.npcVendingMachine.ResetToPool();
				instance.npcVendingMachine = null;
			}
			if (instance.mailbox != null)
			{
				instance.mailbox.ResetToPool();
				instance.mailbox = null;
			}
			if (instance.projectileWeaponMod != null)
			{
				instance.projectileWeaponMod.ResetToPool();
				instance.projectileWeaponMod = null;
			}
			if (instance.baseSculpture != null)
			{
				instance.baseSculpture.ResetToPool();
				instance.baseSculpture = null;
			}
			if (instance.vendingMachineStats != null)
			{
				instance.vendingMachineStats.ResetToPool();
				instance.vendingMachineStats = null;
			}
			if (instance.catapult != null)
			{
				instance.catapult.ResetToPool();
				instance.catapult = null;
			}
			if (instance.siegeTower != null)
			{
				instance.siegeTower.ResetToPool();
				instance.siegeTower = null;
			}
			if (instance.ballista != null)
			{
				instance.ballista.ResetToPool();
				instance.ballista = null;
			}
			if (instance.ballistaGun != null)
			{
				instance.ballistaGun.ResetToPool();
				instance.ballistaGun = null;
			}
			if (instance.batteringRam != null)
			{
				instance.batteringRam.ResetToPool();
				instance.batteringRam = null;
			}
			if (instance.temporaryRagdoll != null)
			{
				instance.temporaryRagdoll.ResetToPool();
				instance.temporaryRagdoll = null;
			}
			if (instance.constructableEntity != null)
			{
				instance.constructableEntity.ResetToPool();
				instance.constructableEntity = null;
			}
			if (instance.chickenCoop != null)
			{
				instance.chickenCoop.ResetToPool();
				instance.chickenCoop = null;
			}
			if (instance.farmableAnimal != null)
			{
				instance.farmableAnimal.ResetToPool();
				instance.farmableAnimal = null;
			}
			if (instance.ownership != null)
			{
				instance.ownership.ResetToPool();
				instance.ownership = null;
			}
			if (instance.beehive != null)
			{
				instance.beehive.ResetToPool();
				instance.beehive = null;
			}
			if (instance.beeMasterSwarm != null)
			{
				instance.beeMasterSwarm.ResetToPool();
				instance.beeMasterSwarm = null;
			}
			if (instance.containerCorpse != null)
			{
				instance.containerCorpse.ResetToPool();
				instance.containerCorpse = null;
			}
			if (instance.npcSensesState != null)
			{
				instance.npcSensesState.ResetToPool();
				instance.npcSensesState = null;
			}
			if (instance.vineMountable != null)
			{
				instance.vineMountable.ResetToPool();
				instance.vineMountable = null;
			}
			if (instance.vineTree != null)
			{
				instance.vineTree.ResetToPool();
				instance.vineTree = null;
			}
			if (instance.treeRespawn != null)
			{
				instance.treeRespawn.ResetToPool();
				instance.treeRespawn = null;
			}
			if (instance.wallpaperTool != null)
			{
				instance.wallpaperTool.ResetToPool();
				instance.wallpaperTool = null;
			}
			if (instance.commandBlock != null)
			{
				instance.commandBlock.ResetToPool();
				instance.commandBlock = null;
			}
			if (instance.staticRespawn != null)
			{
				instance.staticRespawn.ResetToPool();
				instance.staticRespawn = null;
			}
			if (instance.buriedItemStorage != null)
			{
				instance.buriedItemStorage.ResetToPool();
				instance.buriedItemStorage = null;
			}
			if (instance.mannequin != null)
			{
				instance.mannequin.ResetToPool();
				instance.mannequin = null;
			}
			Pool.Free<Entity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Entity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Entity instance)
	{
		if (baseNetworkable != null)
		{
			if (instance.baseNetworkable == null)
			{
				instance.baseNetworkable = baseNetworkable.Copy();
			}
			else
			{
				baseNetworkable.CopyTo(instance.baseNetworkable);
			}
		}
		else
		{
			instance.baseNetworkable = null;
		}
		if (baseEntity != null)
		{
			if (instance.baseEntity == null)
			{
				instance.baseEntity = baseEntity.Copy();
			}
			else
			{
				baseEntity.CopyTo(instance.baseEntity);
			}
		}
		else
		{
			instance.baseEntity = null;
		}
		if (basePlayer != null)
		{
			if (instance.basePlayer == null)
			{
				instance.basePlayer = basePlayer.Copy();
			}
			else
			{
				basePlayer.CopyTo(instance.basePlayer);
			}
		}
		else
		{
			instance.basePlayer = null;
		}
		if (worldItem != null)
		{
			if (instance.worldItem == null)
			{
				instance.worldItem = worldItem.Copy();
			}
			else
			{
				worldItem.CopyTo(instance.worldItem);
			}
		}
		else
		{
			instance.worldItem = null;
		}
		if (resource != null)
		{
			if (instance.resource == null)
			{
				instance.resource = resource.Copy();
			}
			else
			{
				resource.CopyTo(instance.resource);
			}
		}
		else
		{
			instance.resource = null;
		}
		if (buildingBlock != null)
		{
			if (instance.buildingBlock == null)
			{
				instance.buildingBlock = buildingBlock.Copy();
			}
			else
			{
				buildingBlock.CopyTo(instance.buildingBlock);
			}
		}
		else
		{
			instance.buildingBlock = null;
		}
		if (environment != null)
		{
			if (instance.environment == null)
			{
				instance.environment = environment.Copy();
			}
			else
			{
				environment.CopyTo(instance.environment);
			}
		}
		else
		{
			instance.environment = null;
		}
		if (corpse != null)
		{
			if (instance.corpse == null)
			{
				instance.corpse = corpse.Copy();
			}
			else
			{
				corpse.CopyTo(instance.corpse);
			}
		}
		else
		{
			instance.corpse = null;
		}
		if (parent != null)
		{
			if (instance.parent == null)
			{
				instance.parent = parent.Copy();
			}
			else
			{
				parent.CopyTo(instance.parent);
			}
		}
		else
		{
			instance.parent = null;
		}
		if (keyLock != null)
		{
			if (instance.keyLock == null)
			{
				instance.keyLock = keyLock.Copy();
			}
			else
			{
				keyLock.CopyTo(instance.keyLock);
			}
		}
		else
		{
			instance.keyLock = null;
		}
		if (codeLock != null)
		{
			if (instance.codeLock == null)
			{
				instance.codeLock = codeLock.Copy();
			}
			else
			{
				codeLock.CopyTo(instance.codeLock);
			}
		}
		else
		{
			instance.codeLock = null;
		}
		if (entitySlots != null)
		{
			if (instance.entitySlots == null)
			{
				instance.entitySlots = entitySlots.Copy();
			}
			else
			{
				entitySlots.CopyTo(instance.entitySlots);
			}
		}
		else
		{
			instance.entitySlots = null;
		}
		if (buildingPrivilege != null)
		{
			if (instance.buildingPrivilege == null)
			{
				instance.buildingPrivilege = buildingPrivilege.Copy();
			}
			else
			{
				buildingPrivilege.CopyTo(instance.buildingPrivilege);
			}
		}
		else
		{
			instance.buildingPrivilege = null;
		}
		if (storageBox != null)
		{
			if (instance.storageBox == null)
			{
				instance.storageBox = storageBox.Copy();
			}
			else
			{
				storageBox.CopyTo(instance.storageBox);
			}
		}
		else
		{
			instance.storageBox = null;
		}
		if (heldEntity != null)
		{
			if (instance.heldEntity == null)
			{
				instance.heldEntity = heldEntity.Copy();
			}
			else
			{
				heldEntity.CopyTo(instance.heldEntity);
			}
		}
		else
		{
			instance.heldEntity = null;
		}
		if (baseProjectile != null)
		{
			if (instance.baseProjectile == null)
			{
				instance.baseProjectile = baseProjectile.Copy();
			}
			else
			{
				baseProjectile.CopyTo(instance.baseProjectile);
			}
		}
		else
		{
			instance.baseProjectile = null;
		}
		if (baseNPC != null)
		{
			if (instance.baseNPC == null)
			{
				instance.baseNPC = baseNPC.Copy();
			}
			else
			{
				baseNPC.CopyTo(instance.baseNPC);
			}
		}
		else
		{
			instance.baseNPC = null;
		}
		if (loot != null)
		{
			if (instance.loot == null)
			{
				instance.loot = loot.Copy();
			}
			else
			{
				loot.CopyTo(instance.loot);
			}
		}
		else
		{
			instance.loot = null;
		}
		if (genericSpawner != null)
		{
			if (instance.genericSpawner == null)
			{
				instance.genericSpawner = genericSpawner.Copy();
			}
			else
			{
				genericSpawner.CopyTo(instance.genericSpawner);
			}
		}
		else
		{
			instance.genericSpawner = null;
		}
		if (sleepingBag != null)
		{
			if (instance.sleepingBag == null)
			{
				instance.sleepingBag = sleepingBag.Copy();
			}
			else
			{
				sleepingBag.CopyTo(instance.sleepingBag);
			}
		}
		else
		{
			instance.sleepingBag = null;
		}
		if (lootableCorpse != null)
		{
			if (instance.lootableCorpse == null)
			{
				instance.lootableCorpse = lootableCorpse.Copy();
			}
			else
			{
				lootableCorpse.CopyTo(instance.lootableCorpse);
			}
		}
		else
		{
			instance.lootableCorpse = null;
		}
		if (sign != null)
		{
			if (instance.sign == null)
			{
				instance.sign = sign.Copy();
			}
			else
			{
				sign.CopyTo(instance.sign);
			}
		}
		else
		{
			instance.sign = null;
		}
		if (baseCombat != null)
		{
			if (instance.baseCombat == null)
			{
				instance.baseCombat = baseCombat.Copy();
			}
			else
			{
				baseCombat.CopyTo(instance.baseCombat);
			}
		}
		else
		{
			instance.baseCombat = null;
		}
		if (mapEntity != null)
		{
			if (instance.mapEntity == null)
			{
				instance.mapEntity = mapEntity.Copy();
			}
			else
			{
				mapEntity.CopyTo(instance.mapEntity);
			}
		}
		else
		{
			instance.mapEntity = null;
		}
		if (researchTable != null)
		{
			if (instance.researchTable == null)
			{
				instance.researchTable = researchTable.Copy();
			}
			else
			{
				researchTable.CopyTo(instance.researchTable);
			}
		}
		else
		{
			instance.researchTable = null;
		}
		if (dudExplosive != null)
		{
			if (instance.dudExplosive == null)
			{
				instance.dudExplosive = dudExplosive.Copy();
			}
			else
			{
				dudExplosive.CopyTo(instance.dudExplosive);
			}
		}
		else
		{
			instance.dudExplosive = null;
		}
		if (miningQuarry != null)
		{
			if (instance.miningQuarry == null)
			{
				instance.miningQuarry = miningQuarry.Copy();
			}
			else
			{
				miningQuarry.CopyTo(instance.miningQuarry);
			}
		}
		else
		{
			instance.miningQuarry = null;
		}
		if (baseVehicle != null)
		{
			if (instance.baseVehicle == null)
			{
				instance.baseVehicle = baseVehicle.Copy();
			}
			else
			{
				baseVehicle.CopyTo(instance.baseVehicle);
			}
		}
		else
		{
			instance.baseVehicle = null;
		}
		if (helicopter != null)
		{
			if (instance.helicopter == null)
			{
				instance.helicopter = helicopter.Copy();
			}
			else
			{
				helicopter.CopyTo(instance.helicopter);
			}
		}
		else
		{
			instance.helicopter = null;
		}
		if (landmine != null)
		{
			if (instance.landmine == null)
			{
				instance.landmine = landmine.Copy();
			}
			else
			{
				landmine.CopyTo(instance.landmine);
			}
		}
		else
		{
			instance.landmine = null;
		}
		if (autoturret != null)
		{
			if (instance.autoturret == null)
			{
				instance.autoturret = autoturret.Copy();
			}
			else
			{
				autoturret.CopyTo(instance.autoturret);
			}
		}
		else
		{
			instance.autoturret = null;
		}
		if (sphereEntity != null)
		{
			if (instance.sphereEntity == null)
			{
				instance.sphereEntity = sphereEntity.Copy();
			}
			else
			{
				sphereEntity.CopyTo(instance.sphereEntity);
			}
		}
		else
		{
			instance.sphereEntity = null;
		}
		if (stabilityEntity != null)
		{
			if (instance.stabilityEntity == null)
			{
				instance.stabilityEntity = stabilityEntity.Copy();
			}
			else
			{
				stabilityEntity.CopyTo(instance.stabilityEntity);
			}
		}
		else
		{
			instance.stabilityEntity = null;
		}
		if (ownerInfo != null)
		{
			if (instance.ownerInfo == null)
			{
				instance.ownerInfo = ownerInfo.Copy();
			}
			else
			{
				ownerInfo.CopyTo(instance.ownerInfo);
			}
		}
		else
		{
			instance.ownerInfo = null;
		}
		if (decayEntity != null)
		{
			if (instance.decayEntity == null)
			{
				instance.decayEntity = decayEntity.Copy();
			}
			else
			{
				decayEntity.CopyTo(instance.decayEntity);
			}
		}
		else
		{
			instance.decayEntity = null;
		}
		if (spawnable != null)
		{
			if (instance.spawnable == null)
			{
				instance.spawnable = spawnable.Copy();
			}
			else
			{
				spawnable.CopyTo(instance.spawnable);
			}
		}
		else
		{
			instance.spawnable = null;
		}
		if (servergib != null)
		{
			if (instance.servergib == null)
			{
				instance.servergib = servergib.Copy();
			}
			else
			{
				servergib.CopyTo(instance.servergib);
			}
		}
		else
		{
			instance.servergib = null;
		}
		if (vendingMachine != null)
		{
			if (instance.vendingMachine == null)
			{
				instance.vendingMachine = vendingMachine.Copy();
			}
			else
			{
				vendingMachine.CopyTo(instance.vendingMachine);
			}
		}
		else
		{
			instance.vendingMachine = null;
		}
		if (spinnerWheel != null)
		{
			if (instance.spinnerWheel == null)
			{
				instance.spinnerWheel = spinnerWheel.Copy();
			}
			else
			{
				spinnerWheel.CopyTo(instance.spinnerWheel);
			}
		}
		else
		{
			instance.spinnerWheel = null;
		}
		if (lift != null)
		{
			if (instance.lift == null)
			{
				instance.lift = lift.Copy();
			}
			else
			{
				lift.CopyTo(instance.lift);
			}
		}
		else
		{
			instance.lift = null;
		}
		if (bradley != null)
		{
			if (instance.bradley == null)
			{
				instance.bradley = bradley.Copy();
			}
			else
			{
				bradley.CopyTo(instance.bradley);
			}
		}
		else
		{
			instance.bradley = null;
		}
		if (waterwell != null)
		{
			if (instance.waterwell == null)
			{
				instance.waterwell = waterwell.Copy();
			}
			else
			{
				waterwell.CopyTo(instance.waterwell);
			}
		}
		else
		{
			instance.waterwell = null;
		}
		if (motorBoat != null)
		{
			if (instance.motorBoat == null)
			{
				instance.motorBoat = motorBoat.Copy();
			}
			else
			{
				motorBoat.CopyTo(instance.motorBoat);
			}
		}
		else
		{
			instance.motorBoat = null;
		}
		if (ioEntity != null)
		{
			if (instance.ioEntity == null)
			{
				instance.ioEntity = ioEntity.Copy();
			}
			else
			{
				ioEntity.CopyTo(instance.ioEntity);
			}
		}
		else
		{
			instance.ioEntity = null;
		}
		if (puzzleReset != null)
		{
			if (instance.puzzleReset == null)
			{
				instance.puzzleReset = puzzleReset.Copy();
			}
			else
			{
				puzzleReset.CopyTo(instance.puzzleReset);
			}
		}
		else
		{
			instance.puzzleReset = null;
		}
		if (relationshipManager != null)
		{
			if (instance.relationshipManager == null)
			{
				instance.relationshipManager = relationshipManager.Copy();
			}
			else
			{
				relationshipManager.CopyTo(instance.relationshipManager);
			}
		}
		else
		{
			instance.relationshipManager = null;
		}
		if (hotAirBalloon != null)
		{
			if (instance.hotAirBalloon == null)
			{
				instance.hotAirBalloon = hotAirBalloon.Copy();
			}
			else
			{
				hotAirBalloon.CopyTo(instance.hotAirBalloon);
			}
		}
		else
		{
			instance.hotAirBalloon = null;
		}
		if (samSite != null)
		{
			if (instance.samSite == null)
			{
				instance.samSite = samSite.Copy();
			}
			else
			{
				samSite.CopyTo(instance.samSite);
			}
		}
		else
		{
			instance.samSite = null;
		}
		if (eggHunt != null)
		{
			if (instance.eggHunt == null)
			{
				instance.eggHunt = eggHunt.Copy();
			}
			else
			{
				eggHunt.CopyTo(instance.eggHunt);
			}
		}
		else
		{
			instance.eggHunt = null;
		}
		if (arcadeMachine != null)
		{
			if (instance.arcadeMachine == null)
			{
				instance.arcadeMachine = arcadeMachine.Copy();
			}
			else
			{
				arcadeMachine.CopyTo(instance.arcadeMachine);
			}
		}
		else
		{
			instance.arcadeMachine = null;
		}
		if (miniCopter != null)
		{
			if (instance.miniCopter == null)
			{
				instance.miniCopter = miniCopter.Copy();
			}
			else
			{
				miniCopter.CopyTo(instance.miniCopter);
			}
		}
		else
		{
			instance.miniCopter = null;
		}
		if (horse != null)
		{
			if (instance.horse == null)
			{
				instance.horse = horse.Copy();
			}
			else
			{
				horse.CopyTo(instance.horse);
			}
		}
		else
		{
			instance.horse = null;
		}
		if (smartAlarm != null)
		{
			if (instance.smartAlarm == null)
			{
				instance.smartAlarm = smartAlarm.Copy();
			}
			else
			{
				smartAlarm.CopyTo(instance.smartAlarm);
			}
		}
		else
		{
			instance.smartAlarm = null;
		}
		if (lightString != null)
		{
			if (instance.lightString == null)
			{
				instance.lightString = lightString.Copy();
			}
			else
			{
				lightString.CopyTo(instance.lightString);
			}
		}
		else
		{
			instance.lightString = null;
		}
		if (lightDeployer != null)
		{
			if (instance.lightDeployer == null)
			{
				instance.lightDeployer = lightDeployer.Copy();
			}
			else
			{
				lightDeployer.CopyTo(instance.lightDeployer);
			}
		}
		else
		{
			instance.lightDeployer = null;
		}
		if (rcEntity != null)
		{
			if (instance.rcEntity == null)
			{
				instance.rcEntity = rcEntity.Copy();
			}
			else
			{
				rcEntity.CopyTo(instance.rcEntity);
			}
		}
		else
		{
			instance.rcEntity = null;
		}
		if (computerStation != null)
		{
			if (instance.computerStation == null)
			{
				instance.computerStation = computerStation.Copy();
			}
			else
			{
				computerStation.CopyTo(instance.computerStation);
			}
		}
		else
		{
			instance.computerStation = null;
		}
		if (growableEntity != null)
		{
			if (instance.growableEntity == null)
			{
				instance.growableEntity = growableEntity.Copy();
			}
			else
			{
				growableEntity.CopyTo(instance.growableEntity);
			}
		}
		else
		{
			instance.growableEntity = null;
		}
		if (composter != null)
		{
			if (instance.composter == null)
			{
				instance.composter = composter.Copy();
			}
			else
			{
				composter.CopyTo(instance.composter);
			}
		}
		else
		{
			instance.composter = null;
		}
		if (modularVehicle != null)
		{
			if (instance.modularVehicle == null)
			{
				instance.modularVehicle = modularVehicle.Copy();
			}
			else
			{
				modularVehicle.CopyTo(instance.modularVehicle);
			}
		}
		else
		{
			instance.modularVehicle = null;
		}
		if (modularCar != null)
		{
			if (instance.modularCar == null)
			{
				instance.modularCar = modularCar.Copy();
			}
			else
			{
				modularCar.CopyTo(instance.modularCar);
			}
		}
		else
		{
			instance.modularCar = null;
		}
		if (simpleUID != null)
		{
			if (instance.simpleUID == null)
			{
				instance.simpleUID = simpleUID.Copy();
			}
			else
			{
				simpleUID.CopyTo(instance.simpleUID);
			}
		}
		else
		{
			instance.simpleUID = null;
		}
		if (vehicleLift != null)
		{
			if (instance.vehicleLift == null)
			{
				instance.vehicleLift = vehicleLift.Copy();
			}
			else
			{
				vehicleLift.CopyTo(instance.vehicleLift);
			}
		}
		else
		{
			instance.vehicleLift = null;
		}
		if (engineStorage != null)
		{
			if (instance.engineStorage == null)
			{
				instance.engineStorage = engineStorage.Copy();
			}
			else
			{
				engineStorage.CopyTo(instance.engineStorage);
			}
		}
		else
		{
			instance.engineStorage = null;
		}
		if (vehicleVendor != null)
		{
			if (instance.vehicleVendor == null)
			{
				instance.vehicleVendor = vehicleVendor.Copy();
			}
			else
			{
				vehicleVendor.CopyTo(instance.vehicleVendor);
			}
		}
		else
		{
			instance.vehicleVendor = null;
		}
		if (WaterPool != null)
		{
			if (instance.WaterPool == null)
			{
				instance.WaterPool = WaterPool.Copy();
			}
			else
			{
				WaterPool.CopyTo(instance.WaterPool);
			}
		}
		else
		{
			instance.WaterPool = null;
		}
		if (photo != null)
		{
			if (instance.photo == null)
			{
				instance.photo = photo.Copy();
			}
			else
			{
				photo.CopyTo(instance.photo);
			}
		}
		else
		{
			instance.photo = null;
		}
		if (photoFrame != null)
		{
			if (instance.photoFrame == null)
			{
				instance.photoFrame = photoFrame.Copy();
			}
			else
			{
				photoFrame.CopyTo(instance.photoFrame);
			}
		}
		else
		{
			instance.photoFrame = null;
		}
		if (vehicleModule != null)
		{
			if (instance.vehicleModule == null)
			{
				instance.vehicleModule = vehicleModule.Copy();
			}
			else
			{
				vehicleModule.CopyTo(instance.vehicleModule);
			}
		}
		else
		{
			instance.vehicleModule = null;
		}
		if (mixingTable != null)
		{
			if (instance.mixingTable == null)
			{
				instance.mixingTable = mixingTable.Copy();
			}
			else
			{
				mixingTable.CopyTo(instance.mixingTable);
			}
		}
		else
		{
			instance.mixingTable = null;
		}
		if (shopKeeper != null)
		{
			if (instance.shopKeeper == null)
			{
				instance.shopKeeper = shopKeeper.Copy();
			}
			else
			{
				shopKeeper.CopyTo(instance.shopKeeper);
			}
		}
		else
		{
			instance.shopKeeper = null;
		}
		if (elevator != null)
		{
			if (instance.elevator == null)
			{
				instance.elevator = elevator.Copy();
			}
			else
			{
				elevator.CopyTo(instance.elevator);
			}
		}
		else
		{
			instance.elevator = null;
		}
		if (skullTrophy != null)
		{
			if (instance.skullTrophy == null)
			{
				instance.skullTrophy = skullTrophy.Copy();
			}
			else
			{
				skullTrophy.CopyTo(instance.skullTrophy);
			}
		}
		else
		{
			instance.skullTrophy = null;
		}
		if (cassette != null)
		{
			if (instance.cassette == null)
			{
				instance.cassette = cassette.Copy();
			}
			else
			{
				cassette.CopyTo(instance.cassette);
			}
		}
		else
		{
			instance.cassette = null;
		}
		if (telephone != null)
		{
			if (instance.telephone == null)
			{
				instance.telephone = telephone.Copy();
			}
			else
			{
				telephone.CopyTo(instance.telephone);
			}
		}
		else
		{
			instance.telephone = null;
		}
		if (boomBox != null)
		{
			if (instance.boomBox == null)
			{
				instance.boomBox = boomBox.Copy();
			}
			else
			{
				boomBox.CopyTo(instance.boomBox);
			}
		}
		else
		{
			instance.boomBox = null;
		}
		if (neonSign != null)
		{
			if (instance.neonSign == null)
			{
				instance.neonSign = neonSign.Copy();
			}
			else
			{
				neonSign.CopyTo(instance.neonSign);
			}
		}
		else
		{
			instance.neonSign = null;
		}
		if (subEntityList != null)
		{
			if (instance.subEntityList == null)
			{
				instance.subEntityList = subEntityList.Copy();
			}
			else
			{
				subEntityList.CopyTo(instance.subEntityList);
			}
		}
		else
		{
			instance.subEntityList = null;
		}
		if (marketTerminal != null)
		{
			if (instance.marketTerminal == null)
			{
				instance.marketTerminal = marketTerminal.Copy();
			}
			else
			{
				marketTerminal.CopyTo(instance.marketTerminal);
			}
		}
		else
		{
			instance.marketTerminal = null;
		}
		if (deliveryDrone != null)
		{
			if (instance.deliveryDrone == null)
			{
				instance.deliveryDrone = deliveryDrone.Copy();
			}
			else
			{
				deliveryDrone.CopyTo(instance.deliveryDrone);
			}
		}
		else
		{
			instance.deliveryDrone = null;
		}
		if (reclaimTerminal != null)
		{
			if (instance.reclaimTerminal == null)
			{
				instance.reclaimTerminal = reclaimTerminal.Copy();
			}
			else
			{
				reclaimTerminal.CopyTo(instance.reclaimTerminal);
			}
		}
		else
		{
			instance.reclaimTerminal = null;
		}
		if (slotMachine != null)
		{
			if (instance.slotMachine == null)
			{
				instance.slotMachine = slotMachine.Copy();
			}
			else
			{
				slotMachine.CopyTo(instance.slotMachine);
			}
		}
		else
		{
			instance.slotMachine = null;
		}
		if (trainEngine != null)
		{
			if (instance.trainEngine == null)
			{
				instance.trainEngine = trainEngine.Copy();
			}
			else
			{
				trainEngine.CopyTo(instance.trainEngine);
			}
		}
		else
		{
			instance.trainEngine = null;
		}
		if (cardGame != null)
		{
			if (instance.cardGame == null)
			{
				instance.cardGame = cardGame.Copy();
			}
			else
			{
				cardGame.CopyTo(instance.cardGame);
			}
		}
		else
		{
			instance.cardGame = null;
		}
		if (crane != null)
		{
			if (instance.crane == null)
			{
				instance.crane = crane.Copy();
			}
			else
			{
				crane.CopyTo(instance.crane);
			}
		}
		else
		{
			instance.crane = null;
		}
		if (connectedSpeaker != null)
		{
			if (instance.connectedSpeaker == null)
			{
				instance.connectedSpeaker = connectedSpeaker.Copy();
			}
			else
			{
				connectedSpeaker.CopyTo(instance.connectedSpeaker);
			}
		}
		else
		{
			instance.connectedSpeaker = null;
		}
		if (audioEntity != null)
		{
			if (instance.audioEntity == null)
			{
				instance.audioEntity = audioEntity.Copy();
			}
			else
			{
				audioEntity.CopyTo(instance.audioEntity);
			}
		}
		else
		{
			instance.audioEntity = null;
		}
		if (microphoneStand != null)
		{
			if (instance.microphoneStand == null)
			{
				instance.microphoneStand = microphoneStand.Copy();
			}
			else
			{
				microphoneStand.CopyTo(instance.microphoneStand);
			}
		}
		else
		{
			instance.microphoneStand = null;
		}
		if (submarine != null)
		{
			if (instance.submarine == null)
			{
				instance.submarine = submarine.Copy();
			}
			else
			{
				submarine.CopyTo(instance.submarine);
			}
		}
		else
		{
			instance.submarine = null;
		}
		if (sleepingBagCamper != null)
		{
			if (instance.sleepingBagCamper == null)
			{
				instance.sleepingBagCamper = sleepingBagCamper.Copy();
			}
			else
			{
				sleepingBagCamper.CopyTo(instance.sleepingBagCamper);
			}
		}
		else
		{
			instance.sleepingBagCamper = null;
		}
		if (camperModule != null)
		{
			if (instance.camperModule == null)
			{
				instance.camperModule = camperModule.Copy();
			}
			else
			{
				camperModule.CopyTo(instance.camperModule);
			}
		}
		else
		{
			instance.camperModule = null;
		}
		if (paintableSign != null)
		{
			if (instance.paintableSign == null)
			{
				instance.paintableSign = paintableSign.Copy();
			}
			else
			{
				paintableSign.CopyTo(instance.paintableSign);
			}
		}
		else
		{
			instance.paintableSign = null;
		}
		if (whitelist != null)
		{
			if (instance.whitelist == null)
			{
				instance.whitelist = whitelist.Copy();
			}
			else
			{
				whitelist.CopyTo(instance.whitelist);
			}
		}
		else
		{
			instance.whitelist = null;
		}
		if (FrankensteinTable != null)
		{
			if (instance.FrankensteinTable == null)
			{
				instance.FrankensteinTable = FrankensteinTable.Copy();
			}
			else
			{
				FrankensteinTable.CopyTo(instance.FrankensteinTable);
			}
		}
		else
		{
			instance.FrankensteinTable = null;
		}
		if (mlrs != null)
		{
			if (instance.mlrs == null)
			{
				instance.mlrs = mlrs.Copy();
			}
			else
			{
				mlrs.CopyTo(instance.mlrs);
			}
		}
		else
		{
			instance.mlrs = null;
		}
		if (reclaimManager != null)
		{
			if (instance.reclaimManager == null)
			{
				instance.reclaimManager = reclaimManager.Copy();
			}
			else
			{
				reclaimManager.CopyTo(instance.reclaimManager);
			}
		}
		else
		{
			instance.reclaimManager = null;
		}
		if (gameMode != null)
		{
			if (instance.gameMode == null)
			{
				instance.gameMode = gameMode.Copy();
			}
			else
			{
				gameMode.CopyTo(instance.gameMode);
			}
		}
		else
		{
			instance.gameMode = null;
		}
		if (snowmobile != null)
		{
			if (instance.snowmobile == null)
			{
				instance.snowmobile = snowmobile.Copy();
			}
			else
			{
				snowmobile.CopyTo(instance.snowmobile);
			}
		}
		else
		{
			instance.snowmobile = null;
		}
		instance.createdThisFrame = createdThisFrame;
		if (patternFirework != null)
		{
			if (instance.patternFirework == null)
			{
				instance.patternFirework = patternFirework.Copy();
			}
			else
			{
				patternFirework.CopyTo(instance.patternFirework);
			}
		}
		else
		{
			instance.patternFirework = null;
		}
		if (cargoPlane != null)
		{
			if (instance.cargoPlane == null)
			{
				instance.cargoPlane = cargoPlane.Copy();
			}
			else
			{
				cargoPlane.CopyTo(instance.cargoPlane);
			}
		}
		else
		{
			instance.cargoPlane = null;
		}
		if (paintedItem != null)
		{
			if (instance.paintedItem == null)
			{
				instance.paintedItem = paintedItem.Copy();
			}
			else
			{
				paintedItem.CopyTo(instance.paintedItem);
			}
		}
		else
		{
			instance.paintedItem = null;
		}
		if (clanManager != null)
		{
			if (instance.clanManager == null)
			{
				instance.clanManager = clanManager.Copy();
			}
			else
			{
				clanManager.CopyTo(instance.clanManager);
			}
		}
		else
		{
			instance.clanManager = null;
		}
		if (spray != null)
		{
			if (instance.spray == null)
			{
				instance.spray = spray.Copy();
			}
			else
			{
				spray.CopyTo(instance.spray);
			}
		}
		else
		{
			instance.spray = null;
		}
		if (baseTrain != null)
		{
			if (instance.baseTrain == null)
			{
				instance.baseTrain = baseTrain.Copy();
			}
			else
			{
				baseTrain.CopyTo(instance.baseTrain);
			}
		}
		else
		{
			instance.baseTrain = null;
		}
		if (zipline != null)
		{
			if (instance.zipline == null)
			{
				instance.zipline = zipline.Copy();
			}
			else
			{
				zipline.CopyTo(instance.zipline);
			}
		}
		else
		{
			instance.zipline = null;
		}
		if (ziplineMountable != null)
		{
			if (instance.ziplineMountable == null)
			{
				instance.ziplineMountable = ziplineMountable.Copy();
			}
			else
			{
				ziplineMountable.CopyTo(instance.ziplineMountable);
			}
		}
		else
		{
			instance.ziplineMountable = null;
		}
		if (ZiplineArrival != null)
		{
			if (instance.ZiplineArrival == null)
			{
				instance.ZiplineArrival = ZiplineArrival.Copy();
			}
			else
			{
				ZiplineArrival.CopyTo(instance.ZiplineArrival);
			}
		}
		else
		{
			instance.ZiplineArrival = null;
		}
		if (sprayLine != null)
		{
			if (instance.sprayLine == null)
			{
				instance.sprayLine = sprayLine.Copy();
			}
			else
			{
				sprayLine.CopyTo(instance.sprayLine);
			}
		}
		else
		{
			instance.sprayLine = null;
		}
		if (coalingTower != null)
		{
			if (instance.coalingTower == null)
			{
				instance.coalingTower = coalingTower.Copy();
			}
			else
			{
				coalingTower.CopyTo(instance.coalingTower);
			}
		}
		else
		{
			instance.coalingTower = null;
		}
		if (simpleInt != null)
		{
			if (instance.simpleInt == null)
			{
				instance.simpleInt = simpleInt.Copy();
			}
			else
			{
				simpleInt.CopyTo(instance.simpleInt);
			}
		}
		else
		{
			instance.simpleInt = null;
		}
		if (baseOven != null)
		{
			if (instance.baseOven == null)
			{
				instance.baseOven = baseOven.Copy();
			}
			else
			{
				baseOven.CopyTo(instance.baseOven);
			}
		}
		else
		{
			instance.baseOven = null;
		}
		if (brainComponent != null)
		{
			if (instance.brainComponent == null)
			{
				instance.brainComponent = brainComponent.Copy();
			}
			else
			{
				brainComponent.CopyTo(instance.brainComponent);
			}
		}
		else
		{
			instance.brainComponent = null;
		}
		if (proceduralDungeon != null)
		{
			if (instance.proceduralDungeon == null)
			{
				instance.proceduralDungeon = proceduralDungeon.Copy();
			}
			else
			{
				proceduralDungeon.CopyTo(instance.proceduralDungeon);
			}
		}
		else
		{
			instance.proceduralDungeon = null;
		}
		if (industrialConveyor != null)
		{
			if (instance.industrialConveyor == null)
			{
				instance.industrialConveyor = industrialConveyor.Copy();
			}
			else
			{
				industrialConveyor.CopyTo(instance.industrialConveyor);
			}
		}
		else
		{
			instance.industrialConveyor = null;
		}
		if (industrialCrafter != null)
		{
			if (instance.industrialCrafter == null)
			{
				instance.industrialCrafter = industrialCrafter.Copy();
			}
			else
			{
				industrialCrafter.CopyTo(instance.industrialCrafter);
			}
		}
		else
		{
			instance.industrialCrafter = null;
		}
		if (drone != null)
		{
			if (instance.drone == null)
			{
				instance.drone = drone.Copy();
			}
			else
			{
				drone.CopyTo(instance.drone);
			}
		}
		else
		{
			instance.drone = null;
		}
		if (explosive != null)
		{
			if (instance.explosive == null)
			{
				instance.explosive = explosive.Copy();
			}
			else
			{
				explosive.CopyTo(instance.explosive);
			}
		}
		else
		{
			instance.explosive = null;
		}
		if (simpleUint != null)
		{
			if (instance.simpleUint == null)
			{
				instance.simpleUint = simpleUint.Copy();
			}
			else
			{
				simpleUint.CopyTo(instance.simpleUint);
			}
		}
		else
		{
			instance.simpleUint = null;
		}
		if (weaponRack != null)
		{
			if (instance.weaponRack == null)
			{
				instance.weaponRack = weaponRack.Copy();
			}
			else
			{
				weaponRack.CopyTo(instance.weaponRack);
			}
		}
		else
		{
			instance.weaponRack = null;
		}
		if (attackHeli != null)
		{
			if (instance.attackHeli == null)
			{
				instance.attackHeli = attackHeli.Copy();
			}
			else
			{
				attackHeli.CopyTo(instance.attackHeli);
			}
		}
		else
		{
			instance.attackHeli = null;
		}
		if (attackHeliTurret != null)
		{
			if (instance.attackHeliTurret == null)
			{
				instance.attackHeliTurret = attackHeliTurret.Copy();
			}
			else
			{
				attackHeliTurret.CopyTo(instance.attackHeliTurret);
			}
		}
		else
		{
			instance.attackHeliTurret = null;
		}
		if (attackHeliRockets != null)
		{
			if (instance.attackHeliRockets == null)
			{
				instance.attackHeliRockets = attackHeliRockets.Copy();
			}
			else
			{
				attackHeliRockets.CopyTo(instance.attackHeliRockets);
			}
		}
		else
		{
			instance.attackHeliRockets = null;
		}
		if (baseBoat != null)
		{
			if (instance.baseBoat == null)
			{
				instance.baseBoat = baseBoat.Copy();
			}
			else
			{
				baseBoat.CopyTo(instance.baseBoat);
			}
		}
		else
		{
			instance.baseBoat = null;
		}
		if (ragdoll != null)
		{
			if (instance.ragdoll == null)
			{
				instance.ragdoll = ragdoll.Copy();
			}
			else
			{
				ragdoll.CopyTo(instance.ragdoll);
			}
		}
		else
		{
			instance.ragdoll = null;
		}
		if (dieselEngine != null)
		{
			if (instance.dieselEngine == null)
			{
				instance.dieselEngine = dieselEngine.Copy();
			}
			else
			{
				dieselEngine.CopyTo(instance.dieselEngine);
			}
		}
		else
		{
			instance.dieselEngine = null;
		}
		if (associatedFiles != null)
		{
			if (instance.associatedFiles == null)
			{
				instance.associatedFiles = associatedFiles.Copy();
			}
			else
			{
				associatedFiles.CopyTo(instance.associatedFiles);
			}
		}
		else
		{
			instance.associatedFiles = null;
		}
		if (nexusFerry != null)
		{
			if (instance.nexusFerry == null)
			{
				instance.nexusFerry = nexusFerry.Copy();
			}
			else
			{
				nexusFerry.CopyTo(instance.nexusFerry);
			}
		}
		else
		{
			instance.nexusFerry = null;
		}
		if (nexusIsland != null)
		{
			if (instance.nexusIsland == null)
			{
				instance.nexusIsland = nexusIsland.Copy();
			}
			else
			{
				nexusIsland.CopyTo(instance.nexusIsland);
			}
		}
		else
		{
			instance.nexusIsland = null;
		}
		if (nexusDockTerminal != null)
		{
			if (instance.nexusDockTerminal == null)
			{
				instance.nexusDockTerminal = nexusDockTerminal.Copy();
			}
			else
			{
				nexusDockTerminal.CopyTo(instance.nexusDockTerminal);
			}
		}
		else
		{
			instance.nexusDockTerminal = null;
		}
		if (rockingChair != null)
		{
			if (instance.rockingChair == null)
			{
				instance.rockingChair = rockingChair.Copy();
			}
			else
			{
				rockingChair.CopyTo(instance.rockingChair);
			}
		}
		else
		{
			instance.rockingChair = null;
		}
		if (headData != null)
		{
			if (instance.headData == null)
			{
				instance.headData = headData.Copy();
			}
			else
			{
				headData.CopyTo(instance.headData);
			}
		}
		else
		{
			instance.headData = null;
		}
		if (wantedPoster != null)
		{
			if (instance.wantedPoster == null)
			{
				instance.wantedPoster = wantedPoster.Copy();
			}
			else
			{
				wantedPoster.CopyTo(instance.wantedPoster);
			}
		}
		else
		{
			instance.wantedPoster = null;
		}
		if (waypointRace != null)
		{
			if (instance.waypointRace == null)
			{
				instance.waypointRace = waypointRace.Copy();
			}
			else
			{
				waypointRace.CopyTo(instance.waypointRace);
			}
		}
		else
		{
			instance.waypointRace = null;
		}
		if (legacyShelter != null)
		{
			if (instance.legacyShelter == null)
			{
				instance.legacyShelter = legacyShelter.Copy();
			}
			else
			{
				legacyShelter.CopyTo(instance.legacyShelter);
			}
		}
		else
		{
			instance.legacyShelter = null;
		}
		if (metalDetectorSource != null)
		{
			if (instance.metalDetectorSource == null)
			{
				instance.metalDetectorSource = metalDetectorSource.Copy();
			}
			else
			{
				metalDetectorSource.CopyTo(instance.metalDetectorSource);
			}
		}
		else
		{
			instance.metalDetectorSource = null;
		}
		if (tutorialIsland != null)
		{
			if (instance.tutorialIsland == null)
			{
				instance.tutorialIsland = tutorialIsland.Copy();
			}
			else
			{
				tutorialIsland.CopyTo(instance.tutorialIsland);
			}
		}
		else
		{
			instance.tutorialIsland = null;
		}
		if (cinematicEntity != null)
		{
			if (instance.cinematicEntity == null)
			{
				instance.cinematicEntity = cinematicEntity.Copy();
			}
			else
			{
				cinematicEntity.CopyTo(instance.cinematicEntity);
			}
		}
		else
		{
			instance.cinematicEntity = null;
		}
		if (buildingPrivilegeRetro != null)
		{
			if (instance.buildingPrivilegeRetro == null)
			{
				instance.buildingPrivilegeRetro = buildingPrivilegeRetro.Copy();
			}
			else
			{
				buildingPrivilegeRetro.CopyTo(instance.buildingPrivilegeRetro);
			}
		}
		else
		{
			instance.buildingPrivilegeRetro = null;
		}
		if (harborCrane != null)
		{
			if (instance.harborCrane == null)
			{
				instance.harborCrane = harborCrane.Copy();
			}
			else
			{
				harborCrane.CopyTo(instance.harborCrane);
			}
		}
		else
		{
			instance.harborCrane = null;
		}
		if (cargoShip != null)
		{
			if (instance.cargoShip == null)
			{
				instance.cargoShip = cargoShip.Copy();
			}
			else
			{
				cargoShip.CopyTo(instance.cargoShip);
			}
		}
		else
		{
			instance.cargoShip = null;
		}
		if (cargoShipContainer != null)
		{
			if (instance.cargoShipContainer == null)
			{
				instance.cargoShipContainer = cargoShipContainer.Copy();
			}
			else
			{
				cargoShipContainer.CopyTo(instance.cargoShipContainer);
			}
		}
		else
		{
			instance.cargoShipContainer = null;
		}
		if (missionMapMarker != null)
		{
			if (instance.missionMapMarker == null)
			{
				instance.missionMapMarker = missionMapMarker.Copy();
			}
			else
			{
				missionMapMarker.CopyTo(instance.missionMapMarker);
			}
		}
		else
		{
			instance.missionMapMarker = null;
		}
		if (bike != null)
		{
			if (instance.bike == null)
			{
				instance.bike = bike.Copy();
			}
			else
			{
				bike.CopyTo(instance.bike);
			}
		}
		else
		{
			instance.bike = null;
		}
		if (diverPropulsionVehicle != null)
		{
			if (instance.diverPropulsionVehicle == null)
			{
				instance.diverPropulsionVehicle = diverPropulsionVehicle.Copy();
			}
			else
			{
				diverPropulsionVehicle.CopyTo(instance.diverPropulsionVehicle);
			}
		}
		else
		{
			instance.diverPropulsionVehicle = null;
		}
		if (travellingVendor != null)
		{
			if (instance.travellingVendor == null)
			{
				instance.travellingVendor = travellingVendor.Copy();
			}
			else
			{
				travellingVendor.CopyTo(instance.travellingVendor);
			}
		}
		else
		{
			instance.travellingVendor = null;
		}
		if (vendingDynamicPricing != null)
		{
			if (instance.vendingDynamicPricing == null)
			{
				instance.vendingDynamicPricing = vendingDynamicPricing.Copy();
			}
			else
			{
				vendingDynamicPricing.CopyTo(instance.vendingDynamicPricing);
			}
		}
		else
		{
			instance.vendingDynamicPricing = null;
		}
		if (tinCanAlarm != null)
		{
			if (instance.tinCanAlarm == null)
			{
				instance.tinCanAlarm = tinCanAlarm.Copy();
			}
			else
			{
				tinCanAlarm.CopyTo(instance.tinCanAlarm);
			}
		}
		else
		{
			instance.tinCanAlarm = null;
		}
		if (digitalClock != null)
		{
			if (instance.digitalClock == null)
			{
				instance.digitalClock = digitalClock.Copy();
			}
			else
			{
				digitalClock.CopyTo(instance.digitalClock);
			}
		}
		else
		{
			instance.digitalClock = null;
		}
		if (elevatorLift != null)
		{
			if (instance.elevatorLift == null)
			{
				instance.elevatorLift = elevatorLift.Copy();
			}
			else
			{
				elevatorLift.CopyTo(instance.elevatorLift);
			}
		}
		else
		{
			instance.elevatorLift = null;
		}
		if (npcVendingMachine != null)
		{
			if (instance.npcVendingMachine == null)
			{
				instance.npcVendingMachine = npcVendingMachine.Copy();
			}
			else
			{
				npcVendingMachine.CopyTo(instance.npcVendingMachine);
			}
		}
		else
		{
			instance.npcVendingMachine = null;
		}
		if (mailbox != null)
		{
			if (instance.mailbox == null)
			{
				instance.mailbox = mailbox.Copy();
			}
			else
			{
				mailbox.CopyTo(instance.mailbox);
			}
		}
		else
		{
			instance.mailbox = null;
		}
		if (projectileWeaponMod != null)
		{
			if (instance.projectileWeaponMod == null)
			{
				instance.projectileWeaponMod = projectileWeaponMod.Copy();
			}
			else
			{
				projectileWeaponMod.CopyTo(instance.projectileWeaponMod);
			}
		}
		else
		{
			instance.projectileWeaponMod = null;
		}
		if (baseSculpture != null)
		{
			if (instance.baseSculpture == null)
			{
				instance.baseSculpture = baseSculpture.Copy();
			}
			else
			{
				baseSculpture.CopyTo(instance.baseSculpture);
			}
		}
		else
		{
			instance.baseSculpture = null;
		}
		if (vendingMachineStats != null)
		{
			if (instance.vendingMachineStats == null)
			{
				instance.vendingMachineStats = vendingMachineStats.Copy();
			}
			else
			{
				vendingMachineStats.CopyTo(instance.vendingMachineStats);
			}
		}
		else
		{
			instance.vendingMachineStats = null;
		}
		if (catapult != null)
		{
			if (instance.catapult == null)
			{
				instance.catapult = catapult.Copy();
			}
			else
			{
				catapult.CopyTo(instance.catapult);
			}
		}
		else
		{
			instance.catapult = null;
		}
		if (siegeTower != null)
		{
			if (instance.siegeTower == null)
			{
				instance.siegeTower = siegeTower.Copy();
			}
			else
			{
				siegeTower.CopyTo(instance.siegeTower);
			}
		}
		else
		{
			instance.siegeTower = null;
		}
		if (ballista != null)
		{
			if (instance.ballista == null)
			{
				instance.ballista = ballista.Copy();
			}
			else
			{
				ballista.CopyTo(instance.ballista);
			}
		}
		else
		{
			instance.ballista = null;
		}
		if (ballistaGun != null)
		{
			if (instance.ballistaGun == null)
			{
				instance.ballistaGun = ballistaGun.Copy();
			}
			else
			{
				ballistaGun.CopyTo(instance.ballistaGun);
			}
		}
		else
		{
			instance.ballistaGun = null;
		}
		if (batteringRam != null)
		{
			if (instance.batteringRam == null)
			{
				instance.batteringRam = batteringRam.Copy();
			}
			else
			{
				batteringRam.CopyTo(instance.batteringRam);
			}
		}
		else
		{
			instance.batteringRam = null;
		}
		if (temporaryRagdoll != null)
		{
			if (instance.temporaryRagdoll == null)
			{
				instance.temporaryRagdoll = temporaryRagdoll.Copy();
			}
			else
			{
				temporaryRagdoll.CopyTo(instance.temporaryRagdoll);
			}
		}
		else
		{
			instance.temporaryRagdoll = null;
		}
		if (constructableEntity != null)
		{
			if (instance.constructableEntity == null)
			{
				instance.constructableEntity = constructableEntity.Copy();
			}
			else
			{
				constructableEntity.CopyTo(instance.constructableEntity);
			}
		}
		else
		{
			instance.constructableEntity = null;
		}
		if (chickenCoop != null)
		{
			if (instance.chickenCoop == null)
			{
				instance.chickenCoop = chickenCoop.Copy();
			}
			else
			{
				chickenCoop.CopyTo(instance.chickenCoop);
			}
		}
		else
		{
			instance.chickenCoop = null;
		}
		if (farmableAnimal != null)
		{
			if (instance.farmableAnimal == null)
			{
				instance.farmableAnimal = farmableAnimal.Copy();
			}
			else
			{
				farmableAnimal.CopyTo(instance.farmableAnimal);
			}
		}
		else
		{
			instance.farmableAnimal = null;
		}
		if (ownership != null)
		{
			if (instance.ownership == null)
			{
				instance.ownership = ownership.Copy();
			}
			else
			{
				ownership.CopyTo(instance.ownership);
			}
		}
		else
		{
			instance.ownership = null;
		}
		if (beehive != null)
		{
			if (instance.beehive == null)
			{
				instance.beehive = beehive.Copy();
			}
			else
			{
				beehive.CopyTo(instance.beehive);
			}
		}
		else
		{
			instance.beehive = null;
		}
		if (beeMasterSwarm != null)
		{
			if (instance.beeMasterSwarm == null)
			{
				instance.beeMasterSwarm = beeMasterSwarm.Copy();
			}
			else
			{
				beeMasterSwarm.CopyTo(instance.beeMasterSwarm);
			}
		}
		else
		{
			instance.beeMasterSwarm = null;
		}
		if (containerCorpse != null)
		{
			if (instance.containerCorpse == null)
			{
				instance.containerCorpse = containerCorpse.Copy();
			}
			else
			{
				containerCorpse.CopyTo(instance.containerCorpse);
			}
		}
		else
		{
			instance.containerCorpse = null;
		}
		if (npcSensesState != null)
		{
			if (instance.npcSensesState == null)
			{
				instance.npcSensesState = npcSensesState.Copy();
			}
			else
			{
				npcSensesState.CopyTo(instance.npcSensesState);
			}
		}
		else
		{
			instance.npcSensesState = null;
		}
		if (vineMountable != null)
		{
			if (instance.vineMountable == null)
			{
				instance.vineMountable = vineMountable.Copy();
			}
			else
			{
				vineMountable.CopyTo(instance.vineMountable);
			}
		}
		else
		{
			instance.vineMountable = null;
		}
		if (vineTree != null)
		{
			if (instance.vineTree == null)
			{
				instance.vineTree = vineTree.Copy();
			}
			else
			{
				vineTree.CopyTo(instance.vineTree);
			}
		}
		else
		{
			instance.vineTree = null;
		}
		if (treeRespawn != null)
		{
			if (instance.treeRespawn == null)
			{
				instance.treeRespawn = treeRespawn.Copy();
			}
			else
			{
				treeRespawn.CopyTo(instance.treeRespawn);
			}
		}
		else
		{
			instance.treeRespawn = null;
		}
		if (wallpaperTool != null)
		{
			if (instance.wallpaperTool == null)
			{
				instance.wallpaperTool = wallpaperTool.Copy();
			}
			else
			{
				wallpaperTool.CopyTo(instance.wallpaperTool);
			}
		}
		else
		{
			instance.wallpaperTool = null;
		}
		if (commandBlock != null)
		{
			if (instance.commandBlock == null)
			{
				instance.commandBlock = commandBlock.Copy();
			}
			else
			{
				commandBlock.CopyTo(instance.commandBlock);
			}
		}
		else
		{
			instance.commandBlock = null;
		}
		if (staticRespawn != null)
		{
			if (instance.staticRespawn == null)
			{
				instance.staticRespawn = staticRespawn.Copy();
			}
			else
			{
				staticRespawn.CopyTo(instance.staticRespawn);
			}
		}
		else
		{
			instance.staticRespawn = null;
		}
		if (buriedItemStorage != null)
		{
			if (instance.buriedItemStorage == null)
			{
				instance.buriedItemStorage = buriedItemStorage.Copy();
			}
			else
			{
				buriedItemStorage.CopyTo(instance.buriedItemStorage);
			}
		}
		else
		{
			instance.buriedItemStorage = null;
		}
		if (mannequin != null)
		{
			if (instance.mannequin == null)
			{
				instance.mannequin = mannequin.Copy();
			}
			else
			{
				mannequin.CopyTo(instance.mannequin);
			}
		}
		else
		{
			instance.mannequin = null;
		}
	}

	public Entity Copy()
	{
		Entity entity = Pool.Get<Entity>();
		CopyTo(entity);
		return entity;
	}

	public static Entity Deserialize(BufferStream stream)
	{
		Entity entity = Pool.Get<Entity>();
		Deserialize(stream, entity, isDelta: false);
		return entity;
	}

	public static Entity DeserializeLengthDelimited(BufferStream stream)
	{
		Entity entity = Pool.Get<Entity>();
		DeserializeLengthDelimited(stream, entity, isDelta: false);
		return entity;
	}

	public static Entity DeserializeLength(BufferStream stream, int length)
	{
		Entity entity = Pool.Get<Entity>();
		DeserializeLength(stream, length, entity, isDelta: false);
		return entity;
	}

	public static Entity Deserialize(byte[] buffer)
	{
		Entity entity = Pool.Get<Entity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, entity, isDelta: false);
		return entity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Entity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Entity Deserialize(BufferStream stream, Entity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.baseNetworkable == null)
				{
					instance.baseNetworkable = BaseNetworkable.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseNetworkable.DeserializeLengthDelimited(stream, instance.baseNetworkable, isDelta);
				}
				continue;
			case 18:
				if (instance.baseEntity == null)
				{
					instance.baseEntity = BaseEntity.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseEntity.DeserializeLengthDelimited(stream, instance.baseEntity, isDelta);
				}
				continue;
			case 26:
				if (instance.basePlayer == null)
				{
					instance.basePlayer = BasePlayer.DeserializeLengthDelimited(stream);
				}
				else
				{
					BasePlayer.DeserializeLengthDelimited(stream, instance.basePlayer, isDelta);
				}
				continue;
			case 34:
				if (instance.worldItem == null)
				{
					instance.worldItem = WorldItem.DeserializeLengthDelimited(stream);
				}
				else
				{
					WorldItem.DeserializeLengthDelimited(stream, instance.worldItem, isDelta);
				}
				continue;
			case 42:
				if (instance.resource == null)
				{
					instance.resource = BaseResource.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseResource.DeserializeLengthDelimited(stream, instance.resource, isDelta);
				}
				continue;
			case 50:
				if (instance.buildingBlock == null)
				{
					instance.buildingBlock = BuildingBlock.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingBlock.DeserializeLengthDelimited(stream, instance.buildingBlock, isDelta);
				}
				continue;
			case 58:
				if (instance.environment == null)
				{
					instance.environment = ProtoBuf.Environment.DeserializeLengthDelimited(stream);
				}
				else
				{
					ProtoBuf.Environment.DeserializeLengthDelimited(stream, instance.environment, isDelta);
				}
				continue;
			case 66:
				if (instance.corpse == null)
				{
					instance.corpse = Corpse.DeserializeLengthDelimited(stream);
				}
				else
				{
					Corpse.DeserializeLengthDelimited(stream, instance.corpse, isDelta);
				}
				continue;
			case 82:
				if (instance.parent == null)
				{
					instance.parent = ParentInfo.DeserializeLengthDelimited(stream);
				}
				else
				{
					ParentInfo.DeserializeLengthDelimited(stream, instance.parent, isDelta);
				}
				continue;
			case 90:
				if (instance.keyLock == null)
				{
					instance.keyLock = KeyLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					KeyLock.DeserializeLengthDelimited(stream, instance.keyLock, isDelta);
				}
				continue;
			case 98:
				if (instance.codeLock == null)
				{
					instance.codeLock = CodeLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					CodeLock.DeserializeLengthDelimited(stream, instance.codeLock, isDelta);
				}
				continue;
			case 106:
				if (instance.entitySlots == null)
				{
					instance.entitySlots = EntitySlots.DeserializeLengthDelimited(stream);
				}
				else
				{
					EntitySlots.DeserializeLengthDelimited(stream, instance.entitySlots, isDelta);
				}
				continue;
			case 114:
				if (instance.buildingPrivilege == null)
				{
					instance.buildingPrivilege = BuildingPrivilege.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingPrivilege.DeserializeLengthDelimited(stream, instance.buildingPrivilege, isDelta);
				}
				continue;
			case 122:
				if (instance.storageBox == null)
				{
					instance.storageBox = StorageBox.DeserializeLengthDelimited(stream);
				}
				else
				{
					StorageBox.DeserializeLengthDelimited(stream, instance.storageBox, isDelta);
				}
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.heldEntity == null)
					{
						instance.heldEntity = HeldEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeldEntity.DeserializeLengthDelimited(stream, instance.heldEntity, isDelta);
					}
				}
				break;
			case 17u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseProjectile == null)
					{
						instance.baseProjectile = BaseProjectile.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseProjectile.DeserializeLengthDelimited(stream, instance.baseProjectile, isDelta);
					}
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseNPC == null)
					{
						instance.baseNPC = BaseNPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseNPC.DeserializeLengthDelimited(stream, instance.baseNPC, isDelta);
					}
				}
				break;
			case 19u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.loot == null)
					{
						instance.loot = Loot.DeserializeLengthDelimited(stream);
					}
					else
					{
						Loot.DeserializeLengthDelimited(stream, instance.loot, isDelta);
					}
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.genericSpawner == null)
					{
						instance.genericSpawner = GenericSpawner.DeserializeLengthDelimited(stream);
					}
					else
					{
						GenericSpawner.DeserializeLengthDelimited(stream, instance.genericSpawner, isDelta);
					}
				}
				break;
			case 21u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBag == null)
					{
						instance.sleepingBag = SleepingBag.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBag.DeserializeLengthDelimited(stream, instance.sleepingBag, isDelta);
					}
				}
				break;
			case 22u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lootableCorpse == null)
					{
						instance.lootableCorpse = LootableCorpse.DeserializeLengthDelimited(stream);
					}
					else
					{
						LootableCorpse.DeserializeLengthDelimited(stream, instance.lootableCorpse, isDelta);
					}
				}
				break;
			case 23u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sign == null)
					{
						instance.sign = Sign.DeserializeLengthDelimited(stream);
					}
					else
					{
						Sign.DeserializeLengthDelimited(stream, instance.sign, isDelta);
					}
				}
				break;
			case 24u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseCombat == null)
					{
						instance.baseCombat = BaseCombat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseCombat.DeserializeLengthDelimited(stream, instance.baseCombat, isDelta);
					}
				}
				break;
			case 25u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mapEntity == null)
					{
						instance.mapEntity = MapEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						MapEntity.DeserializeLengthDelimited(stream, instance.mapEntity, isDelta);
					}
				}
				break;
			case 26u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.researchTable == null)
					{
						instance.researchTable = ResearchTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ResearchTable.DeserializeLengthDelimited(stream, instance.researchTable, isDelta);
					}
				}
				break;
			case 27u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dudExplosive == null)
					{
						instance.dudExplosive = DudExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						DudExplosive.DeserializeLengthDelimited(stream, instance.dudExplosive, isDelta);
					}
				}
				break;
			case 28u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miningQuarry == null)
					{
						instance.miningQuarry = MiningQuarry.DeserializeLengthDelimited(stream);
					}
					else
					{
						MiningQuarry.DeserializeLengthDelimited(stream, instance.miningQuarry, isDelta);
					}
				}
				break;
			case 29u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseVehicle == null)
					{
						instance.baseVehicle = BaseVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseVehicle.DeserializeLengthDelimited(stream, instance.baseVehicle, isDelta);
					}
				}
				break;
			case 30u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopter == null)
					{
						instance.helicopter = Helicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Helicopter.DeserializeLengthDelimited(stream, instance.helicopter, isDelta);
					}
				}
				break;
			case 31u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.landmine == null)
					{
						instance.landmine = Landmine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Landmine.DeserializeLengthDelimited(stream, instance.landmine, isDelta);
					}
				}
				break;
			case 32u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.autoturret == null)
					{
						instance.autoturret = AutoTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AutoTurret.DeserializeLengthDelimited(stream, instance.autoturret, isDelta);
					}
				}
				break;
			case 33u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sphereEntity == null)
					{
						instance.sphereEntity = SphereEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						SphereEntity.DeserializeLengthDelimited(stream, instance.sphereEntity, isDelta);
					}
				}
				break;
			case 34u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.stabilityEntity == null)
					{
						instance.stabilityEntity = StabilityEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						StabilityEntity.DeserializeLengthDelimited(stream, instance.stabilityEntity, isDelta);
					}
				}
				break;
			case 35u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownerInfo == null)
					{
						instance.ownerInfo = OwnerInfo.DeserializeLengthDelimited(stream);
					}
					else
					{
						OwnerInfo.DeserializeLengthDelimited(stream, instance.ownerInfo, isDelta);
					}
				}
				break;
			case 36u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.decayEntity == null)
					{
						instance.decayEntity = DecayEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						DecayEntity.DeserializeLengthDelimited(stream, instance.decayEntity, isDelta);
					}
				}
				break;
			case 37u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spawnable == null)
					{
						instance.spawnable = Spawnable.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spawnable.DeserializeLengthDelimited(stream, instance.spawnable, isDelta);
					}
				}
				break;
			case 38u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.servergib == null)
					{
						instance.servergib = ServerGib.DeserializeLengthDelimited(stream);
					}
					else
					{
						ServerGib.DeserializeLengthDelimited(stream, instance.servergib, isDelta);
					}
				}
				break;
			case 39u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachine == null)
					{
						instance.vendingMachine = VendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachine.DeserializeLengthDelimited(stream, instance.vendingMachine, isDelta);
					}
				}
				break;
			case 40u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spinnerWheel == null)
					{
						instance.spinnerWheel = SpinnerWheel.DeserializeLengthDelimited(stream);
					}
					else
					{
						SpinnerWheel.DeserializeLengthDelimited(stream, instance.spinnerWheel, isDelta);
					}
				}
				break;
			case 41u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lift == null)
					{
						instance.lift = Lift.DeserializeLengthDelimited(stream);
					}
					else
					{
						Lift.DeserializeLengthDelimited(stream, instance.lift, isDelta);
					}
				}
				break;
			case 42u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bradley == null)
					{
						instance.bradley = BradleyAPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BradleyAPC.DeserializeLengthDelimited(stream, instance.bradley, isDelta);
					}
				}
				break;
			case 43u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waterwell == null)
					{
						instance.waterwell = WaterWell.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterWell.DeserializeLengthDelimited(stream, instance.waterwell, isDelta);
					}
				}
				break;
			case 44u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.motorBoat == null)
					{
						instance.motorBoat = Motorboat.DeserializeLengthDelimited(stream);
					}
					else
					{
						Motorboat.DeserializeLengthDelimited(stream, instance.motorBoat, isDelta);
					}
				}
				break;
			case 45u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ioEntity == null)
					{
						instance.ioEntity = IOEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						IOEntity.DeserializeLengthDelimited(stream, instance.ioEntity, isDelta);
					}
				}
				break;
			case 46u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.puzzleReset == null)
					{
						instance.puzzleReset = PuzzleReset.DeserializeLengthDelimited(stream);
					}
					else
					{
						PuzzleReset.DeserializeLengthDelimited(stream, instance.puzzleReset, isDelta);
					}
				}
				break;
			case 47u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.relationshipManager == null)
					{
						instance.relationshipManager = RelationshipManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						RelationshipManager.DeserializeLengthDelimited(stream, instance.relationshipManager, isDelta);
					}
				}
				break;
			case 48u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.hotAirBalloon == null)
					{
						instance.hotAirBalloon = HotAirBalloon.DeserializeLengthDelimited(stream);
					}
					else
					{
						HotAirBalloon.DeserializeLengthDelimited(stream, instance.hotAirBalloon, isDelta);
					}
				}
				break;
			case 49u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.samSite == null)
					{
						instance.samSite = SAMSite.DeserializeLengthDelimited(stream);
					}
					else
					{
						SAMSite.DeserializeLengthDelimited(stream, instance.samSite, isDelta);
					}
				}
				break;
			case 50u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.eggHunt == null)
					{
						instance.eggHunt = EggHunt.DeserializeLengthDelimited(stream);
					}
					else
					{
						EggHunt.DeserializeLengthDelimited(stream, instance.eggHunt, isDelta);
					}
				}
				break;
			case 51u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.arcadeMachine == null)
					{
						instance.arcadeMachine = ArcadeMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						ArcadeMachine.DeserializeLengthDelimited(stream, instance.arcadeMachine, isDelta);
					}
				}
				break;
			case 52u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miniCopter == null)
					{
						instance.miniCopter = Minicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Minicopter.DeserializeLengthDelimited(stream, instance.miniCopter, isDelta);
					}
				}
				break;
			case 53u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.horse == null)
					{
						instance.horse = Horse.DeserializeLengthDelimited(stream);
					}
					else
					{
						Horse.DeserializeLengthDelimited(stream, instance.horse, isDelta);
					}
				}
				break;
			case 54u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.smartAlarm == null)
					{
						instance.smartAlarm = SmartAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						SmartAlarm.DeserializeLengthDelimited(stream, instance.smartAlarm, isDelta);
					}
				}
				break;
			case 55u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightString == null)
					{
						instance.lightString = LightString.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightString.DeserializeLengthDelimited(stream, instance.lightString, isDelta);
					}
				}
				break;
			case 56u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightDeployer == null)
					{
						instance.lightDeployer = LightDeployer.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightDeployer.DeserializeLengthDelimited(stream, instance.lightDeployer, isDelta);
					}
				}
				break;
			case 57u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rcEntity == null)
					{
						instance.rcEntity = RCEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						RCEntity.DeserializeLengthDelimited(stream, instance.rcEntity, isDelta);
					}
				}
				break;
			case 58u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.computerStation == null)
					{
						instance.computerStation = ComputerStation.DeserializeLengthDelimited(stream);
					}
					else
					{
						ComputerStation.DeserializeLengthDelimited(stream, instance.computerStation, isDelta);
					}
				}
				break;
			case 59u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.growableEntity == null)
					{
						instance.growableEntity = GrowableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						GrowableEntity.DeserializeLengthDelimited(stream, instance.growableEntity, isDelta);
					}
				}
				break;
			case 60u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.composter == null)
					{
						instance.composter = Composter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Composter.DeserializeLengthDelimited(stream, instance.composter, isDelta);
					}
				}
				break;
			case 61u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularVehicle == null)
					{
						instance.modularVehicle = ModularVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularVehicle.DeserializeLengthDelimited(stream, instance.modularVehicle, isDelta);
					}
				}
				break;
			case 62u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularCar == null)
					{
						instance.modularCar = ModularCar.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularCar.DeserializeLengthDelimited(stream, instance.modularCar, isDelta);
					}
				}
				break;
			case 63u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUID == null)
					{
						instance.simpleUID = SimpleUID.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUID.DeserializeLengthDelimited(stream, instance.simpleUID, isDelta);
					}
				}
				break;
			case 64u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleLift == null)
					{
						instance.vehicleLift = VehicleLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleLift.DeserializeLengthDelimited(stream, instance.vehicleLift, isDelta);
					}
				}
				break;
			case 65u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.engineStorage == null)
					{
						instance.engineStorage = EngineStorage.DeserializeLengthDelimited(stream);
					}
					else
					{
						EngineStorage.DeserializeLengthDelimited(stream, instance.engineStorage, isDelta);
					}
				}
				break;
			case 66u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleVendor == null)
					{
						instance.vehicleVendor = VehicleVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleVendor.DeserializeLengthDelimited(stream, instance.vehicleVendor, isDelta);
					}
				}
				break;
			case 67u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.WaterPool == null)
					{
						instance.WaterPool = WaterPool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterPool.DeserializeLengthDelimited(stream, instance.WaterPool, isDelta);
					}
				}
				break;
			case 68u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photo == null)
					{
						instance.photo = Photo.DeserializeLengthDelimited(stream);
					}
					else
					{
						Photo.DeserializeLengthDelimited(stream, instance.photo, isDelta);
					}
				}
				break;
			case 69u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photoFrame == null)
					{
						instance.photoFrame = PhotoFrame.DeserializeLengthDelimited(stream);
					}
					else
					{
						PhotoFrame.DeserializeLengthDelimited(stream, instance.photoFrame, isDelta);
					}
				}
				break;
			case 70u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleModule == null)
					{
						instance.vehicleModule = VehicleModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleModule.DeserializeLengthDelimited(stream, instance.vehicleModule, isDelta);
					}
				}
				break;
			case 71u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mixingTable == null)
					{
						instance.mixingTable = MixingTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						MixingTable.DeserializeLengthDelimited(stream, instance.mixingTable, isDelta);
					}
				}
				break;
			case 72u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.shopKeeper == null)
					{
						instance.shopKeeper = ShopKeeper.DeserializeLengthDelimited(stream);
					}
					else
					{
						ShopKeeper.DeserializeLengthDelimited(stream, instance.shopKeeper, isDelta);
					}
				}
				break;
			case 73u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevator == null)
					{
						instance.elevator = Elevator.DeserializeLengthDelimited(stream);
					}
					else
					{
						Elevator.DeserializeLengthDelimited(stream, instance.elevator, isDelta);
					}
				}
				break;
			case 74u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.skullTrophy == null)
					{
						instance.skullTrophy = SkullTrophy.DeserializeLengthDelimited(stream);
					}
					else
					{
						SkullTrophy.DeserializeLengthDelimited(stream, instance.skullTrophy, isDelta);
					}
				}
				break;
			case 75u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cassette == null)
					{
						instance.cassette = Cassette.DeserializeLengthDelimited(stream);
					}
					else
					{
						Cassette.DeserializeLengthDelimited(stream, instance.cassette, isDelta);
					}
				}
				break;
			case 76u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.telephone == null)
					{
						instance.telephone = Telephone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Telephone.DeserializeLengthDelimited(stream, instance.telephone, isDelta);
					}
				}
				break;
			case 77u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.boomBox == null)
					{
						instance.boomBox = BoomBox.DeserializeLengthDelimited(stream);
					}
					else
					{
						BoomBox.DeserializeLengthDelimited(stream, instance.boomBox, isDelta);
					}
				}
				break;
			case 78u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.neonSign == null)
					{
						instance.neonSign = NeonSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						NeonSign.DeserializeLengthDelimited(stream, instance.neonSign, isDelta);
					}
				}
				break;
			case 79u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.subEntityList == null)
					{
						instance.subEntityList = SubEntityList.DeserializeLengthDelimited(stream);
					}
					else
					{
						SubEntityList.DeserializeLengthDelimited(stream, instance.subEntityList, isDelta);
					}
				}
				break;
			case 80u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.marketTerminal == null)
					{
						instance.marketTerminal = MarketTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						MarketTerminal.DeserializeLengthDelimited(stream, instance.marketTerminal, isDelta);
					}
				}
				break;
			case 81u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.deliveryDrone == null)
					{
						instance.deliveryDrone = DeliveryDrone.DeserializeLengthDelimited(stream);
					}
					else
					{
						DeliveryDrone.DeserializeLengthDelimited(stream, instance.deliveryDrone, isDelta);
					}
				}
				break;
			case 82u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimTerminal == null)
					{
						instance.reclaimTerminal = ReclaimTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimTerminal.DeserializeLengthDelimited(stream, instance.reclaimTerminal, isDelta);
					}
				}
				break;
			case 83u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.slotMachine == null)
					{
						instance.slotMachine = SlotMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SlotMachine.DeserializeLengthDelimited(stream, instance.slotMachine, isDelta);
					}
				}
				break;
			case 84u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.trainEngine == null)
					{
						instance.trainEngine = TrainEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						TrainEngine.DeserializeLengthDelimited(stream, instance.trainEngine, isDelta);
					}
				}
				break;
			case 85u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cardGame == null)
					{
						instance.cardGame = CardGame.DeserializeLengthDelimited(stream);
					}
					else
					{
						CardGame.DeserializeLengthDelimited(stream, instance.cardGame, isDelta);
					}
				}
				break;
			case 86u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.crane == null)
					{
						instance.crane = Crane.DeserializeLengthDelimited(stream);
					}
					else
					{
						Crane.DeserializeLengthDelimited(stream, instance.crane, isDelta);
					}
				}
				break;
			case 87u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.connectedSpeaker == null)
					{
						instance.connectedSpeaker = ConnectedSpeaker.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConnectedSpeaker.DeserializeLengthDelimited(stream, instance.connectedSpeaker, isDelta);
					}
				}
				break;
			case 88u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.audioEntity == null)
					{
						instance.audioEntity = AudioEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						AudioEntity.DeserializeLengthDelimited(stream, instance.audioEntity, isDelta);
					}
				}
				break;
			case 89u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.microphoneStand == null)
					{
						instance.microphoneStand = MicrophoneStand.DeserializeLengthDelimited(stream);
					}
					else
					{
						MicrophoneStand.DeserializeLengthDelimited(stream, instance.microphoneStand, isDelta);
					}
				}
				break;
			case 90u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.submarine == null)
					{
						instance.submarine = Submarine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Submarine.DeserializeLengthDelimited(stream, instance.submarine, isDelta);
					}
				}
				break;
			case 91u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBagCamper == null)
					{
						instance.sleepingBagCamper = SleepingBagCamper.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBagCamper.DeserializeLengthDelimited(stream, instance.sleepingBagCamper, isDelta);
					}
				}
				break;
			case 92u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.camperModule == null)
					{
						instance.camperModule = CamperModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						CamperModule.DeserializeLengthDelimited(stream, instance.camperModule, isDelta);
					}
				}
				break;
			case 93u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintableSign == null)
					{
						instance.paintableSign = PaintableSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintableSign.DeserializeLengthDelimited(stream, instance.paintableSign, isDelta);
					}
				}
				break;
			case 94u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.whitelist == null)
					{
						instance.whitelist = Whitelist.DeserializeLengthDelimited(stream);
					}
					else
					{
						Whitelist.DeserializeLengthDelimited(stream, instance.whitelist, isDelta);
					}
				}
				break;
			case 95u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.FrankensteinTable == null)
					{
						instance.FrankensteinTable = FrankensteinTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						FrankensteinTable.DeserializeLengthDelimited(stream, instance.FrankensteinTable, isDelta);
					}
				}
				break;
			case 96u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mlrs == null)
					{
						instance.mlrs = MLRS.DeserializeLengthDelimited(stream);
					}
					else
					{
						MLRS.DeserializeLengthDelimited(stream, instance.mlrs, isDelta);
					}
				}
				break;
			case 97u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimManager == null)
					{
						instance.reclaimManager = ReclaimManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimManager.DeserializeLengthDelimited(stream, instance.reclaimManager, isDelta);
					}
				}
				break;
			case 98u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.gameMode == null)
					{
						instance.gameMode = GameMode.DeserializeLengthDelimited(stream);
					}
					else
					{
						GameMode.DeserializeLengthDelimited(stream, instance.gameMode, isDelta);
					}
				}
				break;
			case 99u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.snowmobile == null)
					{
						instance.snowmobile = Snowmobile.DeserializeLengthDelimited(stream);
					}
					else
					{
						Snowmobile.DeserializeLengthDelimited(stream, instance.snowmobile, isDelta);
					}
				}
				break;
			case 100u:
				if (key.WireType == Wire.Varint)
				{
					instance.createdThisFrame = ProtocolParser.ReadBool(stream);
				}
				break;
			case 101u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.patternFirework == null)
					{
						instance.patternFirework = PatternFirework.DeserializeLengthDelimited(stream);
					}
					else
					{
						PatternFirework.DeserializeLengthDelimited(stream, instance.patternFirework, isDelta);
					}
				}
				break;
			case 102u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoPlane == null)
					{
						instance.cargoPlane = CargoPlane.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoPlane.DeserializeLengthDelimited(stream, instance.cargoPlane, isDelta);
					}
				}
				break;
			case 103u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintedItem == null)
					{
						instance.paintedItem = PaintedItem.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintedItem.DeserializeLengthDelimited(stream, instance.paintedItem, isDelta);
					}
				}
				break;
			case 104u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.clanManager == null)
					{
						instance.clanManager = ClanManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ClanManager.DeserializeLengthDelimited(stream, instance.clanManager, isDelta);
					}
				}
				break;
			case 105u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spray == null)
					{
						instance.spray = Spray.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spray.DeserializeLengthDelimited(stream, instance.spray, isDelta);
					}
				}
				break;
			case 106u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseTrain == null)
					{
						instance.baseTrain = BaseTrain.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseTrain.DeserializeLengthDelimited(stream, instance.baseTrain, isDelta);
					}
				}
				break;
			case 107u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.zipline == null)
					{
						instance.zipline = Zipline.DeserializeLengthDelimited(stream);
					}
					else
					{
						Zipline.DeserializeLengthDelimited(stream, instance.zipline, isDelta);
					}
				}
				break;
			case 108u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ziplineMountable == null)
					{
						instance.ziplineMountable = ZiplineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineMountable.DeserializeLengthDelimited(stream, instance.ziplineMountable, isDelta);
					}
				}
				break;
			case 109u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ZiplineArrival == null)
					{
						instance.ZiplineArrival = ZiplineArrivalPoint.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineArrivalPoint.DeserializeLengthDelimited(stream, instance.ZiplineArrival, isDelta);
					}
				}
				break;
			case 110u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sprayLine == null)
					{
						instance.sprayLine = SprayLine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SprayLine.DeserializeLengthDelimited(stream, instance.sprayLine, isDelta);
					}
				}
				break;
			case 111u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.coalingTower == null)
					{
						instance.coalingTower = CoalingTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						CoalingTower.DeserializeLengthDelimited(stream, instance.coalingTower, isDelta);
					}
				}
				break;
			case 112u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleInt == null)
					{
						instance.simpleInt = SimpleInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleInt.DeserializeLengthDelimited(stream, instance.simpleInt, isDelta);
					}
				}
				break;
			case 113u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseOven == null)
					{
						instance.baseOven = BaseOven.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseOven.DeserializeLengthDelimited(stream, instance.baseOven, isDelta);
					}
				}
				break;
			case 114u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.brainComponent == null)
					{
						instance.brainComponent = BrainComponent.DeserializeLengthDelimited(stream);
					}
					else
					{
						BrainComponent.DeserializeLengthDelimited(stream, instance.brainComponent, isDelta);
					}
				}
				break;
			case 115u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.proceduralDungeon == null)
					{
						instance.proceduralDungeon = ProceduralDungeon.DeserializeLengthDelimited(stream);
					}
					else
					{
						ProceduralDungeon.DeserializeLengthDelimited(stream, instance.proceduralDungeon, isDelta);
					}
				}
				break;
			case 116u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialConveyor == null)
					{
						instance.industrialConveyor = IndustrialConveyor.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialConveyor.DeserializeLengthDelimited(stream, instance.industrialConveyor, isDelta);
					}
				}
				break;
			case 117u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialCrafter == null)
					{
						instance.industrialCrafter = IndustrialCrafter.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialCrafter.DeserializeLengthDelimited(stream, instance.industrialCrafter, isDelta);
					}
				}
				break;
			case 118u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.drone == null)
					{
						instance.drone = Drone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Drone.DeserializeLengthDelimited(stream, instance.drone, isDelta);
					}
				}
				break;
			case 119u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.explosive == null)
					{
						instance.explosive = TimedExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						TimedExplosive.DeserializeLengthDelimited(stream, instance.explosive, isDelta);
					}
				}
				break;
			case 120u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUint == null)
					{
						instance.simpleUint = SimpleUInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUInt.DeserializeLengthDelimited(stream, instance.simpleUint, isDelta);
					}
				}
				break;
			case 121u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.weaponRack == null)
					{
						instance.weaponRack = WeaponRack.DeserializeLengthDelimited(stream);
					}
					else
					{
						WeaponRack.DeserializeLengthDelimited(stream, instance.weaponRack, isDelta);
					}
				}
				break;
			case 122u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeli == null)
					{
						instance.attackHeli = AttackHeli.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeli.DeserializeLengthDelimited(stream, instance.attackHeli, isDelta);
					}
				}
				break;
			case 123u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliTurret == null)
					{
						instance.attackHeliTurret = AttackHeliTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliTurret.DeserializeLengthDelimited(stream, instance.attackHeliTurret, isDelta);
					}
				}
				break;
			case 124u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliRockets == null)
					{
						instance.attackHeliRockets = AttackHeliRockets.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliRockets.DeserializeLengthDelimited(stream, instance.attackHeliRockets, isDelta);
					}
				}
				break;
			case 125u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseBoat == null)
					{
						instance.baseBoat = BaseBoat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseBoat.DeserializeLengthDelimited(stream, instance.baseBoat, isDelta);
					}
				}
				break;
			case 126u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ragdoll == null)
					{
						instance.ragdoll = Ragdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ragdoll.DeserializeLengthDelimited(stream, instance.ragdoll, isDelta);
					}
				}
				break;
			case 127u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dieselEngine == null)
					{
						instance.dieselEngine = DieselEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						DieselEngine.DeserializeLengthDelimited(stream, instance.dieselEngine, isDelta);
					}
				}
				break;
			case 150u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.associatedFiles == null)
					{
						instance.associatedFiles = AssociatedFiles.DeserializeLengthDelimited(stream);
					}
					else
					{
						AssociatedFiles.DeserializeLengthDelimited(stream, instance.associatedFiles, isDelta);
					}
				}
				break;
			case 151u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusFerry == null)
					{
						instance.nexusFerry = NexusFerry.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusFerry.DeserializeLengthDelimited(stream, instance.nexusFerry, isDelta);
					}
				}
				break;
			case 152u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusIsland == null)
					{
						instance.nexusIsland = NexusIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusIsland.DeserializeLengthDelimited(stream, instance.nexusIsland, isDelta);
					}
				}
				break;
			case 153u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusDockTerminal == null)
					{
						instance.nexusDockTerminal = NexusDockTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusDockTerminal.DeserializeLengthDelimited(stream, instance.nexusDockTerminal, isDelta);
					}
				}
				break;
			case 154u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rockingChair == null)
					{
						instance.rockingChair = RockingChair.DeserializeLengthDelimited(stream);
					}
					else
					{
						RockingChair.DeserializeLengthDelimited(stream, instance.rockingChair, isDelta);
					}
				}
				break;
			case 155u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.headData == null)
					{
						instance.headData = HeadData.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeadData.DeserializeLengthDelimited(stream, instance.headData, isDelta);
					}
				}
				break;
			case 156u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wantedPoster == null)
					{
						instance.wantedPoster = WantedPoster.DeserializeLengthDelimited(stream);
					}
					else
					{
						WantedPoster.DeserializeLengthDelimited(stream, instance.wantedPoster, isDelta);
					}
				}
				break;
			case 158u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waypointRace == null)
					{
						instance.waypointRace = WaypointRace.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaypointRace.DeserializeLengthDelimited(stream, instance.waypointRace, isDelta);
					}
				}
				break;
			case 159u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.legacyShelter == null)
					{
						instance.legacyShelter = LegacyShelter.DeserializeLengthDelimited(stream);
					}
					else
					{
						LegacyShelter.DeserializeLengthDelimited(stream, instance.legacyShelter, isDelta);
					}
				}
				break;
			case 160u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.metalDetectorSource == null)
					{
						instance.metalDetectorSource = MetalDetectorSource.DeserializeLengthDelimited(stream);
					}
					else
					{
						MetalDetectorSource.DeserializeLengthDelimited(stream, instance.metalDetectorSource, isDelta);
					}
				}
				break;
			case 161u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tutorialIsland == null)
					{
						instance.tutorialIsland = TutorialIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						TutorialIsland.DeserializeLengthDelimited(stream, instance.tutorialIsland, isDelta);
					}
				}
				break;
			case 162u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cinematicEntity == null)
					{
						instance.cinematicEntity = CinematicEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						CinematicEntity.DeserializeLengthDelimited(stream, instance.cinematicEntity, isDelta);
					}
				}
				break;
			case 163u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buildingPrivilegeRetro == null)
					{
						instance.buildingPrivilegeRetro = BuildingPrivilegeRetro.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuildingPrivilegeRetro.DeserializeLengthDelimited(stream, instance.buildingPrivilegeRetro, isDelta);
					}
				}
				break;
			case 164u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.harborCrane == null)
					{
						instance.harborCrane = HarborCrane.DeserializeLengthDelimited(stream);
					}
					else
					{
						HarborCrane.DeserializeLengthDelimited(stream, instance.harborCrane, isDelta);
					}
				}
				break;
			case 165u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShip == null)
					{
						instance.cargoShip = CargoShip.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShip.DeserializeLengthDelimited(stream, instance.cargoShip, isDelta);
					}
				}
				break;
			case 166u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShipContainer == null)
					{
						instance.cargoShipContainer = CargoShipContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShipContainer.DeserializeLengthDelimited(stream, instance.cargoShipContainer, isDelta);
					}
				}
				break;
			case 167u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.missionMapMarker == null)
					{
						instance.missionMapMarker = MissionMapMarker.DeserializeLengthDelimited(stream);
					}
					else
					{
						MissionMapMarker.DeserializeLengthDelimited(stream, instance.missionMapMarker, isDelta);
					}
				}
				break;
			case 168u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bike == null)
					{
						instance.bike = Bike.DeserializeLengthDelimited(stream);
					}
					else
					{
						Bike.DeserializeLengthDelimited(stream, instance.bike, isDelta);
					}
				}
				break;
			case 169u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.diverPropulsionVehicle == null)
					{
						instance.diverPropulsionVehicle = DiverPropulsionVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						DiverPropulsionVehicle.DeserializeLengthDelimited(stream, instance.diverPropulsionVehicle, isDelta);
					}
				}
				break;
			case 174u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.travellingVendor == null)
					{
						instance.travellingVendor = TravellingVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						TravellingVendor.DeserializeLengthDelimited(stream, instance.travellingVendor, isDelta);
					}
				}
				break;
			case 175u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingDynamicPricing == null)
					{
						instance.vendingDynamicPricing = VendingDynamicPricing.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingDynamicPricing.DeserializeLengthDelimited(stream, instance.vendingDynamicPricing, isDelta);
					}
				}
				break;
			case 176u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tinCanAlarm == null)
					{
						instance.tinCanAlarm = TinCanAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						TinCanAlarm.DeserializeLengthDelimited(stream, instance.tinCanAlarm, isDelta);
					}
				}
				break;
			case 177u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.digitalClock == null)
					{
						instance.digitalClock = DigitalClock.DeserializeLengthDelimited(stream);
					}
					else
					{
						DigitalClock.DeserializeLengthDelimited(stream, instance.digitalClock, isDelta);
					}
				}
				break;
			case 178u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevatorLift == null)
					{
						instance.elevatorLift = ElevatorLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						ElevatorLift.DeserializeLengthDelimited(stream, instance.elevatorLift, isDelta);
					}
				}
				break;
			case 179u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcVendingMachine == null)
					{
						instance.npcVendingMachine = NPCVendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCVendingMachine.DeserializeLengthDelimited(stream, instance.npcVendingMachine, isDelta);
					}
				}
				break;
			case 180u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mailbox == null)
					{
						instance.mailbox = Mailbox.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mailbox.DeserializeLengthDelimited(stream, instance.mailbox, isDelta);
					}
				}
				break;
			case 181u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.projectileWeaponMod == null)
					{
						instance.projectileWeaponMod = GunWeaponMod.DeserializeLengthDelimited(stream);
					}
					else
					{
						GunWeaponMod.DeserializeLengthDelimited(stream, instance.projectileWeaponMod, isDelta);
					}
				}
				break;
			case 182u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseSculpture == null)
					{
						instance.baseSculpture = BaseSculpture.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseSculpture.DeserializeLengthDelimited(stream, instance.baseSculpture, isDelta);
					}
				}
				break;
			case 183u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachineStats == null)
					{
						instance.vendingMachineStats = VendingMachineStats.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachineStats.DeserializeLengthDelimited(stream, instance.vendingMachineStats, isDelta);
					}
				}
				break;
			case 184u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.catapult == null)
					{
						instance.catapult = Catapult.DeserializeLengthDelimited(stream);
					}
					else
					{
						Catapult.DeserializeLengthDelimited(stream, instance.catapult, isDelta);
					}
				}
				break;
			case 185u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.siegeTower == null)
					{
						instance.siegeTower = SiegeTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						SiegeTower.DeserializeLengthDelimited(stream, instance.siegeTower, isDelta);
					}
				}
				break;
			case 186u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballista == null)
					{
						instance.ballista = Ballista.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ballista.DeserializeLengthDelimited(stream, instance.ballista, isDelta);
					}
				}
				break;
			case 187u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballistaGun == null)
					{
						instance.ballistaGun = BallistaGun.DeserializeLengthDelimited(stream);
					}
					else
					{
						BallistaGun.DeserializeLengthDelimited(stream, instance.ballistaGun, isDelta);
					}
				}
				break;
			case 188u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.batteringRam == null)
					{
						instance.batteringRam = BatteringRam.DeserializeLengthDelimited(stream);
					}
					else
					{
						BatteringRam.DeserializeLengthDelimited(stream, instance.batteringRam, isDelta);
					}
				}
				break;
			case 189u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.temporaryRagdoll == null)
					{
						instance.temporaryRagdoll = TemporaryRagdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						TemporaryRagdoll.DeserializeLengthDelimited(stream, instance.temporaryRagdoll, isDelta);
					}
				}
				break;
			case 191u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.constructableEntity == null)
					{
						instance.constructableEntity = ConstructableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConstructableEntity.DeserializeLengthDelimited(stream, instance.constructableEntity, isDelta);
					}
				}
				break;
			case 192u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.chickenCoop == null)
					{
						instance.chickenCoop = ChickenCoop.DeserializeLengthDelimited(stream);
					}
					else
					{
						ChickenCoop.DeserializeLengthDelimited(stream, instance.chickenCoop, isDelta);
					}
				}
				break;
			case 193u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.farmableAnimal == null)
					{
						instance.farmableAnimal = FarmableAnimal.DeserializeLengthDelimited(stream);
					}
					else
					{
						FarmableAnimal.DeserializeLengthDelimited(stream, instance.farmableAnimal, isDelta);
					}
				}
				break;
			case 194u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
				}
				break;
			case 195u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beehive == null)
					{
						instance.beehive = Beehive.DeserializeLengthDelimited(stream);
					}
					else
					{
						Beehive.DeserializeLengthDelimited(stream, instance.beehive, isDelta);
					}
				}
				break;
			case 196u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beeMasterSwarm == null)
					{
						instance.beeMasterSwarm = BeeMasterSwarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						BeeMasterSwarm.DeserializeLengthDelimited(stream, instance.beeMasterSwarm, isDelta);
					}
				}
				break;
			case 197u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.containerCorpse == null)
					{
						instance.containerCorpse = ContainerCorpseData.DeserializeLengthDelimited(stream);
					}
					else
					{
						ContainerCorpseData.DeserializeLengthDelimited(stream, instance.containerCorpse, isDelta);
					}
				}
				break;
			case 198u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcSensesState == null)
					{
						instance.npcSensesState = NPCSensesState.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCSensesState.DeserializeLengthDelimited(stream, instance.npcSensesState, isDelta);
					}
				}
				break;
			case 199u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineMountable == null)
					{
						instance.vineMountable = VineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineMountable.DeserializeLengthDelimited(stream, instance.vineMountable, isDelta);
					}
				}
				break;
			case 200u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineTree == null)
					{
						instance.vineTree = VineTree.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineTree.DeserializeLengthDelimited(stream, instance.vineTree, isDelta);
					}
				}
				break;
			case 201u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.treeRespawn == null)
					{
						instance.treeRespawn = TreeRespawn.DeserializeLengthDelimited(stream);
					}
					else
					{
						TreeRespawn.DeserializeLengthDelimited(stream, instance.treeRespawn, isDelta);
					}
				}
				break;
			case 202u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wallpaperTool == null)
					{
						instance.wallpaperTool = WallpaperTool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WallpaperTool.DeserializeLengthDelimited(stream, instance.wallpaperTool, isDelta);
					}
				}
				break;
			case 203u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.commandBlock == null)
					{
						instance.commandBlock = CommandBlock.DeserializeLengthDelimited(stream);
					}
					else
					{
						CommandBlock.DeserializeLengthDelimited(stream, instance.commandBlock, isDelta);
					}
				}
				break;
			case 204u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.staticRespawn == null)
					{
						instance.staticRespawn = StaticRespawnAreaData.DeserializeLengthDelimited(stream);
					}
					else
					{
						StaticRespawnAreaData.DeserializeLengthDelimited(stream, instance.staticRespawn, isDelta);
					}
				}
				break;
			case 205u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buriedItemStorage == null)
					{
						instance.buriedItemStorage = BuriedItems.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuriedItems.DeserializeLengthDelimited(stream, instance.buriedItemStorage, isDelta);
					}
				}
				break;
			case 206u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mannequin == null)
					{
						instance.mannequin = Mannequin.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mannequin.DeserializeLengthDelimited(stream, instance.mannequin, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
	}

	public static Entity DeserializeLengthDelimited(BufferStream stream, Entity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.baseNetworkable == null)
				{
					instance.baseNetworkable = BaseNetworkable.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseNetworkable.DeserializeLengthDelimited(stream, instance.baseNetworkable, isDelta);
				}
				continue;
			case 18:
				if (instance.baseEntity == null)
				{
					instance.baseEntity = BaseEntity.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseEntity.DeserializeLengthDelimited(stream, instance.baseEntity, isDelta);
				}
				continue;
			case 26:
				if (instance.basePlayer == null)
				{
					instance.basePlayer = BasePlayer.DeserializeLengthDelimited(stream);
				}
				else
				{
					BasePlayer.DeserializeLengthDelimited(stream, instance.basePlayer, isDelta);
				}
				continue;
			case 34:
				if (instance.worldItem == null)
				{
					instance.worldItem = WorldItem.DeserializeLengthDelimited(stream);
				}
				else
				{
					WorldItem.DeserializeLengthDelimited(stream, instance.worldItem, isDelta);
				}
				continue;
			case 42:
				if (instance.resource == null)
				{
					instance.resource = BaseResource.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseResource.DeserializeLengthDelimited(stream, instance.resource, isDelta);
				}
				continue;
			case 50:
				if (instance.buildingBlock == null)
				{
					instance.buildingBlock = BuildingBlock.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingBlock.DeserializeLengthDelimited(stream, instance.buildingBlock, isDelta);
				}
				continue;
			case 58:
				if (instance.environment == null)
				{
					instance.environment = ProtoBuf.Environment.DeserializeLengthDelimited(stream);
				}
				else
				{
					ProtoBuf.Environment.DeserializeLengthDelimited(stream, instance.environment, isDelta);
				}
				continue;
			case 66:
				if (instance.corpse == null)
				{
					instance.corpse = Corpse.DeserializeLengthDelimited(stream);
				}
				else
				{
					Corpse.DeserializeLengthDelimited(stream, instance.corpse, isDelta);
				}
				continue;
			case 82:
				if (instance.parent == null)
				{
					instance.parent = ParentInfo.DeserializeLengthDelimited(stream);
				}
				else
				{
					ParentInfo.DeserializeLengthDelimited(stream, instance.parent, isDelta);
				}
				continue;
			case 90:
				if (instance.keyLock == null)
				{
					instance.keyLock = KeyLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					KeyLock.DeserializeLengthDelimited(stream, instance.keyLock, isDelta);
				}
				continue;
			case 98:
				if (instance.codeLock == null)
				{
					instance.codeLock = CodeLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					CodeLock.DeserializeLengthDelimited(stream, instance.codeLock, isDelta);
				}
				continue;
			case 106:
				if (instance.entitySlots == null)
				{
					instance.entitySlots = EntitySlots.DeserializeLengthDelimited(stream);
				}
				else
				{
					EntitySlots.DeserializeLengthDelimited(stream, instance.entitySlots, isDelta);
				}
				continue;
			case 114:
				if (instance.buildingPrivilege == null)
				{
					instance.buildingPrivilege = BuildingPrivilege.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingPrivilege.DeserializeLengthDelimited(stream, instance.buildingPrivilege, isDelta);
				}
				continue;
			case 122:
				if (instance.storageBox == null)
				{
					instance.storageBox = StorageBox.DeserializeLengthDelimited(stream);
				}
				else
				{
					StorageBox.DeserializeLengthDelimited(stream, instance.storageBox, isDelta);
				}
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.heldEntity == null)
					{
						instance.heldEntity = HeldEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeldEntity.DeserializeLengthDelimited(stream, instance.heldEntity, isDelta);
					}
				}
				break;
			case 17u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseProjectile == null)
					{
						instance.baseProjectile = BaseProjectile.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseProjectile.DeserializeLengthDelimited(stream, instance.baseProjectile, isDelta);
					}
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseNPC == null)
					{
						instance.baseNPC = BaseNPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseNPC.DeserializeLengthDelimited(stream, instance.baseNPC, isDelta);
					}
				}
				break;
			case 19u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.loot == null)
					{
						instance.loot = Loot.DeserializeLengthDelimited(stream);
					}
					else
					{
						Loot.DeserializeLengthDelimited(stream, instance.loot, isDelta);
					}
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.genericSpawner == null)
					{
						instance.genericSpawner = GenericSpawner.DeserializeLengthDelimited(stream);
					}
					else
					{
						GenericSpawner.DeserializeLengthDelimited(stream, instance.genericSpawner, isDelta);
					}
				}
				break;
			case 21u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBag == null)
					{
						instance.sleepingBag = SleepingBag.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBag.DeserializeLengthDelimited(stream, instance.sleepingBag, isDelta);
					}
				}
				break;
			case 22u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lootableCorpse == null)
					{
						instance.lootableCorpse = LootableCorpse.DeserializeLengthDelimited(stream);
					}
					else
					{
						LootableCorpse.DeserializeLengthDelimited(stream, instance.lootableCorpse, isDelta);
					}
				}
				break;
			case 23u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sign == null)
					{
						instance.sign = Sign.DeserializeLengthDelimited(stream);
					}
					else
					{
						Sign.DeserializeLengthDelimited(stream, instance.sign, isDelta);
					}
				}
				break;
			case 24u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseCombat == null)
					{
						instance.baseCombat = BaseCombat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseCombat.DeserializeLengthDelimited(stream, instance.baseCombat, isDelta);
					}
				}
				break;
			case 25u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mapEntity == null)
					{
						instance.mapEntity = MapEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						MapEntity.DeserializeLengthDelimited(stream, instance.mapEntity, isDelta);
					}
				}
				break;
			case 26u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.researchTable == null)
					{
						instance.researchTable = ResearchTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ResearchTable.DeserializeLengthDelimited(stream, instance.researchTable, isDelta);
					}
				}
				break;
			case 27u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dudExplosive == null)
					{
						instance.dudExplosive = DudExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						DudExplosive.DeserializeLengthDelimited(stream, instance.dudExplosive, isDelta);
					}
				}
				break;
			case 28u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miningQuarry == null)
					{
						instance.miningQuarry = MiningQuarry.DeserializeLengthDelimited(stream);
					}
					else
					{
						MiningQuarry.DeserializeLengthDelimited(stream, instance.miningQuarry, isDelta);
					}
				}
				break;
			case 29u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseVehicle == null)
					{
						instance.baseVehicle = BaseVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseVehicle.DeserializeLengthDelimited(stream, instance.baseVehicle, isDelta);
					}
				}
				break;
			case 30u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopter == null)
					{
						instance.helicopter = Helicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Helicopter.DeserializeLengthDelimited(stream, instance.helicopter, isDelta);
					}
				}
				break;
			case 31u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.landmine == null)
					{
						instance.landmine = Landmine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Landmine.DeserializeLengthDelimited(stream, instance.landmine, isDelta);
					}
				}
				break;
			case 32u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.autoturret == null)
					{
						instance.autoturret = AutoTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AutoTurret.DeserializeLengthDelimited(stream, instance.autoturret, isDelta);
					}
				}
				break;
			case 33u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sphereEntity == null)
					{
						instance.sphereEntity = SphereEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						SphereEntity.DeserializeLengthDelimited(stream, instance.sphereEntity, isDelta);
					}
				}
				break;
			case 34u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.stabilityEntity == null)
					{
						instance.stabilityEntity = StabilityEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						StabilityEntity.DeserializeLengthDelimited(stream, instance.stabilityEntity, isDelta);
					}
				}
				break;
			case 35u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownerInfo == null)
					{
						instance.ownerInfo = OwnerInfo.DeserializeLengthDelimited(stream);
					}
					else
					{
						OwnerInfo.DeserializeLengthDelimited(stream, instance.ownerInfo, isDelta);
					}
				}
				break;
			case 36u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.decayEntity == null)
					{
						instance.decayEntity = DecayEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						DecayEntity.DeserializeLengthDelimited(stream, instance.decayEntity, isDelta);
					}
				}
				break;
			case 37u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spawnable == null)
					{
						instance.spawnable = Spawnable.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spawnable.DeserializeLengthDelimited(stream, instance.spawnable, isDelta);
					}
				}
				break;
			case 38u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.servergib == null)
					{
						instance.servergib = ServerGib.DeserializeLengthDelimited(stream);
					}
					else
					{
						ServerGib.DeserializeLengthDelimited(stream, instance.servergib, isDelta);
					}
				}
				break;
			case 39u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachine == null)
					{
						instance.vendingMachine = VendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachine.DeserializeLengthDelimited(stream, instance.vendingMachine, isDelta);
					}
				}
				break;
			case 40u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spinnerWheel == null)
					{
						instance.spinnerWheel = SpinnerWheel.DeserializeLengthDelimited(stream);
					}
					else
					{
						SpinnerWheel.DeserializeLengthDelimited(stream, instance.spinnerWheel, isDelta);
					}
				}
				break;
			case 41u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lift == null)
					{
						instance.lift = Lift.DeserializeLengthDelimited(stream);
					}
					else
					{
						Lift.DeserializeLengthDelimited(stream, instance.lift, isDelta);
					}
				}
				break;
			case 42u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bradley == null)
					{
						instance.bradley = BradleyAPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BradleyAPC.DeserializeLengthDelimited(stream, instance.bradley, isDelta);
					}
				}
				break;
			case 43u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waterwell == null)
					{
						instance.waterwell = WaterWell.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterWell.DeserializeLengthDelimited(stream, instance.waterwell, isDelta);
					}
				}
				break;
			case 44u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.motorBoat == null)
					{
						instance.motorBoat = Motorboat.DeserializeLengthDelimited(stream);
					}
					else
					{
						Motorboat.DeserializeLengthDelimited(stream, instance.motorBoat, isDelta);
					}
				}
				break;
			case 45u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ioEntity == null)
					{
						instance.ioEntity = IOEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						IOEntity.DeserializeLengthDelimited(stream, instance.ioEntity, isDelta);
					}
				}
				break;
			case 46u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.puzzleReset == null)
					{
						instance.puzzleReset = PuzzleReset.DeserializeLengthDelimited(stream);
					}
					else
					{
						PuzzleReset.DeserializeLengthDelimited(stream, instance.puzzleReset, isDelta);
					}
				}
				break;
			case 47u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.relationshipManager == null)
					{
						instance.relationshipManager = RelationshipManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						RelationshipManager.DeserializeLengthDelimited(stream, instance.relationshipManager, isDelta);
					}
				}
				break;
			case 48u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.hotAirBalloon == null)
					{
						instance.hotAirBalloon = HotAirBalloon.DeserializeLengthDelimited(stream);
					}
					else
					{
						HotAirBalloon.DeserializeLengthDelimited(stream, instance.hotAirBalloon, isDelta);
					}
				}
				break;
			case 49u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.samSite == null)
					{
						instance.samSite = SAMSite.DeserializeLengthDelimited(stream);
					}
					else
					{
						SAMSite.DeserializeLengthDelimited(stream, instance.samSite, isDelta);
					}
				}
				break;
			case 50u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.eggHunt == null)
					{
						instance.eggHunt = EggHunt.DeserializeLengthDelimited(stream);
					}
					else
					{
						EggHunt.DeserializeLengthDelimited(stream, instance.eggHunt, isDelta);
					}
				}
				break;
			case 51u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.arcadeMachine == null)
					{
						instance.arcadeMachine = ArcadeMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						ArcadeMachine.DeserializeLengthDelimited(stream, instance.arcadeMachine, isDelta);
					}
				}
				break;
			case 52u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miniCopter == null)
					{
						instance.miniCopter = Minicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Minicopter.DeserializeLengthDelimited(stream, instance.miniCopter, isDelta);
					}
				}
				break;
			case 53u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.horse == null)
					{
						instance.horse = Horse.DeserializeLengthDelimited(stream);
					}
					else
					{
						Horse.DeserializeLengthDelimited(stream, instance.horse, isDelta);
					}
				}
				break;
			case 54u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.smartAlarm == null)
					{
						instance.smartAlarm = SmartAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						SmartAlarm.DeserializeLengthDelimited(stream, instance.smartAlarm, isDelta);
					}
				}
				break;
			case 55u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightString == null)
					{
						instance.lightString = LightString.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightString.DeserializeLengthDelimited(stream, instance.lightString, isDelta);
					}
				}
				break;
			case 56u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightDeployer == null)
					{
						instance.lightDeployer = LightDeployer.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightDeployer.DeserializeLengthDelimited(stream, instance.lightDeployer, isDelta);
					}
				}
				break;
			case 57u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rcEntity == null)
					{
						instance.rcEntity = RCEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						RCEntity.DeserializeLengthDelimited(stream, instance.rcEntity, isDelta);
					}
				}
				break;
			case 58u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.computerStation == null)
					{
						instance.computerStation = ComputerStation.DeserializeLengthDelimited(stream);
					}
					else
					{
						ComputerStation.DeserializeLengthDelimited(stream, instance.computerStation, isDelta);
					}
				}
				break;
			case 59u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.growableEntity == null)
					{
						instance.growableEntity = GrowableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						GrowableEntity.DeserializeLengthDelimited(stream, instance.growableEntity, isDelta);
					}
				}
				break;
			case 60u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.composter == null)
					{
						instance.composter = Composter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Composter.DeserializeLengthDelimited(stream, instance.composter, isDelta);
					}
				}
				break;
			case 61u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularVehicle == null)
					{
						instance.modularVehicle = ModularVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularVehicle.DeserializeLengthDelimited(stream, instance.modularVehicle, isDelta);
					}
				}
				break;
			case 62u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularCar == null)
					{
						instance.modularCar = ModularCar.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularCar.DeserializeLengthDelimited(stream, instance.modularCar, isDelta);
					}
				}
				break;
			case 63u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUID == null)
					{
						instance.simpleUID = SimpleUID.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUID.DeserializeLengthDelimited(stream, instance.simpleUID, isDelta);
					}
				}
				break;
			case 64u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleLift == null)
					{
						instance.vehicleLift = VehicleLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleLift.DeserializeLengthDelimited(stream, instance.vehicleLift, isDelta);
					}
				}
				break;
			case 65u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.engineStorage == null)
					{
						instance.engineStorage = EngineStorage.DeserializeLengthDelimited(stream);
					}
					else
					{
						EngineStorage.DeserializeLengthDelimited(stream, instance.engineStorage, isDelta);
					}
				}
				break;
			case 66u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleVendor == null)
					{
						instance.vehicleVendor = VehicleVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleVendor.DeserializeLengthDelimited(stream, instance.vehicleVendor, isDelta);
					}
				}
				break;
			case 67u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.WaterPool == null)
					{
						instance.WaterPool = WaterPool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterPool.DeserializeLengthDelimited(stream, instance.WaterPool, isDelta);
					}
				}
				break;
			case 68u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photo == null)
					{
						instance.photo = Photo.DeserializeLengthDelimited(stream);
					}
					else
					{
						Photo.DeserializeLengthDelimited(stream, instance.photo, isDelta);
					}
				}
				break;
			case 69u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photoFrame == null)
					{
						instance.photoFrame = PhotoFrame.DeserializeLengthDelimited(stream);
					}
					else
					{
						PhotoFrame.DeserializeLengthDelimited(stream, instance.photoFrame, isDelta);
					}
				}
				break;
			case 70u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleModule == null)
					{
						instance.vehicleModule = VehicleModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleModule.DeserializeLengthDelimited(stream, instance.vehicleModule, isDelta);
					}
				}
				break;
			case 71u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mixingTable == null)
					{
						instance.mixingTable = MixingTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						MixingTable.DeserializeLengthDelimited(stream, instance.mixingTable, isDelta);
					}
				}
				break;
			case 72u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.shopKeeper == null)
					{
						instance.shopKeeper = ShopKeeper.DeserializeLengthDelimited(stream);
					}
					else
					{
						ShopKeeper.DeserializeLengthDelimited(stream, instance.shopKeeper, isDelta);
					}
				}
				break;
			case 73u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevator == null)
					{
						instance.elevator = Elevator.DeserializeLengthDelimited(stream);
					}
					else
					{
						Elevator.DeserializeLengthDelimited(stream, instance.elevator, isDelta);
					}
				}
				break;
			case 74u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.skullTrophy == null)
					{
						instance.skullTrophy = SkullTrophy.DeserializeLengthDelimited(stream);
					}
					else
					{
						SkullTrophy.DeserializeLengthDelimited(stream, instance.skullTrophy, isDelta);
					}
				}
				break;
			case 75u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cassette == null)
					{
						instance.cassette = Cassette.DeserializeLengthDelimited(stream);
					}
					else
					{
						Cassette.DeserializeLengthDelimited(stream, instance.cassette, isDelta);
					}
				}
				break;
			case 76u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.telephone == null)
					{
						instance.telephone = Telephone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Telephone.DeserializeLengthDelimited(stream, instance.telephone, isDelta);
					}
				}
				break;
			case 77u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.boomBox == null)
					{
						instance.boomBox = BoomBox.DeserializeLengthDelimited(stream);
					}
					else
					{
						BoomBox.DeserializeLengthDelimited(stream, instance.boomBox, isDelta);
					}
				}
				break;
			case 78u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.neonSign == null)
					{
						instance.neonSign = NeonSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						NeonSign.DeserializeLengthDelimited(stream, instance.neonSign, isDelta);
					}
				}
				break;
			case 79u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.subEntityList == null)
					{
						instance.subEntityList = SubEntityList.DeserializeLengthDelimited(stream);
					}
					else
					{
						SubEntityList.DeserializeLengthDelimited(stream, instance.subEntityList, isDelta);
					}
				}
				break;
			case 80u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.marketTerminal == null)
					{
						instance.marketTerminal = MarketTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						MarketTerminal.DeserializeLengthDelimited(stream, instance.marketTerminal, isDelta);
					}
				}
				break;
			case 81u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.deliveryDrone == null)
					{
						instance.deliveryDrone = DeliveryDrone.DeserializeLengthDelimited(stream);
					}
					else
					{
						DeliveryDrone.DeserializeLengthDelimited(stream, instance.deliveryDrone, isDelta);
					}
				}
				break;
			case 82u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimTerminal == null)
					{
						instance.reclaimTerminal = ReclaimTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimTerminal.DeserializeLengthDelimited(stream, instance.reclaimTerminal, isDelta);
					}
				}
				break;
			case 83u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.slotMachine == null)
					{
						instance.slotMachine = SlotMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SlotMachine.DeserializeLengthDelimited(stream, instance.slotMachine, isDelta);
					}
				}
				break;
			case 84u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.trainEngine == null)
					{
						instance.trainEngine = TrainEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						TrainEngine.DeserializeLengthDelimited(stream, instance.trainEngine, isDelta);
					}
				}
				break;
			case 85u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cardGame == null)
					{
						instance.cardGame = CardGame.DeserializeLengthDelimited(stream);
					}
					else
					{
						CardGame.DeserializeLengthDelimited(stream, instance.cardGame, isDelta);
					}
				}
				break;
			case 86u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.crane == null)
					{
						instance.crane = Crane.DeserializeLengthDelimited(stream);
					}
					else
					{
						Crane.DeserializeLengthDelimited(stream, instance.crane, isDelta);
					}
				}
				break;
			case 87u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.connectedSpeaker == null)
					{
						instance.connectedSpeaker = ConnectedSpeaker.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConnectedSpeaker.DeserializeLengthDelimited(stream, instance.connectedSpeaker, isDelta);
					}
				}
				break;
			case 88u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.audioEntity == null)
					{
						instance.audioEntity = AudioEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						AudioEntity.DeserializeLengthDelimited(stream, instance.audioEntity, isDelta);
					}
				}
				break;
			case 89u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.microphoneStand == null)
					{
						instance.microphoneStand = MicrophoneStand.DeserializeLengthDelimited(stream);
					}
					else
					{
						MicrophoneStand.DeserializeLengthDelimited(stream, instance.microphoneStand, isDelta);
					}
				}
				break;
			case 90u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.submarine == null)
					{
						instance.submarine = Submarine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Submarine.DeserializeLengthDelimited(stream, instance.submarine, isDelta);
					}
				}
				break;
			case 91u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBagCamper == null)
					{
						instance.sleepingBagCamper = SleepingBagCamper.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBagCamper.DeserializeLengthDelimited(stream, instance.sleepingBagCamper, isDelta);
					}
				}
				break;
			case 92u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.camperModule == null)
					{
						instance.camperModule = CamperModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						CamperModule.DeserializeLengthDelimited(stream, instance.camperModule, isDelta);
					}
				}
				break;
			case 93u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintableSign == null)
					{
						instance.paintableSign = PaintableSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintableSign.DeserializeLengthDelimited(stream, instance.paintableSign, isDelta);
					}
				}
				break;
			case 94u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.whitelist == null)
					{
						instance.whitelist = Whitelist.DeserializeLengthDelimited(stream);
					}
					else
					{
						Whitelist.DeserializeLengthDelimited(stream, instance.whitelist, isDelta);
					}
				}
				break;
			case 95u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.FrankensteinTable == null)
					{
						instance.FrankensteinTable = FrankensteinTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						FrankensteinTable.DeserializeLengthDelimited(stream, instance.FrankensteinTable, isDelta);
					}
				}
				break;
			case 96u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mlrs == null)
					{
						instance.mlrs = MLRS.DeserializeLengthDelimited(stream);
					}
					else
					{
						MLRS.DeserializeLengthDelimited(stream, instance.mlrs, isDelta);
					}
				}
				break;
			case 97u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimManager == null)
					{
						instance.reclaimManager = ReclaimManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimManager.DeserializeLengthDelimited(stream, instance.reclaimManager, isDelta);
					}
				}
				break;
			case 98u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.gameMode == null)
					{
						instance.gameMode = GameMode.DeserializeLengthDelimited(stream);
					}
					else
					{
						GameMode.DeserializeLengthDelimited(stream, instance.gameMode, isDelta);
					}
				}
				break;
			case 99u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.snowmobile == null)
					{
						instance.snowmobile = Snowmobile.DeserializeLengthDelimited(stream);
					}
					else
					{
						Snowmobile.DeserializeLengthDelimited(stream, instance.snowmobile, isDelta);
					}
				}
				break;
			case 100u:
				if (key.WireType == Wire.Varint)
				{
					instance.createdThisFrame = ProtocolParser.ReadBool(stream);
				}
				break;
			case 101u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.patternFirework == null)
					{
						instance.patternFirework = PatternFirework.DeserializeLengthDelimited(stream);
					}
					else
					{
						PatternFirework.DeserializeLengthDelimited(stream, instance.patternFirework, isDelta);
					}
				}
				break;
			case 102u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoPlane == null)
					{
						instance.cargoPlane = CargoPlane.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoPlane.DeserializeLengthDelimited(stream, instance.cargoPlane, isDelta);
					}
				}
				break;
			case 103u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintedItem == null)
					{
						instance.paintedItem = PaintedItem.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintedItem.DeserializeLengthDelimited(stream, instance.paintedItem, isDelta);
					}
				}
				break;
			case 104u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.clanManager == null)
					{
						instance.clanManager = ClanManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ClanManager.DeserializeLengthDelimited(stream, instance.clanManager, isDelta);
					}
				}
				break;
			case 105u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spray == null)
					{
						instance.spray = Spray.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spray.DeserializeLengthDelimited(stream, instance.spray, isDelta);
					}
				}
				break;
			case 106u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseTrain == null)
					{
						instance.baseTrain = BaseTrain.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseTrain.DeserializeLengthDelimited(stream, instance.baseTrain, isDelta);
					}
				}
				break;
			case 107u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.zipline == null)
					{
						instance.zipline = Zipline.DeserializeLengthDelimited(stream);
					}
					else
					{
						Zipline.DeserializeLengthDelimited(stream, instance.zipline, isDelta);
					}
				}
				break;
			case 108u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ziplineMountable == null)
					{
						instance.ziplineMountable = ZiplineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineMountable.DeserializeLengthDelimited(stream, instance.ziplineMountable, isDelta);
					}
				}
				break;
			case 109u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ZiplineArrival == null)
					{
						instance.ZiplineArrival = ZiplineArrivalPoint.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineArrivalPoint.DeserializeLengthDelimited(stream, instance.ZiplineArrival, isDelta);
					}
				}
				break;
			case 110u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sprayLine == null)
					{
						instance.sprayLine = SprayLine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SprayLine.DeserializeLengthDelimited(stream, instance.sprayLine, isDelta);
					}
				}
				break;
			case 111u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.coalingTower == null)
					{
						instance.coalingTower = CoalingTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						CoalingTower.DeserializeLengthDelimited(stream, instance.coalingTower, isDelta);
					}
				}
				break;
			case 112u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleInt == null)
					{
						instance.simpleInt = SimpleInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleInt.DeserializeLengthDelimited(stream, instance.simpleInt, isDelta);
					}
				}
				break;
			case 113u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseOven == null)
					{
						instance.baseOven = BaseOven.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseOven.DeserializeLengthDelimited(stream, instance.baseOven, isDelta);
					}
				}
				break;
			case 114u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.brainComponent == null)
					{
						instance.brainComponent = BrainComponent.DeserializeLengthDelimited(stream);
					}
					else
					{
						BrainComponent.DeserializeLengthDelimited(stream, instance.brainComponent, isDelta);
					}
				}
				break;
			case 115u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.proceduralDungeon == null)
					{
						instance.proceduralDungeon = ProceduralDungeon.DeserializeLengthDelimited(stream);
					}
					else
					{
						ProceduralDungeon.DeserializeLengthDelimited(stream, instance.proceduralDungeon, isDelta);
					}
				}
				break;
			case 116u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialConveyor == null)
					{
						instance.industrialConveyor = IndustrialConveyor.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialConveyor.DeserializeLengthDelimited(stream, instance.industrialConveyor, isDelta);
					}
				}
				break;
			case 117u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialCrafter == null)
					{
						instance.industrialCrafter = IndustrialCrafter.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialCrafter.DeserializeLengthDelimited(stream, instance.industrialCrafter, isDelta);
					}
				}
				break;
			case 118u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.drone == null)
					{
						instance.drone = Drone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Drone.DeserializeLengthDelimited(stream, instance.drone, isDelta);
					}
				}
				break;
			case 119u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.explosive == null)
					{
						instance.explosive = TimedExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						TimedExplosive.DeserializeLengthDelimited(stream, instance.explosive, isDelta);
					}
				}
				break;
			case 120u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUint == null)
					{
						instance.simpleUint = SimpleUInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUInt.DeserializeLengthDelimited(stream, instance.simpleUint, isDelta);
					}
				}
				break;
			case 121u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.weaponRack == null)
					{
						instance.weaponRack = WeaponRack.DeserializeLengthDelimited(stream);
					}
					else
					{
						WeaponRack.DeserializeLengthDelimited(stream, instance.weaponRack, isDelta);
					}
				}
				break;
			case 122u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeli == null)
					{
						instance.attackHeli = AttackHeli.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeli.DeserializeLengthDelimited(stream, instance.attackHeli, isDelta);
					}
				}
				break;
			case 123u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliTurret == null)
					{
						instance.attackHeliTurret = AttackHeliTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliTurret.DeserializeLengthDelimited(stream, instance.attackHeliTurret, isDelta);
					}
				}
				break;
			case 124u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliRockets == null)
					{
						instance.attackHeliRockets = AttackHeliRockets.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliRockets.DeserializeLengthDelimited(stream, instance.attackHeliRockets, isDelta);
					}
				}
				break;
			case 125u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseBoat == null)
					{
						instance.baseBoat = BaseBoat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseBoat.DeserializeLengthDelimited(stream, instance.baseBoat, isDelta);
					}
				}
				break;
			case 126u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ragdoll == null)
					{
						instance.ragdoll = Ragdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ragdoll.DeserializeLengthDelimited(stream, instance.ragdoll, isDelta);
					}
				}
				break;
			case 127u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dieselEngine == null)
					{
						instance.dieselEngine = DieselEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						DieselEngine.DeserializeLengthDelimited(stream, instance.dieselEngine, isDelta);
					}
				}
				break;
			case 150u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.associatedFiles == null)
					{
						instance.associatedFiles = AssociatedFiles.DeserializeLengthDelimited(stream);
					}
					else
					{
						AssociatedFiles.DeserializeLengthDelimited(stream, instance.associatedFiles, isDelta);
					}
				}
				break;
			case 151u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusFerry == null)
					{
						instance.nexusFerry = NexusFerry.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusFerry.DeserializeLengthDelimited(stream, instance.nexusFerry, isDelta);
					}
				}
				break;
			case 152u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusIsland == null)
					{
						instance.nexusIsland = NexusIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusIsland.DeserializeLengthDelimited(stream, instance.nexusIsland, isDelta);
					}
				}
				break;
			case 153u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusDockTerminal == null)
					{
						instance.nexusDockTerminal = NexusDockTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusDockTerminal.DeserializeLengthDelimited(stream, instance.nexusDockTerminal, isDelta);
					}
				}
				break;
			case 154u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rockingChair == null)
					{
						instance.rockingChair = RockingChair.DeserializeLengthDelimited(stream);
					}
					else
					{
						RockingChair.DeserializeLengthDelimited(stream, instance.rockingChair, isDelta);
					}
				}
				break;
			case 155u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.headData == null)
					{
						instance.headData = HeadData.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeadData.DeserializeLengthDelimited(stream, instance.headData, isDelta);
					}
				}
				break;
			case 156u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wantedPoster == null)
					{
						instance.wantedPoster = WantedPoster.DeserializeLengthDelimited(stream);
					}
					else
					{
						WantedPoster.DeserializeLengthDelimited(stream, instance.wantedPoster, isDelta);
					}
				}
				break;
			case 158u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waypointRace == null)
					{
						instance.waypointRace = WaypointRace.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaypointRace.DeserializeLengthDelimited(stream, instance.waypointRace, isDelta);
					}
				}
				break;
			case 159u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.legacyShelter == null)
					{
						instance.legacyShelter = LegacyShelter.DeserializeLengthDelimited(stream);
					}
					else
					{
						LegacyShelter.DeserializeLengthDelimited(stream, instance.legacyShelter, isDelta);
					}
				}
				break;
			case 160u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.metalDetectorSource == null)
					{
						instance.metalDetectorSource = MetalDetectorSource.DeserializeLengthDelimited(stream);
					}
					else
					{
						MetalDetectorSource.DeserializeLengthDelimited(stream, instance.metalDetectorSource, isDelta);
					}
				}
				break;
			case 161u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tutorialIsland == null)
					{
						instance.tutorialIsland = TutorialIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						TutorialIsland.DeserializeLengthDelimited(stream, instance.tutorialIsland, isDelta);
					}
				}
				break;
			case 162u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cinematicEntity == null)
					{
						instance.cinematicEntity = CinematicEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						CinematicEntity.DeserializeLengthDelimited(stream, instance.cinematicEntity, isDelta);
					}
				}
				break;
			case 163u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buildingPrivilegeRetro == null)
					{
						instance.buildingPrivilegeRetro = BuildingPrivilegeRetro.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuildingPrivilegeRetro.DeserializeLengthDelimited(stream, instance.buildingPrivilegeRetro, isDelta);
					}
				}
				break;
			case 164u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.harborCrane == null)
					{
						instance.harborCrane = HarborCrane.DeserializeLengthDelimited(stream);
					}
					else
					{
						HarborCrane.DeserializeLengthDelimited(stream, instance.harborCrane, isDelta);
					}
				}
				break;
			case 165u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShip == null)
					{
						instance.cargoShip = CargoShip.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShip.DeserializeLengthDelimited(stream, instance.cargoShip, isDelta);
					}
				}
				break;
			case 166u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShipContainer == null)
					{
						instance.cargoShipContainer = CargoShipContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShipContainer.DeserializeLengthDelimited(stream, instance.cargoShipContainer, isDelta);
					}
				}
				break;
			case 167u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.missionMapMarker == null)
					{
						instance.missionMapMarker = MissionMapMarker.DeserializeLengthDelimited(stream);
					}
					else
					{
						MissionMapMarker.DeserializeLengthDelimited(stream, instance.missionMapMarker, isDelta);
					}
				}
				break;
			case 168u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bike == null)
					{
						instance.bike = Bike.DeserializeLengthDelimited(stream);
					}
					else
					{
						Bike.DeserializeLengthDelimited(stream, instance.bike, isDelta);
					}
				}
				break;
			case 169u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.diverPropulsionVehicle == null)
					{
						instance.diverPropulsionVehicle = DiverPropulsionVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						DiverPropulsionVehicle.DeserializeLengthDelimited(stream, instance.diverPropulsionVehicle, isDelta);
					}
				}
				break;
			case 174u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.travellingVendor == null)
					{
						instance.travellingVendor = TravellingVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						TravellingVendor.DeserializeLengthDelimited(stream, instance.travellingVendor, isDelta);
					}
				}
				break;
			case 175u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingDynamicPricing == null)
					{
						instance.vendingDynamicPricing = VendingDynamicPricing.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingDynamicPricing.DeserializeLengthDelimited(stream, instance.vendingDynamicPricing, isDelta);
					}
				}
				break;
			case 176u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tinCanAlarm == null)
					{
						instance.tinCanAlarm = TinCanAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						TinCanAlarm.DeserializeLengthDelimited(stream, instance.tinCanAlarm, isDelta);
					}
				}
				break;
			case 177u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.digitalClock == null)
					{
						instance.digitalClock = DigitalClock.DeserializeLengthDelimited(stream);
					}
					else
					{
						DigitalClock.DeserializeLengthDelimited(stream, instance.digitalClock, isDelta);
					}
				}
				break;
			case 178u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevatorLift == null)
					{
						instance.elevatorLift = ElevatorLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						ElevatorLift.DeserializeLengthDelimited(stream, instance.elevatorLift, isDelta);
					}
				}
				break;
			case 179u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcVendingMachine == null)
					{
						instance.npcVendingMachine = NPCVendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCVendingMachine.DeserializeLengthDelimited(stream, instance.npcVendingMachine, isDelta);
					}
				}
				break;
			case 180u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mailbox == null)
					{
						instance.mailbox = Mailbox.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mailbox.DeserializeLengthDelimited(stream, instance.mailbox, isDelta);
					}
				}
				break;
			case 181u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.projectileWeaponMod == null)
					{
						instance.projectileWeaponMod = GunWeaponMod.DeserializeLengthDelimited(stream);
					}
					else
					{
						GunWeaponMod.DeserializeLengthDelimited(stream, instance.projectileWeaponMod, isDelta);
					}
				}
				break;
			case 182u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseSculpture == null)
					{
						instance.baseSculpture = BaseSculpture.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseSculpture.DeserializeLengthDelimited(stream, instance.baseSculpture, isDelta);
					}
				}
				break;
			case 183u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachineStats == null)
					{
						instance.vendingMachineStats = VendingMachineStats.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachineStats.DeserializeLengthDelimited(stream, instance.vendingMachineStats, isDelta);
					}
				}
				break;
			case 184u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.catapult == null)
					{
						instance.catapult = Catapult.DeserializeLengthDelimited(stream);
					}
					else
					{
						Catapult.DeserializeLengthDelimited(stream, instance.catapult, isDelta);
					}
				}
				break;
			case 185u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.siegeTower == null)
					{
						instance.siegeTower = SiegeTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						SiegeTower.DeserializeLengthDelimited(stream, instance.siegeTower, isDelta);
					}
				}
				break;
			case 186u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballista == null)
					{
						instance.ballista = Ballista.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ballista.DeserializeLengthDelimited(stream, instance.ballista, isDelta);
					}
				}
				break;
			case 187u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballistaGun == null)
					{
						instance.ballistaGun = BallistaGun.DeserializeLengthDelimited(stream);
					}
					else
					{
						BallistaGun.DeserializeLengthDelimited(stream, instance.ballistaGun, isDelta);
					}
				}
				break;
			case 188u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.batteringRam == null)
					{
						instance.batteringRam = BatteringRam.DeserializeLengthDelimited(stream);
					}
					else
					{
						BatteringRam.DeserializeLengthDelimited(stream, instance.batteringRam, isDelta);
					}
				}
				break;
			case 189u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.temporaryRagdoll == null)
					{
						instance.temporaryRagdoll = TemporaryRagdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						TemporaryRagdoll.DeserializeLengthDelimited(stream, instance.temporaryRagdoll, isDelta);
					}
				}
				break;
			case 191u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.constructableEntity == null)
					{
						instance.constructableEntity = ConstructableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConstructableEntity.DeserializeLengthDelimited(stream, instance.constructableEntity, isDelta);
					}
				}
				break;
			case 192u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.chickenCoop == null)
					{
						instance.chickenCoop = ChickenCoop.DeserializeLengthDelimited(stream);
					}
					else
					{
						ChickenCoop.DeserializeLengthDelimited(stream, instance.chickenCoop, isDelta);
					}
				}
				break;
			case 193u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.farmableAnimal == null)
					{
						instance.farmableAnimal = FarmableAnimal.DeserializeLengthDelimited(stream);
					}
					else
					{
						FarmableAnimal.DeserializeLengthDelimited(stream, instance.farmableAnimal, isDelta);
					}
				}
				break;
			case 194u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
				}
				break;
			case 195u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beehive == null)
					{
						instance.beehive = Beehive.DeserializeLengthDelimited(stream);
					}
					else
					{
						Beehive.DeserializeLengthDelimited(stream, instance.beehive, isDelta);
					}
				}
				break;
			case 196u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beeMasterSwarm == null)
					{
						instance.beeMasterSwarm = BeeMasterSwarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						BeeMasterSwarm.DeserializeLengthDelimited(stream, instance.beeMasterSwarm, isDelta);
					}
				}
				break;
			case 197u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.containerCorpse == null)
					{
						instance.containerCorpse = ContainerCorpseData.DeserializeLengthDelimited(stream);
					}
					else
					{
						ContainerCorpseData.DeserializeLengthDelimited(stream, instance.containerCorpse, isDelta);
					}
				}
				break;
			case 198u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcSensesState == null)
					{
						instance.npcSensesState = NPCSensesState.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCSensesState.DeserializeLengthDelimited(stream, instance.npcSensesState, isDelta);
					}
				}
				break;
			case 199u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineMountable == null)
					{
						instance.vineMountable = VineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineMountable.DeserializeLengthDelimited(stream, instance.vineMountable, isDelta);
					}
				}
				break;
			case 200u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineTree == null)
					{
						instance.vineTree = VineTree.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineTree.DeserializeLengthDelimited(stream, instance.vineTree, isDelta);
					}
				}
				break;
			case 201u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.treeRespawn == null)
					{
						instance.treeRespawn = TreeRespawn.DeserializeLengthDelimited(stream);
					}
					else
					{
						TreeRespawn.DeserializeLengthDelimited(stream, instance.treeRespawn, isDelta);
					}
				}
				break;
			case 202u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wallpaperTool == null)
					{
						instance.wallpaperTool = WallpaperTool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WallpaperTool.DeserializeLengthDelimited(stream, instance.wallpaperTool, isDelta);
					}
				}
				break;
			case 203u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.commandBlock == null)
					{
						instance.commandBlock = CommandBlock.DeserializeLengthDelimited(stream);
					}
					else
					{
						CommandBlock.DeserializeLengthDelimited(stream, instance.commandBlock, isDelta);
					}
				}
				break;
			case 204u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.staticRespawn == null)
					{
						instance.staticRespawn = StaticRespawnAreaData.DeserializeLengthDelimited(stream);
					}
					else
					{
						StaticRespawnAreaData.DeserializeLengthDelimited(stream, instance.staticRespawn, isDelta);
					}
				}
				break;
			case 205u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buriedItemStorage == null)
					{
						instance.buriedItemStorage = BuriedItems.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuriedItems.DeserializeLengthDelimited(stream, instance.buriedItemStorage, isDelta);
					}
				}
				break;
			case 206u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mannequin == null)
					{
						instance.mannequin = Mannequin.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mannequin.DeserializeLengthDelimited(stream, instance.mannequin, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Entity DeserializeLength(BufferStream stream, int length, Entity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.baseNetworkable == null)
				{
					instance.baseNetworkable = BaseNetworkable.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseNetworkable.DeserializeLengthDelimited(stream, instance.baseNetworkable, isDelta);
				}
				continue;
			case 18:
				if (instance.baseEntity == null)
				{
					instance.baseEntity = BaseEntity.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseEntity.DeserializeLengthDelimited(stream, instance.baseEntity, isDelta);
				}
				continue;
			case 26:
				if (instance.basePlayer == null)
				{
					instance.basePlayer = BasePlayer.DeserializeLengthDelimited(stream);
				}
				else
				{
					BasePlayer.DeserializeLengthDelimited(stream, instance.basePlayer, isDelta);
				}
				continue;
			case 34:
				if (instance.worldItem == null)
				{
					instance.worldItem = WorldItem.DeserializeLengthDelimited(stream);
				}
				else
				{
					WorldItem.DeserializeLengthDelimited(stream, instance.worldItem, isDelta);
				}
				continue;
			case 42:
				if (instance.resource == null)
				{
					instance.resource = BaseResource.DeserializeLengthDelimited(stream);
				}
				else
				{
					BaseResource.DeserializeLengthDelimited(stream, instance.resource, isDelta);
				}
				continue;
			case 50:
				if (instance.buildingBlock == null)
				{
					instance.buildingBlock = BuildingBlock.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingBlock.DeserializeLengthDelimited(stream, instance.buildingBlock, isDelta);
				}
				continue;
			case 58:
				if (instance.environment == null)
				{
					instance.environment = ProtoBuf.Environment.DeserializeLengthDelimited(stream);
				}
				else
				{
					ProtoBuf.Environment.DeserializeLengthDelimited(stream, instance.environment, isDelta);
				}
				continue;
			case 66:
				if (instance.corpse == null)
				{
					instance.corpse = Corpse.DeserializeLengthDelimited(stream);
				}
				else
				{
					Corpse.DeserializeLengthDelimited(stream, instance.corpse, isDelta);
				}
				continue;
			case 82:
				if (instance.parent == null)
				{
					instance.parent = ParentInfo.DeserializeLengthDelimited(stream);
				}
				else
				{
					ParentInfo.DeserializeLengthDelimited(stream, instance.parent, isDelta);
				}
				continue;
			case 90:
				if (instance.keyLock == null)
				{
					instance.keyLock = KeyLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					KeyLock.DeserializeLengthDelimited(stream, instance.keyLock, isDelta);
				}
				continue;
			case 98:
				if (instance.codeLock == null)
				{
					instance.codeLock = CodeLock.DeserializeLengthDelimited(stream);
				}
				else
				{
					CodeLock.DeserializeLengthDelimited(stream, instance.codeLock, isDelta);
				}
				continue;
			case 106:
				if (instance.entitySlots == null)
				{
					instance.entitySlots = EntitySlots.DeserializeLengthDelimited(stream);
				}
				else
				{
					EntitySlots.DeserializeLengthDelimited(stream, instance.entitySlots, isDelta);
				}
				continue;
			case 114:
				if (instance.buildingPrivilege == null)
				{
					instance.buildingPrivilege = BuildingPrivilege.DeserializeLengthDelimited(stream);
				}
				else
				{
					BuildingPrivilege.DeserializeLengthDelimited(stream, instance.buildingPrivilege, isDelta);
				}
				continue;
			case 122:
				if (instance.storageBox == null)
				{
					instance.storageBox = StorageBox.DeserializeLengthDelimited(stream);
				}
				else
				{
					StorageBox.DeserializeLengthDelimited(stream, instance.storageBox, isDelta);
				}
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.heldEntity == null)
					{
						instance.heldEntity = HeldEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeldEntity.DeserializeLengthDelimited(stream, instance.heldEntity, isDelta);
					}
				}
				break;
			case 17u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseProjectile == null)
					{
						instance.baseProjectile = BaseProjectile.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseProjectile.DeserializeLengthDelimited(stream, instance.baseProjectile, isDelta);
					}
				}
				break;
			case 18u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseNPC == null)
					{
						instance.baseNPC = BaseNPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseNPC.DeserializeLengthDelimited(stream, instance.baseNPC, isDelta);
					}
				}
				break;
			case 19u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.loot == null)
					{
						instance.loot = Loot.DeserializeLengthDelimited(stream);
					}
					else
					{
						Loot.DeserializeLengthDelimited(stream, instance.loot, isDelta);
					}
				}
				break;
			case 20u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.genericSpawner == null)
					{
						instance.genericSpawner = GenericSpawner.DeserializeLengthDelimited(stream);
					}
					else
					{
						GenericSpawner.DeserializeLengthDelimited(stream, instance.genericSpawner, isDelta);
					}
				}
				break;
			case 21u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBag == null)
					{
						instance.sleepingBag = SleepingBag.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBag.DeserializeLengthDelimited(stream, instance.sleepingBag, isDelta);
					}
				}
				break;
			case 22u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lootableCorpse == null)
					{
						instance.lootableCorpse = LootableCorpse.DeserializeLengthDelimited(stream);
					}
					else
					{
						LootableCorpse.DeserializeLengthDelimited(stream, instance.lootableCorpse, isDelta);
					}
				}
				break;
			case 23u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sign == null)
					{
						instance.sign = Sign.DeserializeLengthDelimited(stream);
					}
					else
					{
						Sign.DeserializeLengthDelimited(stream, instance.sign, isDelta);
					}
				}
				break;
			case 24u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseCombat == null)
					{
						instance.baseCombat = BaseCombat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseCombat.DeserializeLengthDelimited(stream, instance.baseCombat, isDelta);
					}
				}
				break;
			case 25u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mapEntity == null)
					{
						instance.mapEntity = MapEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						MapEntity.DeserializeLengthDelimited(stream, instance.mapEntity, isDelta);
					}
				}
				break;
			case 26u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.researchTable == null)
					{
						instance.researchTable = ResearchTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ResearchTable.DeserializeLengthDelimited(stream, instance.researchTable, isDelta);
					}
				}
				break;
			case 27u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dudExplosive == null)
					{
						instance.dudExplosive = DudExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						DudExplosive.DeserializeLengthDelimited(stream, instance.dudExplosive, isDelta);
					}
				}
				break;
			case 28u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miningQuarry == null)
					{
						instance.miningQuarry = MiningQuarry.DeserializeLengthDelimited(stream);
					}
					else
					{
						MiningQuarry.DeserializeLengthDelimited(stream, instance.miningQuarry, isDelta);
					}
				}
				break;
			case 29u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseVehicle == null)
					{
						instance.baseVehicle = BaseVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseVehicle.DeserializeLengthDelimited(stream, instance.baseVehicle, isDelta);
					}
				}
				break;
			case 30u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.helicopter == null)
					{
						instance.helicopter = Helicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Helicopter.DeserializeLengthDelimited(stream, instance.helicopter, isDelta);
					}
				}
				break;
			case 31u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.landmine == null)
					{
						instance.landmine = Landmine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Landmine.DeserializeLengthDelimited(stream, instance.landmine, isDelta);
					}
				}
				break;
			case 32u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.autoturret == null)
					{
						instance.autoturret = AutoTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AutoTurret.DeserializeLengthDelimited(stream, instance.autoturret, isDelta);
					}
				}
				break;
			case 33u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sphereEntity == null)
					{
						instance.sphereEntity = SphereEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						SphereEntity.DeserializeLengthDelimited(stream, instance.sphereEntity, isDelta);
					}
				}
				break;
			case 34u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.stabilityEntity == null)
					{
						instance.stabilityEntity = StabilityEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						StabilityEntity.DeserializeLengthDelimited(stream, instance.stabilityEntity, isDelta);
					}
				}
				break;
			case 35u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownerInfo == null)
					{
						instance.ownerInfo = OwnerInfo.DeserializeLengthDelimited(stream);
					}
					else
					{
						OwnerInfo.DeserializeLengthDelimited(stream, instance.ownerInfo, isDelta);
					}
				}
				break;
			case 36u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.decayEntity == null)
					{
						instance.decayEntity = DecayEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						DecayEntity.DeserializeLengthDelimited(stream, instance.decayEntity, isDelta);
					}
				}
				break;
			case 37u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spawnable == null)
					{
						instance.spawnable = Spawnable.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spawnable.DeserializeLengthDelimited(stream, instance.spawnable, isDelta);
					}
				}
				break;
			case 38u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.servergib == null)
					{
						instance.servergib = ServerGib.DeserializeLengthDelimited(stream);
					}
					else
					{
						ServerGib.DeserializeLengthDelimited(stream, instance.servergib, isDelta);
					}
				}
				break;
			case 39u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachine == null)
					{
						instance.vendingMachine = VendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachine.DeserializeLengthDelimited(stream, instance.vendingMachine, isDelta);
					}
				}
				break;
			case 40u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spinnerWheel == null)
					{
						instance.spinnerWheel = SpinnerWheel.DeserializeLengthDelimited(stream);
					}
					else
					{
						SpinnerWheel.DeserializeLengthDelimited(stream, instance.spinnerWheel, isDelta);
					}
				}
				break;
			case 41u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lift == null)
					{
						instance.lift = Lift.DeserializeLengthDelimited(stream);
					}
					else
					{
						Lift.DeserializeLengthDelimited(stream, instance.lift, isDelta);
					}
				}
				break;
			case 42u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bradley == null)
					{
						instance.bradley = BradleyAPC.DeserializeLengthDelimited(stream);
					}
					else
					{
						BradleyAPC.DeserializeLengthDelimited(stream, instance.bradley, isDelta);
					}
				}
				break;
			case 43u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waterwell == null)
					{
						instance.waterwell = WaterWell.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterWell.DeserializeLengthDelimited(stream, instance.waterwell, isDelta);
					}
				}
				break;
			case 44u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.motorBoat == null)
					{
						instance.motorBoat = Motorboat.DeserializeLengthDelimited(stream);
					}
					else
					{
						Motorboat.DeserializeLengthDelimited(stream, instance.motorBoat, isDelta);
					}
				}
				break;
			case 45u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ioEntity == null)
					{
						instance.ioEntity = IOEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						IOEntity.DeserializeLengthDelimited(stream, instance.ioEntity, isDelta);
					}
				}
				break;
			case 46u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.puzzleReset == null)
					{
						instance.puzzleReset = PuzzleReset.DeserializeLengthDelimited(stream);
					}
					else
					{
						PuzzleReset.DeserializeLengthDelimited(stream, instance.puzzleReset, isDelta);
					}
				}
				break;
			case 47u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.relationshipManager == null)
					{
						instance.relationshipManager = RelationshipManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						RelationshipManager.DeserializeLengthDelimited(stream, instance.relationshipManager, isDelta);
					}
				}
				break;
			case 48u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.hotAirBalloon == null)
					{
						instance.hotAirBalloon = HotAirBalloon.DeserializeLengthDelimited(stream);
					}
					else
					{
						HotAirBalloon.DeserializeLengthDelimited(stream, instance.hotAirBalloon, isDelta);
					}
				}
				break;
			case 49u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.samSite == null)
					{
						instance.samSite = SAMSite.DeserializeLengthDelimited(stream);
					}
					else
					{
						SAMSite.DeserializeLengthDelimited(stream, instance.samSite, isDelta);
					}
				}
				break;
			case 50u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.eggHunt == null)
					{
						instance.eggHunt = EggHunt.DeserializeLengthDelimited(stream);
					}
					else
					{
						EggHunt.DeserializeLengthDelimited(stream, instance.eggHunt, isDelta);
					}
				}
				break;
			case 51u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.arcadeMachine == null)
					{
						instance.arcadeMachine = ArcadeMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						ArcadeMachine.DeserializeLengthDelimited(stream, instance.arcadeMachine, isDelta);
					}
				}
				break;
			case 52u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.miniCopter == null)
					{
						instance.miniCopter = Minicopter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Minicopter.DeserializeLengthDelimited(stream, instance.miniCopter, isDelta);
					}
				}
				break;
			case 53u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.horse == null)
					{
						instance.horse = Horse.DeserializeLengthDelimited(stream);
					}
					else
					{
						Horse.DeserializeLengthDelimited(stream, instance.horse, isDelta);
					}
				}
				break;
			case 54u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.smartAlarm == null)
					{
						instance.smartAlarm = SmartAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						SmartAlarm.DeserializeLengthDelimited(stream, instance.smartAlarm, isDelta);
					}
				}
				break;
			case 55u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightString == null)
					{
						instance.lightString = LightString.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightString.DeserializeLengthDelimited(stream, instance.lightString, isDelta);
					}
				}
				break;
			case 56u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.lightDeployer == null)
					{
						instance.lightDeployer = LightDeployer.DeserializeLengthDelimited(stream);
					}
					else
					{
						LightDeployer.DeserializeLengthDelimited(stream, instance.lightDeployer, isDelta);
					}
				}
				break;
			case 57u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rcEntity == null)
					{
						instance.rcEntity = RCEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						RCEntity.DeserializeLengthDelimited(stream, instance.rcEntity, isDelta);
					}
				}
				break;
			case 58u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.computerStation == null)
					{
						instance.computerStation = ComputerStation.DeserializeLengthDelimited(stream);
					}
					else
					{
						ComputerStation.DeserializeLengthDelimited(stream, instance.computerStation, isDelta);
					}
				}
				break;
			case 59u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.growableEntity == null)
					{
						instance.growableEntity = GrowableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						GrowableEntity.DeserializeLengthDelimited(stream, instance.growableEntity, isDelta);
					}
				}
				break;
			case 60u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.composter == null)
					{
						instance.composter = Composter.DeserializeLengthDelimited(stream);
					}
					else
					{
						Composter.DeserializeLengthDelimited(stream, instance.composter, isDelta);
					}
				}
				break;
			case 61u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularVehicle == null)
					{
						instance.modularVehicle = ModularVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularVehicle.DeserializeLengthDelimited(stream, instance.modularVehicle, isDelta);
					}
				}
				break;
			case 62u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.modularCar == null)
					{
						instance.modularCar = ModularCar.DeserializeLengthDelimited(stream);
					}
					else
					{
						ModularCar.DeserializeLengthDelimited(stream, instance.modularCar, isDelta);
					}
				}
				break;
			case 63u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUID == null)
					{
						instance.simpleUID = SimpleUID.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUID.DeserializeLengthDelimited(stream, instance.simpleUID, isDelta);
					}
				}
				break;
			case 64u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleLift == null)
					{
						instance.vehicleLift = VehicleLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleLift.DeserializeLengthDelimited(stream, instance.vehicleLift, isDelta);
					}
				}
				break;
			case 65u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.engineStorage == null)
					{
						instance.engineStorage = EngineStorage.DeserializeLengthDelimited(stream);
					}
					else
					{
						EngineStorage.DeserializeLengthDelimited(stream, instance.engineStorage, isDelta);
					}
				}
				break;
			case 66u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleVendor == null)
					{
						instance.vehicleVendor = VehicleVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleVendor.DeserializeLengthDelimited(stream, instance.vehicleVendor, isDelta);
					}
				}
				break;
			case 67u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.WaterPool == null)
					{
						instance.WaterPool = WaterPool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaterPool.DeserializeLengthDelimited(stream, instance.WaterPool, isDelta);
					}
				}
				break;
			case 68u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photo == null)
					{
						instance.photo = Photo.DeserializeLengthDelimited(stream);
					}
					else
					{
						Photo.DeserializeLengthDelimited(stream, instance.photo, isDelta);
					}
				}
				break;
			case 69u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.photoFrame == null)
					{
						instance.photoFrame = PhotoFrame.DeserializeLengthDelimited(stream);
					}
					else
					{
						PhotoFrame.DeserializeLengthDelimited(stream, instance.photoFrame, isDelta);
					}
				}
				break;
			case 70u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vehicleModule == null)
					{
						instance.vehicleModule = VehicleModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						VehicleModule.DeserializeLengthDelimited(stream, instance.vehicleModule, isDelta);
					}
				}
				break;
			case 71u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mixingTable == null)
					{
						instance.mixingTable = MixingTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						MixingTable.DeserializeLengthDelimited(stream, instance.mixingTable, isDelta);
					}
				}
				break;
			case 72u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.shopKeeper == null)
					{
						instance.shopKeeper = ShopKeeper.DeserializeLengthDelimited(stream);
					}
					else
					{
						ShopKeeper.DeserializeLengthDelimited(stream, instance.shopKeeper, isDelta);
					}
				}
				break;
			case 73u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevator == null)
					{
						instance.elevator = Elevator.DeserializeLengthDelimited(stream);
					}
					else
					{
						Elevator.DeserializeLengthDelimited(stream, instance.elevator, isDelta);
					}
				}
				break;
			case 74u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.skullTrophy == null)
					{
						instance.skullTrophy = SkullTrophy.DeserializeLengthDelimited(stream);
					}
					else
					{
						SkullTrophy.DeserializeLengthDelimited(stream, instance.skullTrophy, isDelta);
					}
				}
				break;
			case 75u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cassette == null)
					{
						instance.cassette = Cassette.DeserializeLengthDelimited(stream);
					}
					else
					{
						Cassette.DeserializeLengthDelimited(stream, instance.cassette, isDelta);
					}
				}
				break;
			case 76u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.telephone == null)
					{
						instance.telephone = Telephone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Telephone.DeserializeLengthDelimited(stream, instance.telephone, isDelta);
					}
				}
				break;
			case 77u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.boomBox == null)
					{
						instance.boomBox = BoomBox.DeserializeLengthDelimited(stream);
					}
					else
					{
						BoomBox.DeserializeLengthDelimited(stream, instance.boomBox, isDelta);
					}
				}
				break;
			case 78u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.neonSign == null)
					{
						instance.neonSign = NeonSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						NeonSign.DeserializeLengthDelimited(stream, instance.neonSign, isDelta);
					}
				}
				break;
			case 79u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.subEntityList == null)
					{
						instance.subEntityList = SubEntityList.DeserializeLengthDelimited(stream);
					}
					else
					{
						SubEntityList.DeserializeLengthDelimited(stream, instance.subEntityList, isDelta);
					}
				}
				break;
			case 80u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.marketTerminal == null)
					{
						instance.marketTerminal = MarketTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						MarketTerminal.DeserializeLengthDelimited(stream, instance.marketTerminal, isDelta);
					}
				}
				break;
			case 81u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.deliveryDrone == null)
					{
						instance.deliveryDrone = DeliveryDrone.DeserializeLengthDelimited(stream);
					}
					else
					{
						DeliveryDrone.DeserializeLengthDelimited(stream, instance.deliveryDrone, isDelta);
					}
				}
				break;
			case 82u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimTerminal == null)
					{
						instance.reclaimTerminal = ReclaimTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimTerminal.DeserializeLengthDelimited(stream, instance.reclaimTerminal, isDelta);
					}
				}
				break;
			case 83u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.slotMachine == null)
					{
						instance.slotMachine = SlotMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SlotMachine.DeserializeLengthDelimited(stream, instance.slotMachine, isDelta);
					}
				}
				break;
			case 84u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.trainEngine == null)
					{
						instance.trainEngine = TrainEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						TrainEngine.DeserializeLengthDelimited(stream, instance.trainEngine, isDelta);
					}
				}
				break;
			case 85u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cardGame == null)
					{
						instance.cardGame = CardGame.DeserializeLengthDelimited(stream);
					}
					else
					{
						CardGame.DeserializeLengthDelimited(stream, instance.cardGame, isDelta);
					}
				}
				break;
			case 86u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.crane == null)
					{
						instance.crane = Crane.DeserializeLengthDelimited(stream);
					}
					else
					{
						Crane.DeserializeLengthDelimited(stream, instance.crane, isDelta);
					}
				}
				break;
			case 87u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.connectedSpeaker == null)
					{
						instance.connectedSpeaker = ConnectedSpeaker.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConnectedSpeaker.DeserializeLengthDelimited(stream, instance.connectedSpeaker, isDelta);
					}
				}
				break;
			case 88u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.audioEntity == null)
					{
						instance.audioEntity = AudioEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						AudioEntity.DeserializeLengthDelimited(stream, instance.audioEntity, isDelta);
					}
				}
				break;
			case 89u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.microphoneStand == null)
					{
						instance.microphoneStand = MicrophoneStand.DeserializeLengthDelimited(stream);
					}
					else
					{
						MicrophoneStand.DeserializeLengthDelimited(stream, instance.microphoneStand, isDelta);
					}
				}
				break;
			case 90u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.submarine == null)
					{
						instance.submarine = Submarine.DeserializeLengthDelimited(stream);
					}
					else
					{
						Submarine.DeserializeLengthDelimited(stream, instance.submarine, isDelta);
					}
				}
				break;
			case 91u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sleepingBagCamper == null)
					{
						instance.sleepingBagCamper = SleepingBagCamper.DeserializeLengthDelimited(stream);
					}
					else
					{
						SleepingBagCamper.DeserializeLengthDelimited(stream, instance.sleepingBagCamper, isDelta);
					}
				}
				break;
			case 92u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.camperModule == null)
					{
						instance.camperModule = CamperModule.DeserializeLengthDelimited(stream);
					}
					else
					{
						CamperModule.DeserializeLengthDelimited(stream, instance.camperModule, isDelta);
					}
				}
				break;
			case 93u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintableSign == null)
					{
						instance.paintableSign = PaintableSign.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintableSign.DeserializeLengthDelimited(stream, instance.paintableSign, isDelta);
					}
				}
				break;
			case 94u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.whitelist == null)
					{
						instance.whitelist = Whitelist.DeserializeLengthDelimited(stream);
					}
					else
					{
						Whitelist.DeserializeLengthDelimited(stream, instance.whitelist, isDelta);
					}
				}
				break;
			case 95u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.FrankensteinTable == null)
					{
						instance.FrankensteinTable = FrankensteinTable.DeserializeLengthDelimited(stream);
					}
					else
					{
						FrankensteinTable.DeserializeLengthDelimited(stream, instance.FrankensteinTable, isDelta);
					}
				}
				break;
			case 96u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mlrs == null)
					{
						instance.mlrs = MLRS.DeserializeLengthDelimited(stream);
					}
					else
					{
						MLRS.DeserializeLengthDelimited(stream, instance.mlrs, isDelta);
					}
				}
				break;
			case 97u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.reclaimManager == null)
					{
						instance.reclaimManager = ReclaimManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ReclaimManager.DeserializeLengthDelimited(stream, instance.reclaimManager, isDelta);
					}
				}
				break;
			case 98u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.gameMode == null)
					{
						instance.gameMode = GameMode.DeserializeLengthDelimited(stream);
					}
					else
					{
						GameMode.DeserializeLengthDelimited(stream, instance.gameMode, isDelta);
					}
				}
				break;
			case 99u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.snowmobile == null)
					{
						instance.snowmobile = Snowmobile.DeserializeLengthDelimited(stream);
					}
					else
					{
						Snowmobile.DeserializeLengthDelimited(stream, instance.snowmobile, isDelta);
					}
				}
				break;
			case 100u:
				if (key.WireType == Wire.Varint)
				{
					instance.createdThisFrame = ProtocolParser.ReadBool(stream);
				}
				break;
			case 101u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.patternFirework == null)
					{
						instance.patternFirework = PatternFirework.DeserializeLengthDelimited(stream);
					}
					else
					{
						PatternFirework.DeserializeLengthDelimited(stream, instance.patternFirework, isDelta);
					}
				}
				break;
			case 102u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoPlane == null)
					{
						instance.cargoPlane = CargoPlane.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoPlane.DeserializeLengthDelimited(stream, instance.cargoPlane, isDelta);
					}
				}
				break;
			case 103u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.paintedItem == null)
					{
						instance.paintedItem = PaintedItem.DeserializeLengthDelimited(stream);
					}
					else
					{
						PaintedItem.DeserializeLengthDelimited(stream, instance.paintedItem, isDelta);
					}
				}
				break;
			case 104u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.clanManager == null)
					{
						instance.clanManager = ClanManager.DeserializeLengthDelimited(stream);
					}
					else
					{
						ClanManager.DeserializeLengthDelimited(stream, instance.clanManager, isDelta);
					}
				}
				break;
			case 105u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.spray == null)
					{
						instance.spray = Spray.DeserializeLengthDelimited(stream);
					}
					else
					{
						Spray.DeserializeLengthDelimited(stream, instance.spray, isDelta);
					}
				}
				break;
			case 106u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseTrain == null)
					{
						instance.baseTrain = BaseTrain.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseTrain.DeserializeLengthDelimited(stream, instance.baseTrain, isDelta);
					}
				}
				break;
			case 107u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.zipline == null)
					{
						instance.zipline = Zipline.DeserializeLengthDelimited(stream);
					}
					else
					{
						Zipline.DeserializeLengthDelimited(stream, instance.zipline, isDelta);
					}
				}
				break;
			case 108u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ziplineMountable == null)
					{
						instance.ziplineMountable = ZiplineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineMountable.DeserializeLengthDelimited(stream, instance.ziplineMountable, isDelta);
					}
				}
				break;
			case 109u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ZiplineArrival == null)
					{
						instance.ZiplineArrival = ZiplineArrivalPoint.DeserializeLengthDelimited(stream);
					}
					else
					{
						ZiplineArrivalPoint.DeserializeLengthDelimited(stream, instance.ZiplineArrival, isDelta);
					}
				}
				break;
			case 110u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.sprayLine == null)
					{
						instance.sprayLine = SprayLine.DeserializeLengthDelimited(stream);
					}
					else
					{
						SprayLine.DeserializeLengthDelimited(stream, instance.sprayLine, isDelta);
					}
				}
				break;
			case 111u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.coalingTower == null)
					{
						instance.coalingTower = CoalingTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						CoalingTower.DeserializeLengthDelimited(stream, instance.coalingTower, isDelta);
					}
				}
				break;
			case 112u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleInt == null)
					{
						instance.simpleInt = SimpleInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleInt.DeserializeLengthDelimited(stream, instance.simpleInt, isDelta);
					}
				}
				break;
			case 113u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseOven == null)
					{
						instance.baseOven = BaseOven.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseOven.DeserializeLengthDelimited(stream, instance.baseOven, isDelta);
					}
				}
				break;
			case 114u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.brainComponent == null)
					{
						instance.brainComponent = BrainComponent.DeserializeLengthDelimited(stream);
					}
					else
					{
						BrainComponent.DeserializeLengthDelimited(stream, instance.brainComponent, isDelta);
					}
				}
				break;
			case 115u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.proceduralDungeon == null)
					{
						instance.proceduralDungeon = ProceduralDungeon.DeserializeLengthDelimited(stream);
					}
					else
					{
						ProceduralDungeon.DeserializeLengthDelimited(stream, instance.proceduralDungeon, isDelta);
					}
				}
				break;
			case 116u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialConveyor == null)
					{
						instance.industrialConveyor = IndustrialConveyor.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialConveyor.DeserializeLengthDelimited(stream, instance.industrialConveyor, isDelta);
					}
				}
				break;
			case 117u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.industrialCrafter == null)
					{
						instance.industrialCrafter = IndustrialCrafter.DeserializeLengthDelimited(stream);
					}
					else
					{
						IndustrialCrafter.DeserializeLengthDelimited(stream, instance.industrialCrafter, isDelta);
					}
				}
				break;
			case 118u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.drone == null)
					{
						instance.drone = Drone.DeserializeLengthDelimited(stream);
					}
					else
					{
						Drone.DeserializeLengthDelimited(stream, instance.drone, isDelta);
					}
				}
				break;
			case 119u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.explosive == null)
					{
						instance.explosive = TimedExplosive.DeserializeLengthDelimited(stream);
					}
					else
					{
						TimedExplosive.DeserializeLengthDelimited(stream, instance.explosive, isDelta);
					}
				}
				break;
			case 120u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.simpleUint == null)
					{
						instance.simpleUint = SimpleUInt.DeserializeLengthDelimited(stream);
					}
					else
					{
						SimpleUInt.DeserializeLengthDelimited(stream, instance.simpleUint, isDelta);
					}
				}
				break;
			case 121u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.weaponRack == null)
					{
						instance.weaponRack = WeaponRack.DeserializeLengthDelimited(stream);
					}
					else
					{
						WeaponRack.DeserializeLengthDelimited(stream, instance.weaponRack, isDelta);
					}
				}
				break;
			case 122u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeli == null)
					{
						instance.attackHeli = AttackHeli.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeli.DeserializeLengthDelimited(stream, instance.attackHeli, isDelta);
					}
				}
				break;
			case 123u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliTurret == null)
					{
						instance.attackHeliTurret = AttackHeliTurret.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliTurret.DeserializeLengthDelimited(stream, instance.attackHeliTurret, isDelta);
					}
				}
				break;
			case 124u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.attackHeliRockets == null)
					{
						instance.attackHeliRockets = AttackHeliRockets.DeserializeLengthDelimited(stream);
					}
					else
					{
						AttackHeliRockets.DeserializeLengthDelimited(stream, instance.attackHeliRockets, isDelta);
					}
				}
				break;
			case 125u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseBoat == null)
					{
						instance.baseBoat = BaseBoat.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseBoat.DeserializeLengthDelimited(stream, instance.baseBoat, isDelta);
					}
				}
				break;
			case 126u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ragdoll == null)
					{
						instance.ragdoll = Ragdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ragdoll.DeserializeLengthDelimited(stream, instance.ragdoll, isDelta);
					}
				}
				break;
			case 127u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.dieselEngine == null)
					{
						instance.dieselEngine = DieselEngine.DeserializeLengthDelimited(stream);
					}
					else
					{
						DieselEngine.DeserializeLengthDelimited(stream, instance.dieselEngine, isDelta);
					}
				}
				break;
			case 150u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.associatedFiles == null)
					{
						instance.associatedFiles = AssociatedFiles.DeserializeLengthDelimited(stream);
					}
					else
					{
						AssociatedFiles.DeserializeLengthDelimited(stream, instance.associatedFiles, isDelta);
					}
				}
				break;
			case 151u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusFerry == null)
					{
						instance.nexusFerry = NexusFerry.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusFerry.DeserializeLengthDelimited(stream, instance.nexusFerry, isDelta);
					}
				}
				break;
			case 152u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusIsland == null)
					{
						instance.nexusIsland = NexusIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusIsland.DeserializeLengthDelimited(stream, instance.nexusIsland, isDelta);
					}
				}
				break;
			case 153u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.nexusDockTerminal == null)
					{
						instance.nexusDockTerminal = NexusDockTerminal.DeserializeLengthDelimited(stream);
					}
					else
					{
						NexusDockTerminal.DeserializeLengthDelimited(stream, instance.nexusDockTerminal, isDelta);
					}
				}
				break;
			case 154u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.rockingChair == null)
					{
						instance.rockingChair = RockingChair.DeserializeLengthDelimited(stream);
					}
					else
					{
						RockingChair.DeserializeLengthDelimited(stream, instance.rockingChair, isDelta);
					}
				}
				break;
			case 155u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.headData == null)
					{
						instance.headData = HeadData.DeserializeLengthDelimited(stream);
					}
					else
					{
						HeadData.DeserializeLengthDelimited(stream, instance.headData, isDelta);
					}
				}
				break;
			case 156u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wantedPoster == null)
					{
						instance.wantedPoster = WantedPoster.DeserializeLengthDelimited(stream);
					}
					else
					{
						WantedPoster.DeserializeLengthDelimited(stream, instance.wantedPoster, isDelta);
					}
				}
				break;
			case 158u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.waypointRace == null)
					{
						instance.waypointRace = WaypointRace.DeserializeLengthDelimited(stream);
					}
					else
					{
						WaypointRace.DeserializeLengthDelimited(stream, instance.waypointRace, isDelta);
					}
				}
				break;
			case 159u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.legacyShelter == null)
					{
						instance.legacyShelter = LegacyShelter.DeserializeLengthDelimited(stream);
					}
					else
					{
						LegacyShelter.DeserializeLengthDelimited(stream, instance.legacyShelter, isDelta);
					}
				}
				break;
			case 160u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.metalDetectorSource == null)
					{
						instance.metalDetectorSource = MetalDetectorSource.DeserializeLengthDelimited(stream);
					}
					else
					{
						MetalDetectorSource.DeserializeLengthDelimited(stream, instance.metalDetectorSource, isDelta);
					}
				}
				break;
			case 161u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tutorialIsland == null)
					{
						instance.tutorialIsland = TutorialIsland.DeserializeLengthDelimited(stream);
					}
					else
					{
						TutorialIsland.DeserializeLengthDelimited(stream, instance.tutorialIsland, isDelta);
					}
				}
				break;
			case 162u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cinematicEntity == null)
					{
						instance.cinematicEntity = CinematicEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						CinematicEntity.DeserializeLengthDelimited(stream, instance.cinematicEntity, isDelta);
					}
				}
				break;
			case 163u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buildingPrivilegeRetro == null)
					{
						instance.buildingPrivilegeRetro = BuildingPrivilegeRetro.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuildingPrivilegeRetro.DeserializeLengthDelimited(stream, instance.buildingPrivilegeRetro, isDelta);
					}
				}
				break;
			case 164u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.harborCrane == null)
					{
						instance.harborCrane = HarborCrane.DeserializeLengthDelimited(stream);
					}
					else
					{
						HarborCrane.DeserializeLengthDelimited(stream, instance.harborCrane, isDelta);
					}
				}
				break;
			case 165u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShip == null)
					{
						instance.cargoShip = CargoShip.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShip.DeserializeLengthDelimited(stream, instance.cargoShip, isDelta);
					}
				}
				break;
			case 166u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.cargoShipContainer == null)
					{
						instance.cargoShipContainer = CargoShipContainer.DeserializeLengthDelimited(stream);
					}
					else
					{
						CargoShipContainer.DeserializeLengthDelimited(stream, instance.cargoShipContainer, isDelta);
					}
				}
				break;
			case 167u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.missionMapMarker == null)
					{
						instance.missionMapMarker = MissionMapMarker.DeserializeLengthDelimited(stream);
					}
					else
					{
						MissionMapMarker.DeserializeLengthDelimited(stream, instance.missionMapMarker, isDelta);
					}
				}
				break;
			case 168u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.bike == null)
					{
						instance.bike = Bike.DeserializeLengthDelimited(stream);
					}
					else
					{
						Bike.DeserializeLengthDelimited(stream, instance.bike, isDelta);
					}
				}
				break;
			case 169u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.diverPropulsionVehicle == null)
					{
						instance.diverPropulsionVehicle = DiverPropulsionVehicle.DeserializeLengthDelimited(stream);
					}
					else
					{
						DiverPropulsionVehicle.DeserializeLengthDelimited(stream, instance.diverPropulsionVehicle, isDelta);
					}
				}
				break;
			case 174u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.travellingVendor == null)
					{
						instance.travellingVendor = TravellingVendor.DeserializeLengthDelimited(stream);
					}
					else
					{
						TravellingVendor.DeserializeLengthDelimited(stream, instance.travellingVendor, isDelta);
					}
				}
				break;
			case 175u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingDynamicPricing == null)
					{
						instance.vendingDynamicPricing = VendingDynamicPricing.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingDynamicPricing.DeserializeLengthDelimited(stream, instance.vendingDynamicPricing, isDelta);
					}
				}
				break;
			case 176u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.tinCanAlarm == null)
					{
						instance.tinCanAlarm = TinCanAlarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						TinCanAlarm.DeserializeLengthDelimited(stream, instance.tinCanAlarm, isDelta);
					}
				}
				break;
			case 177u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.digitalClock == null)
					{
						instance.digitalClock = DigitalClock.DeserializeLengthDelimited(stream);
					}
					else
					{
						DigitalClock.DeserializeLengthDelimited(stream, instance.digitalClock, isDelta);
					}
				}
				break;
			case 178u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.elevatorLift == null)
					{
						instance.elevatorLift = ElevatorLift.DeserializeLengthDelimited(stream);
					}
					else
					{
						ElevatorLift.DeserializeLengthDelimited(stream, instance.elevatorLift, isDelta);
					}
				}
				break;
			case 179u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcVendingMachine == null)
					{
						instance.npcVendingMachine = NPCVendingMachine.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCVendingMachine.DeserializeLengthDelimited(stream, instance.npcVendingMachine, isDelta);
					}
				}
				break;
			case 180u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mailbox == null)
					{
						instance.mailbox = Mailbox.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mailbox.DeserializeLengthDelimited(stream, instance.mailbox, isDelta);
					}
				}
				break;
			case 181u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.projectileWeaponMod == null)
					{
						instance.projectileWeaponMod = GunWeaponMod.DeserializeLengthDelimited(stream);
					}
					else
					{
						GunWeaponMod.DeserializeLengthDelimited(stream, instance.projectileWeaponMod, isDelta);
					}
				}
				break;
			case 182u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.baseSculpture == null)
					{
						instance.baseSculpture = BaseSculpture.DeserializeLengthDelimited(stream);
					}
					else
					{
						BaseSculpture.DeserializeLengthDelimited(stream, instance.baseSculpture, isDelta);
					}
				}
				break;
			case 183u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vendingMachineStats == null)
					{
						instance.vendingMachineStats = VendingMachineStats.DeserializeLengthDelimited(stream);
					}
					else
					{
						VendingMachineStats.DeserializeLengthDelimited(stream, instance.vendingMachineStats, isDelta);
					}
				}
				break;
			case 184u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.catapult == null)
					{
						instance.catapult = Catapult.DeserializeLengthDelimited(stream);
					}
					else
					{
						Catapult.DeserializeLengthDelimited(stream, instance.catapult, isDelta);
					}
				}
				break;
			case 185u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.siegeTower == null)
					{
						instance.siegeTower = SiegeTower.DeserializeLengthDelimited(stream);
					}
					else
					{
						SiegeTower.DeserializeLengthDelimited(stream, instance.siegeTower, isDelta);
					}
				}
				break;
			case 186u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballista == null)
					{
						instance.ballista = Ballista.DeserializeLengthDelimited(stream);
					}
					else
					{
						Ballista.DeserializeLengthDelimited(stream, instance.ballista, isDelta);
					}
				}
				break;
			case 187u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ballistaGun == null)
					{
						instance.ballistaGun = BallistaGun.DeserializeLengthDelimited(stream);
					}
					else
					{
						BallistaGun.DeserializeLengthDelimited(stream, instance.ballistaGun, isDelta);
					}
				}
				break;
			case 188u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.batteringRam == null)
					{
						instance.batteringRam = BatteringRam.DeserializeLengthDelimited(stream);
					}
					else
					{
						BatteringRam.DeserializeLengthDelimited(stream, instance.batteringRam, isDelta);
					}
				}
				break;
			case 189u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.temporaryRagdoll == null)
					{
						instance.temporaryRagdoll = TemporaryRagdoll.DeserializeLengthDelimited(stream);
					}
					else
					{
						TemporaryRagdoll.DeserializeLengthDelimited(stream, instance.temporaryRagdoll, isDelta);
					}
				}
				break;
			case 191u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.constructableEntity == null)
					{
						instance.constructableEntity = ConstructableEntity.DeserializeLengthDelimited(stream);
					}
					else
					{
						ConstructableEntity.DeserializeLengthDelimited(stream, instance.constructableEntity, isDelta);
					}
				}
				break;
			case 192u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.chickenCoop == null)
					{
						instance.chickenCoop = ChickenCoop.DeserializeLengthDelimited(stream);
					}
					else
					{
						ChickenCoop.DeserializeLengthDelimited(stream, instance.chickenCoop, isDelta);
					}
				}
				break;
			case 193u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.farmableAnimal == null)
					{
						instance.farmableAnimal = FarmableAnimal.DeserializeLengthDelimited(stream);
					}
					else
					{
						FarmableAnimal.DeserializeLengthDelimited(stream, instance.farmableAnimal, isDelta);
					}
				}
				break;
			case 194u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
				}
				break;
			case 195u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beehive == null)
					{
						instance.beehive = Beehive.DeserializeLengthDelimited(stream);
					}
					else
					{
						Beehive.DeserializeLengthDelimited(stream, instance.beehive, isDelta);
					}
				}
				break;
			case 196u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.beeMasterSwarm == null)
					{
						instance.beeMasterSwarm = BeeMasterSwarm.DeserializeLengthDelimited(stream);
					}
					else
					{
						BeeMasterSwarm.DeserializeLengthDelimited(stream, instance.beeMasterSwarm, isDelta);
					}
				}
				break;
			case 197u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.containerCorpse == null)
					{
						instance.containerCorpse = ContainerCorpseData.DeserializeLengthDelimited(stream);
					}
					else
					{
						ContainerCorpseData.DeserializeLengthDelimited(stream, instance.containerCorpse, isDelta);
					}
				}
				break;
			case 198u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.npcSensesState == null)
					{
						instance.npcSensesState = NPCSensesState.DeserializeLengthDelimited(stream);
					}
					else
					{
						NPCSensesState.DeserializeLengthDelimited(stream, instance.npcSensesState, isDelta);
					}
				}
				break;
			case 199u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineMountable == null)
					{
						instance.vineMountable = VineMountable.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineMountable.DeserializeLengthDelimited(stream, instance.vineMountable, isDelta);
					}
				}
				break;
			case 200u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.vineTree == null)
					{
						instance.vineTree = VineTree.DeserializeLengthDelimited(stream);
					}
					else
					{
						VineTree.DeserializeLengthDelimited(stream, instance.vineTree, isDelta);
					}
				}
				break;
			case 201u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.treeRespawn == null)
					{
						instance.treeRespawn = TreeRespawn.DeserializeLengthDelimited(stream);
					}
					else
					{
						TreeRespawn.DeserializeLengthDelimited(stream, instance.treeRespawn, isDelta);
					}
				}
				break;
			case 202u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.wallpaperTool == null)
					{
						instance.wallpaperTool = WallpaperTool.DeserializeLengthDelimited(stream);
					}
					else
					{
						WallpaperTool.DeserializeLengthDelimited(stream, instance.wallpaperTool, isDelta);
					}
				}
				break;
			case 203u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.commandBlock == null)
					{
						instance.commandBlock = CommandBlock.DeserializeLengthDelimited(stream);
					}
					else
					{
						CommandBlock.DeserializeLengthDelimited(stream, instance.commandBlock, isDelta);
					}
				}
				break;
			case 204u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.staticRespawn == null)
					{
						instance.staticRespawn = StaticRespawnAreaData.DeserializeLengthDelimited(stream);
					}
					else
					{
						StaticRespawnAreaData.DeserializeLengthDelimited(stream, instance.staticRespawn, isDelta);
					}
				}
				break;
			case 205u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.buriedItemStorage == null)
					{
						instance.buriedItemStorage = BuriedItems.DeserializeLengthDelimited(stream);
					}
					else
					{
						BuriedItems.DeserializeLengthDelimited(stream, instance.buriedItemStorage, isDelta);
					}
				}
				break;
			case 206u:
				if (key.WireType == Wire.LengthDelimited)
				{
					if (instance.mannequin == null)
					{
						instance.mannequin = Mannequin.DeserializeLengthDelimited(stream);
					}
					else
					{
						Mannequin.DeserializeLengthDelimited(stream, instance.mannequin, isDelta);
					}
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Entity instance, Entity previous)
	{
		if (instance.baseNetworkable != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			BaseNetworkable.SerializeDelta(stream, instance.baseNetworkable, previous.baseNetworkable);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNetworkable (ProtoBuf.BaseNetworkable)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.baseEntity != null)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(5);
			int position2 = stream.Position;
			BaseEntity.SerializeDelta(stream, instance.baseEntity, previous.baseEntity);
			int val = stream.Position - position2;
			Span<byte> span2 = range2.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)val, span2, 0);
			if (num2 < 5)
			{
				span2[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span2[num2++] = 128;
				}
				span2[4] = 0;
			}
		}
		if (instance.basePlayer != null)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			BasePlayer.SerializeDelta(stream, instance.basePlayer, previous.basePlayer);
			int val2 = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val2, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
		if (instance.worldItem != null)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(5);
			int position4 = stream.Position;
			WorldItem.SerializeDelta(stream, instance.worldItem, previous.worldItem);
			int val3 = stream.Position - position4;
			Span<byte> span4 = range4.GetSpan();
			int num4 = ProtocolParser.WriteUInt32((uint)val3, span4, 0);
			if (num4 < 5)
			{
				span4[num4 - 1] |= 128;
				while (num4 < 4)
				{
					span4[num4++] = 128;
				}
				span4[4] = 0;
			}
		}
		if (instance.resource != null)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range5 = stream.GetRange(1);
			int position5 = stream.Position;
			BaseResource.SerializeDelta(stream, instance.resource, previous.resource);
			int num5 = stream.Position - position5;
			if (num5 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field resource (ProtoBuf.BaseResource)");
			}
			Span<byte> span5 = range5.GetSpan();
			ProtocolParser.WriteUInt32((uint)num5, span5, 0);
		}
		if (instance.buildingBlock != null)
		{
			stream.WriteByte(50);
			BufferStream.RangeHandle range6 = stream.GetRange(1);
			int position6 = stream.Position;
			BuildingBlock.SerializeDelta(stream, instance.buildingBlock, previous.buildingBlock);
			int num6 = stream.Position - position6;
			if (num6 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingBlock (ProtoBuf.BuildingBlock)");
			}
			Span<byte> span6 = range6.GetSpan();
			ProtocolParser.WriteUInt32((uint)num6, span6, 0);
		}
		if (instance.environment != null)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range7 = stream.GetRange(1);
			int position7 = stream.Position;
			ProtoBuf.Environment.SerializeDelta(stream, instance.environment, previous.environment);
			int num7 = stream.Position - position7;
			if (num7 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field environment (ProtoBuf.Environment)");
			}
			Span<byte> span7 = range7.GetSpan();
			ProtocolParser.WriteUInt32((uint)num7, span7, 0);
		}
		if (instance.corpse != null)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range8 = stream.GetRange(1);
			int position8 = stream.Position;
			Corpse.SerializeDelta(stream, instance.corpse, previous.corpse);
			int num8 = stream.Position - position8;
			if (num8 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field corpse (ProtoBuf.Corpse)");
			}
			Span<byte> span8 = range8.GetSpan();
			ProtocolParser.WriteUInt32((uint)num8, span8, 0);
		}
		if (instance.parent != null)
		{
			stream.WriteByte(82);
			BufferStream.RangeHandle range9 = stream.GetRange(1);
			int position9 = stream.Position;
			ParentInfo.SerializeDelta(stream, instance.parent, previous.parent);
			int num9 = stream.Position - position9;
			if (num9 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field parent (ProtoBuf.ParentInfo)");
			}
			Span<byte> span9 = range9.GetSpan();
			ProtocolParser.WriteUInt32((uint)num9, span9, 0);
		}
		if (instance.keyLock != null)
		{
			stream.WriteByte(90);
			BufferStream.RangeHandle range10 = stream.GetRange(1);
			int position10 = stream.Position;
			KeyLock.SerializeDelta(stream, instance.keyLock, previous.keyLock);
			int num10 = stream.Position - position10;
			if (num10 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field keyLock (ProtoBuf.KeyLock)");
			}
			Span<byte> span10 = range10.GetSpan();
			ProtocolParser.WriteUInt32((uint)num10, span10, 0);
		}
		if (instance.codeLock != null)
		{
			stream.WriteByte(98);
			BufferStream.RangeHandle range11 = stream.GetRange(5);
			int position11 = stream.Position;
			CodeLock.SerializeDelta(stream, instance.codeLock, previous.codeLock);
			int val4 = stream.Position - position11;
			Span<byte> span11 = range11.GetSpan();
			int num11 = ProtocolParser.WriteUInt32((uint)val4, span11, 0);
			if (num11 < 5)
			{
				span11[num11 - 1] |= 128;
				while (num11 < 4)
				{
					span11[num11++] = 128;
				}
				span11[4] = 0;
			}
		}
		if (instance.entitySlots != null)
		{
			stream.WriteByte(106);
			BufferStream.RangeHandle range12 = stream.GetRange(1);
			int position12 = stream.Position;
			EntitySlots.SerializeDelta(stream, instance.entitySlots, previous.entitySlots);
			int num12 = stream.Position - position12;
			if (num12 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field entitySlots (ProtoBuf.EntitySlots)");
			}
			Span<byte> span12 = range12.GetSpan();
			ProtocolParser.WriteUInt32((uint)num12, span12, 0);
		}
		if (instance.buildingPrivilege != null)
		{
			stream.WriteByte(114);
			BufferStream.RangeHandle range13 = stream.GetRange(5);
			int position13 = stream.Position;
			BuildingPrivilege.SerializeDelta(stream, instance.buildingPrivilege, previous.buildingPrivilege);
			int val5 = stream.Position - position13;
			Span<byte> span13 = range13.GetSpan();
			int num13 = ProtocolParser.WriteUInt32((uint)val5, span13, 0);
			if (num13 < 5)
			{
				span13[num13 - 1] |= 128;
				while (num13 < 4)
				{
					span13[num13++] = 128;
				}
				span13[4] = 0;
			}
		}
		if (instance.storageBox != null)
		{
			stream.WriteByte(122);
			BufferStream.RangeHandle range14 = stream.GetRange(5);
			int position14 = stream.Position;
			StorageBox.SerializeDelta(stream, instance.storageBox, previous.storageBox);
			int val6 = stream.Position - position14;
			Span<byte> span14 = range14.GetSpan();
			int num14 = ProtocolParser.WriteUInt32((uint)val6, span14, 0);
			if (num14 < 5)
			{
				span14[num14 - 1] |= 128;
				while (num14 < 4)
				{
					span14[num14++] = 128;
				}
				span14[4] = 0;
			}
		}
		if (instance.heldEntity != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(1);
			BufferStream.RangeHandle range15 = stream.GetRange(1);
			int position15 = stream.Position;
			HeldEntity.SerializeDelta(stream, instance.heldEntity, previous.heldEntity);
			int num15 = stream.Position - position15;
			if (num15 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field heldEntity (ProtoBuf.HeldEntity)");
			}
			Span<byte> span15 = range15.GetSpan();
			ProtocolParser.WriteUInt32((uint)num15, span15, 0);
		}
		if (instance.baseProjectile != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(1);
			BufferStream.RangeHandle range16 = stream.GetRange(1);
			int position16 = stream.Position;
			BaseProjectile.SerializeDelta(stream, instance.baseProjectile, previous.baseProjectile);
			int num16 = stream.Position - position16;
			if (num16 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseProjectile (ProtoBuf.BaseProjectile)");
			}
			Span<byte> span16 = range16.GetSpan();
			ProtocolParser.WriteUInt32((uint)num16, span16, 0);
		}
		if (instance.baseNPC != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(1);
			BufferStream.RangeHandle range17 = stream.GetRange(1);
			int position17 = stream.Position;
			BaseNPC.SerializeDelta(stream, instance.baseNPC, previous.baseNPC);
			int num17 = stream.Position - position17;
			if (num17 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNPC (ProtoBuf.BaseNPC)");
			}
			Span<byte> span17 = range17.GetSpan();
			ProtocolParser.WriteUInt32((uint)num17, span17, 0);
		}
		if (instance.loot != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(1);
			BufferStream.RangeHandle range18 = stream.GetRange(5);
			int position18 = stream.Position;
			Loot.SerializeDelta(stream, instance.loot, previous.loot);
			int val7 = stream.Position - position18;
			Span<byte> span18 = range18.GetSpan();
			int num18 = ProtocolParser.WriteUInt32((uint)val7, span18, 0);
			if (num18 < 5)
			{
				span18[num18 - 1] |= 128;
				while (num18 < 4)
				{
					span18[num18++] = 128;
				}
				span18[4] = 0;
			}
		}
		if (instance.genericSpawner != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(1);
			BufferStream.RangeHandle range19 = stream.GetRange(3);
			int position19 = stream.Position;
			GenericSpawner.SerializeDelta(stream, instance.genericSpawner, previous.genericSpawner);
			int num19 = stream.Position - position19;
			if (num19 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field genericSpawner (ProtoBuf.GenericSpawner)");
			}
			Span<byte> span19 = range19.GetSpan();
			int num20 = ProtocolParser.WriteUInt32((uint)num19, span19, 0);
			if (num20 < 3)
			{
				span19[num20 - 1] |= 128;
				while (num20 < 2)
				{
					span19[num20++] = 128;
				}
				span19[2] = 0;
			}
		}
		if (instance.sleepingBag != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(1);
			BufferStream.RangeHandle range20 = stream.GetRange(5);
			int position20 = stream.Position;
			SleepingBag.SerializeDelta(stream, instance.sleepingBag, previous.sleepingBag);
			int val8 = stream.Position - position20;
			Span<byte> span20 = range20.GetSpan();
			int num21 = ProtocolParser.WriteUInt32((uint)val8, span20, 0);
			if (num21 < 5)
			{
				span20[num21 - 1] |= 128;
				while (num21 < 4)
				{
					span20[num21++] = 128;
				}
				span20[4] = 0;
			}
		}
		if (instance.lootableCorpse != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(1);
			BufferStream.RangeHandle range21 = stream.GetRange(5);
			int position21 = stream.Position;
			LootableCorpse.SerializeDelta(stream, instance.lootableCorpse, previous.lootableCorpse);
			int val9 = stream.Position - position21;
			Span<byte> span21 = range21.GetSpan();
			int num22 = ProtocolParser.WriteUInt32((uint)val9, span21, 0);
			if (num22 < 5)
			{
				span21[num22 - 1] |= 128;
				while (num22 < 4)
				{
					span21[num22++] = 128;
				}
				span21[4] = 0;
			}
		}
		if (instance.sign != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(1);
			BufferStream.RangeHandle range22 = stream.GetRange(3);
			int position22 = stream.Position;
			Sign.SerializeDelta(stream, instance.sign, previous.sign);
			int num23 = stream.Position - position22;
			if (num23 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sign (ProtoBuf.Sign)");
			}
			Span<byte> span22 = range22.GetSpan();
			int num24 = ProtocolParser.WriteUInt32((uint)num23, span22, 0);
			if (num24 < 3)
			{
				span22[num24 - 1] |= 128;
				while (num24 < 2)
				{
					span22[num24++] = 128;
				}
				span22[2] = 0;
			}
		}
		if (instance.baseCombat != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(1);
			BufferStream.RangeHandle range23 = stream.GetRange(1);
			int position23 = stream.Position;
			BaseCombat.SerializeDelta(stream, instance.baseCombat, previous.baseCombat);
			int num25 = stream.Position - position23;
			if (num25 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseCombat (ProtoBuf.BaseCombat)");
			}
			Span<byte> span23 = range23.GetSpan();
			ProtocolParser.WriteUInt32((uint)num25, span23, 0);
		}
		if (instance.mapEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(1);
			BufferStream.RangeHandle range24 = stream.GetRange(3);
			int position24 = stream.Position;
			MapEntity.SerializeDelta(stream, instance.mapEntity, previous.mapEntity);
			int num26 = stream.Position - position24;
			if (num26 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mapEntity (ProtoBuf.MapEntity)");
			}
			Span<byte> span24 = range24.GetSpan();
			int num27 = ProtocolParser.WriteUInt32((uint)num26, span24, 0);
			if (num27 < 3)
			{
				span24[num27 - 1] |= 128;
				while (num27 < 2)
				{
					span24[num27++] = 128;
				}
				span24[2] = 0;
			}
		}
		if (instance.researchTable != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(1);
			BufferStream.RangeHandle range25 = stream.GetRange(1);
			int position25 = stream.Position;
			ResearchTable.SerializeDelta(stream, instance.researchTable, previous.researchTable);
			int num28 = stream.Position - position25;
			if (num28 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field researchTable (ProtoBuf.ResearchTable)");
			}
			Span<byte> span25 = range25.GetSpan();
			ProtocolParser.WriteUInt32((uint)num28, span25, 0);
		}
		if (instance.dudExplosive != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(1);
			BufferStream.RangeHandle range26 = stream.GetRange(1);
			int position26 = stream.Position;
			DudExplosive.SerializeDelta(stream, instance.dudExplosive, previous.dudExplosive);
			int num29 = stream.Position - position26;
			if (num29 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dudExplosive (ProtoBuf.DudExplosive)");
			}
			Span<byte> span26 = range26.GetSpan();
			ProtocolParser.WriteUInt32((uint)num29, span26, 0);
		}
		if (instance.miningQuarry != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(1);
			BufferStream.RangeHandle range27 = stream.GetRange(5);
			int position27 = stream.Position;
			MiningQuarry.SerializeDelta(stream, instance.miningQuarry, previous.miningQuarry);
			int val10 = stream.Position - position27;
			Span<byte> span27 = range27.GetSpan();
			int num30 = ProtocolParser.WriteUInt32((uint)val10, span27, 0);
			if (num30 < 5)
			{
				span27[num30 - 1] |= 128;
				while (num30 < 4)
				{
					span27[num30++] = 128;
				}
				span27[4] = 0;
			}
		}
		if (instance.baseVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(1);
			BufferStream.RangeHandle range28 = stream.GetRange(3);
			int position28 = stream.Position;
			BaseVehicle.SerializeDelta(stream, instance.baseVehicle, previous.baseVehicle);
			int num31 = stream.Position - position28;
			if (num31 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseVehicle (ProtoBuf.BaseVehicle)");
			}
			Span<byte> span28 = range28.GetSpan();
			int num32 = ProtocolParser.WriteUInt32((uint)num31, span28, 0);
			if (num32 < 3)
			{
				span28[num32 - 1] |= 128;
				while (num32 < 2)
				{
					span28[num32++] = 128;
				}
				span28[2] = 0;
			}
		}
		if (instance.helicopter != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(1);
			BufferStream.RangeHandle range29 = stream.GetRange(3);
			int position29 = stream.Position;
			Helicopter.SerializeDelta(stream, instance.helicopter, previous.helicopter);
			int num33 = stream.Position - position29;
			if (num33 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field helicopter (ProtoBuf.Helicopter)");
			}
			Span<byte> span29 = range29.GetSpan();
			int num34 = ProtocolParser.WriteUInt32((uint)num33, span29, 0);
			if (num34 < 3)
			{
				span29[num34 - 1] |= 128;
				while (num34 < 2)
				{
					span29[num34++] = 128;
				}
				span29[2] = 0;
			}
		}
		if (instance.landmine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(1);
			BufferStream.RangeHandle range30 = stream.GetRange(1);
			int position30 = stream.Position;
			Landmine.SerializeDelta(stream, instance.landmine, previous.landmine);
			int num35 = stream.Position - position30;
			if (num35 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field landmine (ProtoBuf.Landmine)");
			}
			Span<byte> span30 = range30.GetSpan();
			ProtocolParser.WriteUInt32((uint)num35, span30, 0);
		}
		if (instance.autoturret != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(2);
			BufferStream.RangeHandle range31 = stream.GetRange(5);
			int position31 = stream.Position;
			AutoTurret.SerializeDelta(stream, instance.autoturret, previous.autoturret);
			int val11 = stream.Position - position31;
			Span<byte> span31 = range31.GetSpan();
			int num36 = ProtocolParser.WriteUInt32((uint)val11, span31, 0);
			if (num36 < 5)
			{
				span31[num36 - 1] |= 128;
				while (num36 < 4)
				{
					span31[num36++] = 128;
				}
				span31[4] = 0;
			}
		}
		if (instance.sphereEntity != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(2);
			BufferStream.RangeHandle range32 = stream.GetRange(1);
			int position32 = stream.Position;
			SphereEntity.SerializeDelta(stream, instance.sphereEntity, previous.sphereEntity);
			int num37 = stream.Position - position32;
			if (num37 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sphereEntity (ProtoBuf.SphereEntity)");
			}
			Span<byte> span32 = range32.GetSpan();
			ProtocolParser.WriteUInt32((uint)num37, span32, 0);
		}
		if (instance.stabilityEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(2);
			BufferStream.RangeHandle range33 = stream.GetRange(1);
			int position33 = stream.Position;
			StabilityEntity.SerializeDelta(stream, instance.stabilityEntity, previous.stabilityEntity);
			int num38 = stream.Position - position33;
			if (num38 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field stabilityEntity (ProtoBuf.StabilityEntity)");
			}
			Span<byte> span33 = range33.GetSpan();
			ProtocolParser.WriteUInt32((uint)num38, span33, 0);
		}
		if (instance.ownerInfo != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(2);
			BufferStream.RangeHandle range34 = stream.GetRange(1);
			int position34 = stream.Position;
			OwnerInfo.SerializeDelta(stream, instance.ownerInfo, previous.ownerInfo);
			int num39 = stream.Position - position34;
			if (num39 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ownerInfo (ProtoBuf.OwnerInfo)");
			}
			Span<byte> span34 = range34.GetSpan();
			ProtocolParser.WriteUInt32((uint)num39, span34, 0);
		}
		if (instance.decayEntity != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(2);
			BufferStream.RangeHandle range35 = stream.GetRange(1);
			int position35 = stream.Position;
			DecayEntity.SerializeDelta(stream, instance.decayEntity, previous.decayEntity);
			int num40 = stream.Position - position35;
			if (num40 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field decayEntity (ProtoBuf.DecayEntity)");
			}
			Span<byte> span35 = range35.GetSpan();
			ProtocolParser.WriteUInt32((uint)num40, span35, 0);
		}
		if (instance.spawnable != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(2);
			BufferStream.RangeHandle range36 = stream.GetRange(1);
			int position36 = stream.Position;
			Spawnable.SerializeDelta(stream, instance.spawnable, previous.spawnable);
			int num41 = stream.Position - position36;
			if (num41 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spawnable (ProtoBuf.Spawnable)");
			}
			Span<byte> span36 = range36.GetSpan();
			ProtocolParser.WriteUInt32((uint)num41, span36, 0);
		}
		if (instance.servergib != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(2);
			BufferStream.RangeHandle range37 = stream.GetRange(5);
			int position37 = stream.Position;
			ServerGib.SerializeDelta(stream, instance.servergib, previous.servergib);
			int val12 = stream.Position - position37;
			Span<byte> span37 = range37.GetSpan();
			int num42 = ProtocolParser.WriteUInt32((uint)val12, span37, 0);
			if (num42 < 5)
			{
				span37[num42 - 1] |= 128;
				while (num42 < 4)
				{
					span37[num42++] = 128;
				}
				span37[4] = 0;
			}
		}
		if (instance.vendingMachine != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(2);
			BufferStream.RangeHandle range38 = stream.GetRange(5);
			int position38 = stream.Position;
			VendingMachine.SerializeDelta(stream, instance.vendingMachine, previous.vendingMachine);
			int val13 = stream.Position - position38;
			Span<byte> span38 = range38.GetSpan();
			int num43 = ProtocolParser.WriteUInt32((uint)val13, span38, 0);
			if (num43 < 5)
			{
				span38[num43 - 1] |= 128;
				while (num43 < 4)
				{
					span38[num43++] = 128;
				}
				span38[4] = 0;
			}
		}
		if (instance.spinnerWheel != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(2);
			BufferStream.RangeHandle range39 = stream.GetRange(1);
			int position39 = stream.Position;
			SpinnerWheel.SerializeDelta(stream, instance.spinnerWheel, previous.spinnerWheel);
			int num44 = stream.Position - position39;
			if (num44 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spinnerWheel (ProtoBuf.SpinnerWheel)");
			}
			Span<byte> span39 = range39.GetSpan();
			ProtocolParser.WriteUInt32((uint)num44, span39, 0);
		}
		if (instance.lift != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(2);
			BufferStream.RangeHandle range40 = stream.GetRange(1);
			int position40 = stream.Position;
			Lift.SerializeDelta(stream, instance.lift, previous.lift);
			int num45 = stream.Position - position40;
			if (num45 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lift (ProtoBuf.Lift)");
			}
			Span<byte> span40 = range40.GetSpan();
			ProtocolParser.WriteUInt32((uint)num45, span40, 0);
		}
		if (instance.bradley != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(2);
			BufferStream.RangeHandle range41 = stream.GetRange(2);
			int position41 = stream.Position;
			BradleyAPC.SerializeDelta(stream, instance.bradley, previous.bradley);
			int num46 = stream.Position - position41;
			if (num46 > 16383)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bradley (ProtoBuf.BradleyAPC)");
			}
			Span<byte> span41 = range41.GetSpan();
			if (ProtocolParser.WriteUInt32((uint)num46, span41, 0) < 2)
			{
				span41[0] |= 128;
				span41[1] = 0;
			}
		}
		if (instance.waterwell != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(2);
			BufferStream.RangeHandle range42 = stream.GetRange(1);
			int position42 = stream.Position;
			WaterWell.SerializeDelta(stream, instance.waterwell, previous.waterwell);
			int num47 = stream.Position - position42;
			if (num47 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waterwell (ProtoBuf.WaterWell)");
			}
			Span<byte> span42 = range42.GetSpan();
			ProtocolParser.WriteUInt32((uint)num47, span42, 0);
		}
		if (instance.motorBoat != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(2);
			BufferStream.RangeHandle range43 = stream.GetRange(1);
			int position43 = stream.Position;
			Motorboat.SerializeDelta(stream, instance.motorBoat, previous.motorBoat);
			int num48 = stream.Position - position43;
			if (num48 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field motorBoat (ProtoBuf.Motorboat)");
			}
			Span<byte> span43 = range43.GetSpan();
			ProtocolParser.WriteUInt32((uint)num48, span43, 0);
		}
		if (instance.ioEntity != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(2);
			BufferStream.RangeHandle range44 = stream.GetRange(5);
			int position44 = stream.Position;
			IOEntity.SerializeDelta(stream, instance.ioEntity, previous.ioEntity);
			int val14 = stream.Position - position44;
			Span<byte> span44 = range44.GetSpan();
			int num49 = ProtocolParser.WriteUInt32((uint)val14, span44, 0);
			if (num49 < 5)
			{
				span44[num49 - 1] |= 128;
				while (num49 < 4)
				{
					span44[num49++] = 128;
				}
				span44[4] = 0;
			}
		}
		if (instance.puzzleReset != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(2);
			BufferStream.RangeHandle range45 = stream.GetRange(1);
			int position45 = stream.Position;
			PuzzleReset.SerializeDelta(stream, instance.puzzleReset, previous.puzzleReset);
			int num50 = stream.Position - position45;
			if (num50 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field puzzleReset (ProtoBuf.PuzzleReset)");
			}
			Span<byte> span45 = range45.GetSpan();
			ProtocolParser.WriteUInt32((uint)num50, span45, 0);
		}
		if (instance.relationshipManager != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(2);
			BufferStream.RangeHandle range46 = stream.GetRange(5);
			int position46 = stream.Position;
			RelationshipManager.SerializeDelta(stream, instance.relationshipManager, previous.relationshipManager);
			int val15 = stream.Position - position46;
			Span<byte> span46 = range46.GetSpan();
			int num51 = ProtocolParser.WriteUInt32((uint)val15, span46, 0);
			if (num51 < 5)
			{
				span46[num51 - 1] |= 128;
				while (num51 < 4)
				{
					span46[num51++] = 128;
				}
				span46[4] = 0;
			}
		}
		if (instance.hotAirBalloon != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(3);
			BufferStream.RangeHandle range47 = stream.GetRange(1);
			int position47 = stream.Position;
			HotAirBalloon.SerializeDelta(stream, instance.hotAirBalloon, previous.hotAirBalloon);
			int num52 = stream.Position - position47;
			if (num52 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field hotAirBalloon (ProtoBuf.HotAirBalloon)");
			}
			Span<byte> span47 = range47.GetSpan();
			ProtocolParser.WriteUInt32((uint)num52, span47, 0);
		}
		if (instance.samSite != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(3);
			BufferStream.RangeHandle range48 = stream.GetRange(1);
			int position48 = stream.Position;
			SAMSite.SerializeDelta(stream, instance.samSite, previous.samSite);
			int num53 = stream.Position - position48;
			if (num53 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field samSite (ProtoBuf.SAMSite)");
			}
			Span<byte> span48 = range48.GetSpan();
			ProtocolParser.WriteUInt32((uint)num53, span48, 0);
		}
		if (instance.eggHunt != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(3);
			BufferStream.RangeHandle range49 = stream.GetRange(5);
			int position49 = stream.Position;
			EggHunt.SerializeDelta(stream, instance.eggHunt, previous.eggHunt);
			int val16 = stream.Position - position49;
			Span<byte> span49 = range49.GetSpan();
			int num54 = ProtocolParser.WriteUInt32((uint)val16, span49, 0);
			if (num54 < 5)
			{
				span49[num54 - 1] |= 128;
				while (num54 < 4)
				{
					span49[num54++] = 128;
				}
				span49[4] = 0;
			}
		}
		if (instance.arcadeMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(3);
			BufferStream.RangeHandle range50 = stream.GetRange(5);
			int position50 = stream.Position;
			ArcadeMachine.SerializeDelta(stream, instance.arcadeMachine, previous.arcadeMachine);
			int val17 = stream.Position - position50;
			Span<byte> span50 = range50.GetSpan();
			int num55 = ProtocolParser.WriteUInt32((uint)val17, span50, 0);
			if (num55 < 5)
			{
				span50[num55 - 1] |= 128;
				while (num55 < 4)
				{
					span50[num55++] = 128;
				}
				span50[4] = 0;
			}
		}
		if (instance.miniCopter != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(3);
			BufferStream.RangeHandle range51 = stream.GetRange(1);
			int position51 = stream.Position;
			Minicopter.SerializeDelta(stream, instance.miniCopter, previous.miniCopter);
			int num56 = stream.Position - position51;
			if (num56 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field miniCopter (ProtoBuf.Minicopter)");
			}
			Span<byte> span51 = range51.GetSpan();
			ProtocolParser.WriteUInt32((uint)num56, span51, 0);
		}
		if (instance.horse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(3);
			BufferStream.RangeHandle range52 = stream.GetRange(5);
			int position52 = stream.Position;
			Horse.SerializeDelta(stream, instance.horse, previous.horse);
			int val18 = stream.Position - position52;
			Span<byte> span52 = range52.GetSpan();
			int num57 = ProtocolParser.WriteUInt32((uint)val18, span52, 0);
			if (num57 < 5)
			{
				span52[num57 - 1] |= 128;
				while (num57 < 4)
				{
					span52[num57++] = 128;
				}
				span52[4] = 0;
			}
		}
		if (instance.smartAlarm != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(3);
			BufferStream.RangeHandle range53 = stream.GetRange(5);
			int position53 = stream.Position;
			SmartAlarm.SerializeDelta(stream, instance.smartAlarm, previous.smartAlarm);
			int val19 = stream.Position - position53;
			Span<byte> span53 = range53.GetSpan();
			int num58 = ProtocolParser.WriteUInt32((uint)val19, span53, 0);
			if (num58 < 5)
			{
				span53[num58 - 1] |= 128;
				while (num58 < 4)
				{
					span53[num58++] = 128;
				}
				span53[4] = 0;
			}
		}
		if (instance.lightString != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(3);
			BufferStream.RangeHandle range54 = stream.GetRange(3);
			int position54 = stream.Position;
			LightString.SerializeDelta(stream, instance.lightString, previous.lightString);
			int num59 = stream.Position - position54;
			if (num59 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightString (ProtoBuf.LightString)");
			}
			Span<byte> span54 = range54.GetSpan();
			int num60 = ProtocolParser.WriteUInt32((uint)num59, span54, 0);
			if (num60 < 3)
			{
				span54[num60 - 1] |= 128;
				while (num60 < 2)
				{
					span54[num60++] = 128;
				}
				span54[2] = 0;
			}
		}
		if (instance.lightDeployer != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(3);
			BufferStream.RangeHandle range55 = stream.GetRange(1);
			int position55 = stream.Position;
			LightDeployer.SerializeDelta(stream, instance.lightDeployer, previous.lightDeployer);
			int num61 = stream.Position - position55;
			if (num61 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightDeployer (ProtoBuf.LightDeployer)");
			}
			Span<byte> span55 = range55.GetSpan();
			ProtocolParser.WriteUInt32((uint)num61, span55, 0);
		}
		if (instance.rcEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(3);
			BufferStream.RangeHandle range56 = stream.GetRange(5);
			int position56 = stream.Position;
			RCEntity.SerializeDelta(stream, instance.rcEntity, previous.rcEntity);
			int val20 = stream.Position - position56;
			Span<byte> span56 = range56.GetSpan();
			int num62 = ProtocolParser.WriteUInt32((uint)val20, span56, 0);
			if (num62 < 5)
			{
				span56[num62 - 1] |= 128;
				while (num62 < 4)
				{
					span56[num62++] = 128;
				}
				span56[4] = 0;
			}
		}
		if (instance.computerStation != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(3);
			BufferStream.RangeHandle range57 = stream.GetRange(5);
			int position57 = stream.Position;
			ComputerStation.SerializeDelta(stream, instance.computerStation, previous.computerStation);
			int val21 = stream.Position - position57;
			Span<byte> span57 = range57.GetSpan();
			int num63 = ProtocolParser.WriteUInt32((uint)val21, span57, 0);
			if (num63 < 5)
			{
				span57[num63 - 1] |= 128;
				while (num63 < 4)
				{
					span57[num63++] = 128;
				}
				span57[4] = 0;
			}
		}
		if (instance.growableEntity != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(3);
			BufferStream.RangeHandle range58 = stream.GetRange(1);
			int position58 = stream.Position;
			GrowableEntity.SerializeDelta(stream, instance.growableEntity, previous.growableEntity);
			int num64 = stream.Position - position58;
			if (num64 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field growableEntity (ProtoBuf.GrowableEntity)");
			}
			Span<byte> span58 = range58.GetSpan();
			ProtocolParser.WriteUInt32((uint)num64, span58, 0);
		}
		if (instance.composter != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(3);
			BufferStream.RangeHandle range59 = stream.GetRange(1);
			int position59 = stream.Position;
			Composter.SerializeDelta(stream, instance.composter, previous.composter);
			int num65 = stream.Position - position59;
			if (num65 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field composter (ProtoBuf.Composter)");
			}
			Span<byte> span59 = range59.GetSpan();
			ProtocolParser.WriteUInt32((uint)num65, span59, 0);
		}
		if (instance.modularVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(3);
			BufferStream.RangeHandle range60 = stream.GetRange(1);
			int position60 = stream.Position;
			ModularVehicle.SerializeDelta(stream, instance.modularVehicle, previous.modularVehicle);
			int num66 = stream.Position - position60;
			if (num66 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modularVehicle (ProtoBuf.ModularVehicle)");
			}
			Span<byte> span60 = range60.GetSpan();
			ProtocolParser.WriteUInt32((uint)num66, span60, 0);
		}
		if (instance.modularCar != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(3);
			BufferStream.RangeHandle range61 = stream.GetRange(5);
			int position61 = stream.Position;
			ModularCar.SerializeDelta(stream, instance.modularCar, previous.modularCar);
			int val22 = stream.Position - position61;
			Span<byte> span61 = range61.GetSpan();
			int num67 = ProtocolParser.WriteUInt32((uint)val22, span61, 0);
			if (num67 < 5)
			{
				span61[num67 - 1] |= 128;
				while (num67 < 4)
				{
					span61[num67++] = 128;
				}
				span61[4] = 0;
			}
		}
		if (instance.simpleUID != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(3);
			BufferStream.RangeHandle range62 = stream.GetRange(1);
			int position62 = stream.Position;
			SimpleUID.SerializeDelta(stream, instance.simpleUID, previous.simpleUID);
			int num68 = stream.Position - position62;
			if (num68 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUID (ProtoBuf.SimpleUID)");
			}
			Span<byte> span62 = range62.GetSpan();
			ProtocolParser.WriteUInt32((uint)num68, span62, 0);
		}
		if (instance.vehicleLift != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(4);
			BufferStream.RangeHandle range63 = stream.GetRange(1);
			int position63 = stream.Position;
			VehicleLift.SerializeDelta(stream, instance.vehicleLift, previous.vehicleLift);
			int num69 = stream.Position - position63;
			if (num69 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleLift (ProtoBuf.VehicleLift)");
			}
			Span<byte> span63 = range63.GetSpan();
			ProtocolParser.WriteUInt32((uint)num69, span63, 0);
		}
		if (instance.engineStorage != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(4);
			BufferStream.RangeHandle range64 = stream.GetRange(1);
			int position64 = stream.Position;
			EngineStorage.SerializeDelta(stream, instance.engineStorage, previous.engineStorage);
			int num70 = stream.Position - position64;
			if (num70 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field engineStorage (ProtoBuf.EngineStorage)");
			}
			Span<byte> span64 = range64.GetSpan();
			ProtocolParser.WriteUInt32((uint)num70, span64, 0);
		}
		if (instance.vehicleVendor != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(4);
			BufferStream.RangeHandle range65 = stream.GetRange(5);
			int position65 = stream.Position;
			VehicleVendor.SerializeDelta(stream, instance.vehicleVendor, previous.vehicleVendor);
			int val23 = stream.Position - position65;
			Span<byte> span65 = range65.GetSpan();
			int num71 = ProtocolParser.WriteUInt32((uint)val23, span65, 0);
			if (num71 < 5)
			{
				span65[num71 - 1] |= 128;
				while (num71 < 4)
				{
					span65[num71++] = 128;
				}
				span65[4] = 0;
			}
		}
		if (instance.WaterPool != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(4);
			BufferStream.RangeHandle range66 = stream.GetRange(1);
			int position66 = stream.Position;
			WaterPool.SerializeDelta(stream, instance.WaterPool, previous.WaterPool);
			int num72 = stream.Position - position66;
			if (num72 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field WaterPool (ProtoBuf.WaterPool)");
			}
			Span<byte> span66 = range66.GetSpan();
			ProtocolParser.WriteUInt32((uint)num72, span66, 0);
		}
		if (instance.photo != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(4);
			BufferStream.RangeHandle range67 = stream.GetRange(1);
			int position67 = stream.Position;
			Photo.SerializeDelta(stream, instance.photo, previous.photo);
			int num73 = stream.Position - position67;
			if (num73 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photo (ProtoBuf.Photo)");
			}
			Span<byte> span67 = range67.GetSpan();
			ProtocolParser.WriteUInt32((uint)num73, span67, 0);
		}
		if (instance.photoFrame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(4);
			BufferStream.RangeHandle range68 = stream.GetRange(3);
			int position68 = stream.Position;
			PhotoFrame.SerializeDelta(stream, instance.photoFrame, previous.photoFrame);
			int num74 = stream.Position - position68;
			if (num74 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photoFrame (ProtoBuf.PhotoFrame)");
			}
			Span<byte> span68 = range68.GetSpan();
			int num75 = ProtocolParser.WriteUInt32((uint)num74, span68, 0);
			if (num75 < 3)
			{
				span68[num75 - 1] |= 128;
				while (num75 < 2)
				{
					span68[num75++] = 128;
				}
				span68[2] = 0;
			}
		}
		if (instance.vehicleModule != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(4);
			BufferStream.RangeHandle range69 = stream.GetRange(1);
			int position69 = stream.Position;
			VehicleModule.SerializeDelta(stream, instance.vehicleModule, previous.vehicleModule);
			int num76 = stream.Position - position69;
			if (num76 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleModule (ProtoBuf.VehicleModule)");
			}
			Span<byte> span69 = range69.GetSpan();
			ProtocolParser.WriteUInt32((uint)num76, span69, 0);
		}
		if (instance.mixingTable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(4);
			BufferStream.RangeHandle range70 = stream.GetRange(1);
			int position70 = stream.Position;
			MixingTable.SerializeDelta(stream, instance.mixingTable, previous.mixingTable);
			int num77 = stream.Position - position70;
			if (num77 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mixingTable (ProtoBuf.MixingTable)");
			}
			Span<byte> span70 = range70.GetSpan();
			ProtocolParser.WriteUInt32((uint)num77, span70, 0);
		}
		if (instance.shopKeeper != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(4);
			BufferStream.RangeHandle range71 = stream.GetRange(1);
			int position71 = stream.Position;
			ShopKeeper.SerializeDelta(stream, instance.shopKeeper, previous.shopKeeper);
			int num78 = stream.Position - position71;
			if (num78 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field shopKeeper (ProtoBuf.ShopKeeper)");
			}
			Span<byte> span71 = range71.GetSpan();
			ProtocolParser.WriteUInt32((uint)num78, span71, 0);
		}
		if (instance.elevator != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(4);
			BufferStream.RangeHandle range72 = stream.GetRange(1);
			int position72 = stream.Position;
			Elevator.SerializeDelta(stream, instance.elevator, previous.elevator);
			int num79 = stream.Position - position72;
			if (num79 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevator (ProtoBuf.Elevator)");
			}
			Span<byte> span72 = range72.GetSpan();
			ProtocolParser.WriteUInt32((uint)num79, span72, 0);
		}
		if (instance.skullTrophy != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(4);
			BufferStream.RangeHandle range73 = stream.GetRange(5);
			int position73 = stream.Position;
			SkullTrophy.SerializeDelta(stream, instance.skullTrophy, previous.skullTrophy);
			int val24 = stream.Position - position73;
			Span<byte> span73 = range73.GetSpan();
			int num80 = ProtocolParser.WriteUInt32((uint)val24, span73, 0);
			if (num80 < 5)
			{
				span73[num80 - 1] |= 128;
				while (num80 < 4)
				{
					span73[num80++] = 128;
				}
				span73[4] = 0;
			}
		}
		if (instance.cassette != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(4);
			BufferStream.RangeHandle range74 = stream.GetRange(1);
			int position74 = stream.Position;
			Cassette.SerializeDelta(stream, instance.cassette, previous.cassette);
			int num81 = stream.Position - position74;
			if (num81 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cassette (ProtoBuf.Cassette)");
			}
			Span<byte> span74 = range74.GetSpan();
			ProtocolParser.WriteUInt32((uint)num81, span74, 0);
		}
		if (instance.telephone != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(4);
			BufferStream.RangeHandle range75 = stream.GetRange(5);
			int position75 = stream.Position;
			Telephone.SerializeDelta(stream, instance.telephone, previous.telephone);
			int val25 = stream.Position - position75;
			Span<byte> span75 = range75.GetSpan();
			int num82 = ProtocolParser.WriteUInt32((uint)val25, span75, 0);
			if (num82 < 5)
			{
				span75[num82 - 1] |= 128;
				while (num82 < 4)
				{
					span75[num82++] = 128;
				}
				span75[4] = 0;
			}
		}
		if (instance.boomBox != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(4);
			BufferStream.RangeHandle range76 = stream.GetRange(5);
			int position76 = stream.Position;
			BoomBox.SerializeDelta(stream, instance.boomBox, previous.boomBox);
			int val26 = stream.Position - position76;
			Span<byte> span76 = range76.GetSpan();
			int num83 = ProtocolParser.WriteUInt32((uint)val26, span76, 0);
			if (num83 < 5)
			{
				span76[num83 - 1] |= 128;
				while (num83 < 4)
				{
					span76[num83++] = 128;
				}
				span76[4] = 0;
			}
		}
		if (instance.neonSign != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(4);
			BufferStream.RangeHandle range77 = stream.GetRange(3);
			int position77 = stream.Position;
			NeonSign.SerializeDelta(stream, instance.neonSign, previous.neonSign);
			int num84 = stream.Position - position77;
			if (num84 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field neonSign (ProtoBuf.NeonSign)");
			}
			Span<byte> span77 = range77.GetSpan();
			int num85 = ProtocolParser.WriteUInt32((uint)num84, span77, 0);
			if (num85 < 3)
			{
				span77[num85 - 1] |= 128;
				while (num85 < 2)
				{
					span77[num85++] = 128;
				}
				span77[2] = 0;
			}
		}
		if (instance.subEntityList != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(4);
			BufferStream.RangeHandle range78 = stream.GetRange(3);
			int position78 = stream.Position;
			SubEntityList.SerializeDelta(stream, instance.subEntityList, previous.subEntityList);
			int num86 = stream.Position - position78;
			if (num86 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field subEntityList (ProtoBuf.SubEntityList)");
			}
			Span<byte> span78 = range78.GetSpan();
			int num87 = ProtocolParser.WriteUInt32((uint)num86, span78, 0);
			if (num87 < 3)
			{
				span78[num87 - 1] |= 128;
				while (num87 < 2)
				{
					span78[num87++] = 128;
				}
				span78[2] = 0;
			}
		}
		if (instance.marketTerminal != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(5);
			BufferStream.RangeHandle range79 = stream.GetRange(5);
			int position79 = stream.Position;
			MarketTerminal.SerializeDelta(stream, instance.marketTerminal, previous.marketTerminal);
			int val27 = stream.Position - position79;
			Span<byte> span79 = range79.GetSpan();
			int num88 = ProtocolParser.WriteUInt32((uint)val27, span79, 0);
			if (num88 < 5)
			{
				span79[num88 - 1] |= 128;
				while (num88 < 4)
				{
					span79[num88++] = 128;
				}
				span79[4] = 0;
			}
		}
		if (instance.deliveryDrone != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(5);
			BufferStream.RangeHandle range80 = stream.GetRange(1);
			int position80 = stream.Position;
			DeliveryDrone.SerializeDelta(stream, instance.deliveryDrone, previous.deliveryDrone);
			int num89 = stream.Position - position80;
			if (num89 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field deliveryDrone (ProtoBuf.DeliveryDrone)");
			}
			Span<byte> span80 = range80.GetSpan();
			ProtocolParser.WriteUInt32((uint)num89, span80, 0);
		}
		if (instance.reclaimTerminal != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(5);
			BufferStream.RangeHandle range81 = stream.GetRange(1);
			int position81 = stream.Position;
			ReclaimTerminal.SerializeDelta(stream, instance.reclaimTerminal, previous.reclaimTerminal);
			int num90 = stream.Position - position81;
			if (num90 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field reclaimTerminal (ProtoBuf.ReclaimTerminal)");
			}
			Span<byte> span81 = range81.GetSpan();
			ProtocolParser.WriteUInt32((uint)num90, span81, 0);
		}
		if (instance.slotMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(5);
			BufferStream.RangeHandle range82 = stream.GetRange(1);
			int position82 = stream.Position;
			SlotMachine.SerializeDelta(stream, instance.slotMachine, previous.slotMachine);
			int num91 = stream.Position - position82;
			if (num91 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field slotMachine (ProtoBuf.SlotMachine)");
			}
			Span<byte> span82 = range82.GetSpan();
			ProtocolParser.WriteUInt32((uint)num91, span82, 0);
		}
		if (instance.trainEngine != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(5);
			BufferStream.RangeHandle range83 = stream.GetRange(1);
			int position83 = stream.Position;
			TrainEngine.SerializeDelta(stream, instance.trainEngine, previous.trainEngine);
			int num92 = stream.Position - position83;
			if (num92 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field trainEngine (ProtoBuf.TrainEngine)");
			}
			Span<byte> span83 = range83.GetSpan();
			ProtocolParser.WriteUInt32((uint)num92, span83, 0);
		}
		if (instance.cardGame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(5);
			BufferStream.RangeHandle range84 = stream.GetRange(5);
			int position84 = stream.Position;
			CardGame.SerializeDelta(stream, instance.cardGame, previous.cardGame);
			int num93 = stream.Position - position84;
			if (num93 > int.MaxValue)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cardGame (ProtoBuf.CardGame)");
			}
			Span<byte> span84 = range84.GetSpan();
			int num94 = ProtocolParser.WriteUInt32((uint)num93, span84, 0);
			if (num94 < 5)
			{
				span84[num94 - 1] |= 128;
				while (num94 < 4)
				{
					span84[num94++] = 128;
				}
				span84[4] = 0;
			}
		}
		if (instance.crane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(5);
			BufferStream.RangeHandle range85 = stream.GetRange(1);
			int position85 = stream.Position;
			Crane.SerializeDelta(stream, instance.crane, previous.crane);
			int num95 = stream.Position - position85;
			if (num95 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field crane (ProtoBuf.Crane)");
			}
			Span<byte> span85 = range85.GetSpan();
			ProtocolParser.WriteUInt32((uint)num95, span85, 0);
		}
		if (instance.connectedSpeaker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(5);
			BufferStream.RangeHandle range86 = stream.GetRange(1);
			int position86 = stream.Position;
			ConnectedSpeaker.SerializeDelta(stream, instance.connectedSpeaker, previous.connectedSpeaker);
			int num96 = stream.Position - position86;
			if (num96 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field connectedSpeaker (ProtoBuf.ConnectedSpeaker)");
			}
			Span<byte> span86 = range86.GetSpan();
			ProtocolParser.WriteUInt32((uint)num96, span86, 0);
		}
		if (instance.audioEntity != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(5);
			BufferStream.RangeHandle range87 = stream.GetRange(1);
			int position87 = stream.Position;
			AudioEntity.SerializeDelta(stream, instance.audioEntity, previous.audioEntity);
			int num97 = stream.Position - position87;
			if (num97 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field audioEntity (ProtoBuf.AudioEntity)");
			}
			Span<byte> span87 = range87.GetSpan();
			ProtocolParser.WriteUInt32((uint)num97, span87, 0);
		}
		if (instance.microphoneStand != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(5);
			BufferStream.RangeHandle range88 = stream.GetRange(1);
			int position88 = stream.Position;
			MicrophoneStand.SerializeDelta(stream, instance.microphoneStand, previous.microphoneStand);
			int num98 = stream.Position - position88;
			if (num98 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field microphoneStand (ProtoBuf.MicrophoneStand)");
			}
			Span<byte> span88 = range88.GetSpan();
			ProtocolParser.WriteUInt32((uint)num98, span88, 0);
		}
		if (instance.submarine != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(5);
			BufferStream.RangeHandle range89 = stream.GetRange(1);
			int position89 = stream.Position;
			Submarine.SerializeDelta(stream, instance.submarine, previous.submarine);
			int num99 = stream.Position - position89;
			if (num99 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field submarine (ProtoBuf.Submarine)");
			}
			Span<byte> span89 = range89.GetSpan();
			ProtocolParser.WriteUInt32((uint)num99, span89, 0);
		}
		if (instance.sleepingBagCamper != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(5);
			BufferStream.RangeHandle range90 = stream.GetRange(1);
			int position90 = stream.Position;
			SleepingBagCamper.SerializeDelta(stream, instance.sleepingBagCamper, previous.sleepingBagCamper);
			int num100 = stream.Position - position90;
			if (num100 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sleepingBagCamper (ProtoBuf.SleepingBagCamper)");
			}
			Span<byte> span90 = range90.GetSpan();
			ProtocolParser.WriteUInt32((uint)num100, span90, 0);
		}
		if (instance.camperModule != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(5);
			BufferStream.RangeHandle range91 = stream.GetRange(1);
			int position91 = stream.Position;
			CamperModule.SerializeDelta(stream, instance.camperModule, previous.camperModule);
			int num101 = stream.Position - position91;
			if (num101 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field camperModule (ProtoBuf.CamperModule)");
			}
			Span<byte> span91 = range91.GetSpan();
			ProtocolParser.WriteUInt32((uint)num101, span91, 0);
		}
		if (instance.paintableSign != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(5);
			BufferStream.RangeHandle range92 = stream.GetRange(3);
			int position92 = stream.Position;
			PaintableSign.SerializeDelta(stream, instance.paintableSign, previous.paintableSign);
			int num102 = stream.Position - position92;
			if (num102 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintableSign (ProtoBuf.PaintableSign)");
			}
			Span<byte> span92 = range92.GetSpan();
			int num103 = ProtocolParser.WriteUInt32((uint)num102, span92, 0);
			if (num103 < 3)
			{
				span92[num103 - 1] |= 128;
				while (num103 < 2)
				{
					span92[num103++] = 128;
				}
				span92[2] = 0;
			}
		}
		if (instance.whitelist != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(5);
			BufferStream.RangeHandle range93 = stream.GetRange(3);
			int position93 = stream.Position;
			Whitelist.SerializeDelta(stream, instance.whitelist, previous.whitelist);
			int num104 = stream.Position - position93;
			if (num104 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field whitelist (ProtoBuf.Whitelist)");
			}
			Span<byte> span93 = range93.GetSpan();
			int num105 = ProtocolParser.WriteUInt32((uint)num104, span93, 0);
			if (num105 < 3)
			{
				span93[num105 - 1] |= 128;
				while (num105 < 2)
				{
					span93[num105++] = 128;
				}
				span93[2] = 0;
			}
		}
		if (instance.FrankensteinTable != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(5);
			BufferStream.RangeHandle range94 = stream.GetRange(3);
			int position94 = stream.Position;
			FrankensteinTable.SerializeDelta(stream, instance.FrankensteinTable, previous.FrankensteinTable);
			int num106 = stream.Position - position94;
			if (num106 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field FrankensteinTable (ProtoBuf.FrankensteinTable)");
			}
			Span<byte> span94 = range94.GetSpan();
			int num107 = ProtocolParser.WriteUInt32((uint)num106, span94, 0);
			if (num107 < 3)
			{
				span94[num107 - 1] |= 128;
				while (num107 < 2)
				{
					span94[num107++] = 128;
				}
				span94[2] = 0;
			}
		}
		if (instance.mlrs != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(6);
			BufferStream.RangeHandle range95 = stream.GetRange(1);
			int position95 = stream.Position;
			MLRS.SerializeDelta(stream, instance.mlrs, previous.mlrs);
			int num108 = stream.Position - position95;
			if (num108 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mlrs (ProtoBuf.MLRS)");
			}
			Span<byte> span95 = range95.GetSpan();
			ProtocolParser.WriteUInt32((uint)num108, span95, 0);
		}
		if (instance.reclaimManager != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(6);
			BufferStream.RangeHandle range96 = stream.GetRange(5);
			int position96 = stream.Position;
			ReclaimManager.SerializeDelta(stream, instance.reclaimManager, previous.reclaimManager);
			int val28 = stream.Position - position96;
			Span<byte> span96 = range96.GetSpan();
			int num109 = ProtocolParser.WriteUInt32((uint)val28, span96, 0);
			if (num109 < 5)
			{
				span96[num109 - 1] |= 128;
				while (num109 < 4)
				{
					span96[num109++] = 128;
				}
				span96[4] = 0;
			}
		}
		if (instance.gameMode != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(6);
			BufferStream.RangeHandle range97 = stream.GetRange(5);
			int position97 = stream.Position;
			GameMode.SerializeDelta(stream, instance.gameMode, previous.gameMode);
			int val29 = stream.Position - position97;
			Span<byte> span97 = range97.GetSpan();
			int num110 = ProtocolParser.WriteUInt32((uint)val29, span97, 0);
			if (num110 < 5)
			{
				span97[num110 - 1] |= 128;
				while (num110 < 4)
				{
					span97[num110++] = 128;
				}
				span97[4] = 0;
			}
		}
		if (instance.snowmobile != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(6);
			BufferStream.RangeHandle range98 = stream.GetRange(1);
			int position98 = stream.Position;
			Snowmobile.SerializeDelta(stream, instance.snowmobile, previous.snowmobile);
			int num111 = stream.Position - position98;
			if (num111 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field snowmobile (ProtoBuf.Snowmobile)");
			}
			Span<byte> span98 = range98.GetSpan();
			ProtocolParser.WriteUInt32((uint)num111, span98, 0);
		}
		stream.WriteByte(160);
		stream.WriteByte(6);
		ProtocolParser.WriteBool(stream, instance.createdThisFrame);
		if (instance.patternFirework != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(6);
			BufferStream.RangeHandle range99 = stream.GetRange(3);
			int position99 = stream.Position;
			PatternFirework.SerializeDelta(stream, instance.patternFirework, previous.patternFirework);
			int num112 = stream.Position - position99;
			if (num112 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field patternFirework (ProtoBuf.PatternFirework)");
			}
			Span<byte> span99 = range99.GetSpan();
			int num113 = ProtocolParser.WriteUInt32((uint)num112, span99, 0);
			if (num113 < 3)
			{
				span99[num113 - 1] |= 128;
				while (num113 < 2)
				{
					span99[num113++] = 128;
				}
				span99[2] = 0;
			}
		}
		if (instance.cargoPlane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(6);
			BufferStream.RangeHandle range100 = stream.GetRange(1);
			int position100 = stream.Position;
			CargoPlane.SerializeDelta(stream, instance.cargoPlane, previous.cargoPlane);
			int num114 = stream.Position - position100;
			if (num114 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoPlane (ProtoBuf.CargoPlane)");
			}
			Span<byte> span100 = range100.GetSpan();
			ProtocolParser.WriteUInt32((uint)num114, span100, 0);
		}
		if (instance.paintedItem != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(6);
			BufferStream.RangeHandle range101 = stream.GetRange(1);
			int position101 = stream.Position;
			PaintedItem.SerializeDelta(stream, instance.paintedItem, previous.paintedItem);
			int num115 = stream.Position - position101;
			if (num115 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintedItem (ProtoBuf.PaintedItem)");
			}
			Span<byte> span101 = range101.GetSpan();
			ProtocolParser.WriteUInt32((uint)num115, span101, 0);
		}
		if (instance.clanManager != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(6);
			BufferStream.RangeHandle range102 = stream.GetRange(5);
			int position102 = stream.Position;
			ClanManager.SerializeDelta(stream, instance.clanManager, previous.clanManager);
			int val30 = stream.Position - position102;
			Span<byte> span102 = range102.GetSpan();
			int num116 = ProtocolParser.WriteUInt32((uint)val30, span102, 0);
			if (num116 < 5)
			{
				span102[num116 - 1] |= 128;
				while (num116 < 4)
				{
					span102[num116++] = 128;
				}
				span102[4] = 0;
			}
		}
		if (instance.spray != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(6);
			BufferStream.RangeHandle range103 = stream.GetRange(1);
			int position103 = stream.Position;
			Spray.SerializeDelta(stream, instance.spray, previous.spray);
			int num117 = stream.Position - position103;
			if (num117 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spray (ProtoBuf.Spray)");
			}
			Span<byte> span103 = range103.GetSpan();
			ProtocolParser.WriteUInt32((uint)num117, span103, 0);
		}
		if (instance.baseTrain != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(6);
			BufferStream.RangeHandle range104 = stream.GetRange(1);
			int position104 = stream.Position;
			BaseTrain.SerializeDelta(stream, instance.baseTrain, previous.baseTrain);
			int num118 = stream.Position - position104;
			if (num118 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseTrain (ProtoBuf.BaseTrain)");
			}
			Span<byte> span104 = range104.GetSpan();
			ProtocolParser.WriteUInt32((uint)num118, span104, 0);
		}
		if (instance.zipline != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(6);
			BufferStream.RangeHandle range105 = stream.GetRange(3);
			int position105 = stream.Position;
			Zipline.SerializeDelta(stream, instance.zipline, previous.zipline);
			int num119 = stream.Position - position105;
			if (num119 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field zipline (ProtoBuf.Zipline)");
			}
			Span<byte> span105 = range105.GetSpan();
			int num120 = ProtocolParser.WriteUInt32((uint)num119, span105, 0);
			if (num120 < 3)
			{
				span105[num120 - 1] |= 128;
				while (num120 < 2)
				{
					span105[num120++] = 128;
				}
				span105[2] = 0;
			}
		}
		if (instance.ziplineMountable != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(6);
			BufferStream.RangeHandle range106 = stream.GetRange(3);
			int position106 = stream.Position;
			ZiplineMountable.SerializeDelta(stream, instance.ziplineMountable, previous.ziplineMountable);
			int num121 = stream.Position - position106;
			if (num121 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ziplineMountable (ProtoBuf.ZiplineMountable)");
			}
			Span<byte> span106 = range106.GetSpan();
			int num122 = ProtocolParser.WriteUInt32((uint)num121, span106, 0);
			if (num122 < 3)
			{
				span106[num122 - 1] |= 128;
				while (num122 < 2)
				{
					span106[num122++] = 128;
				}
				span106[2] = 0;
			}
		}
		if (instance.ZiplineArrival != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(6);
			BufferStream.RangeHandle range107 = stream.GetRange(3);
			int position107 = stream.Position;
			ZiplineArrivalPoint.SerializeDelta(stream, instance.ZiplineArrival, previous.ZiplineArrival);
			int num123 = stream.Position - position107;
			if (num123 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ZiplineArrival (ProtoBuf.ZiplineArrivalPoint)");
			}
			Span<byte> span107 = range107.GetSpan();
			int num124 = ProtocolParser.WriteUInt32((uint)num123, span107, 0);
			if (num124 < 3)
			{
				span107[num124 - 1] |= 128;
				while (num124 < 2)
				{
					span107[num124++] = 128;
				}
				span107[2] = 0;
			}
		}
		if (instance.sprayLine != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(6);
			BufferStream.RangeHandle range108 = stream.GetRange(3);
			int position108 = stream.Position;
			SprayLine.SerializeDelta(stream, instance.sprayLine, previous.sprayLine);
			int num125 = stream.Position - position108;
			if (num125 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sprayLine (ProtoBuf.SprayLine)");
			}
			Span<byte> span108 = range108.GetSpan();
			int num126 = ProtocolParser.WriteUInt32((uint)num125, span108, 0);
			if (num126 < 3)
			{
				span108[num126 - 1] |= 128;
				while (num126 < 2)
				{
					span108[num126++] = 128;
				}
				span108[2] = 0;
			}
		}
		if (instance.coalingTower != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(6);
			BufferStream.RangeHandle range109 = stream.GetRange(1);
			int position109 = stream.Position;
			CoalingTower.SerializeDelta(stream, instance.coalingTower, previous.coalingTower);
			int num127 = stream.Position - position109;
			if (num127 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field coalingTower (ProtoBuf.CoalingTower)");
			}
			Span<byte> span109 = range109.GetSpan();
			ProtocolParser.WriteUInt32((uint)num127, span109, 0);
		}
		if (instance.simpleInt != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(7);
			BufferStream.RangeHandle range110 = stream.GetRange(1);
			int position110 = stream.Position;
			SimpleInt.SerializeDelta(stream, instance.simpleInt, previous.simpleInt);
			int num128 = stream.Position - position110;
			if (num128 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleInt (ProtoBuf.SimpleInt)");
			}
			Span<byte> span110 = range110.GetSpan();
			ProtocolParser.WriteUInt32((uint)num128, span110, 0);
		}
		if (instance.baseOven != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(7);
			BufferStream.RangeHandle range111 = stream.GetRange(3);
			int position111 = stream.Position;
			BaseOven.SerializeDelta(stream, instance.baseOven, previous.baseOven);
			int num129 = stream.Position - position111;
			if (num129 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseOven (ProtoBuf.BaseOven)");
			}
			Span<byte> span111 = range111.GetSpan();
			int num130 = ProtocolParser.WriteUInt32((uint)num129, span111, 0);
			if (num130 < 3)
			{
				span111[num130 - 1] |= 128;
				while (num130 < 2)
				{
					span111[num130++] = 128;
				}
				span111[2] = 0;
			}
		}
		if (instance.brainComponent != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(7);
			BufferStream.RangeHandle range112 = stream.GetRange(1);
			int position112 = stream.Position;
			BrainComponent.SerializeDelta(stream, instance.brainComponent, previous.brainComponent);
			int num131 = stream.Position - position112;
			if (num131 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field brainComponent (ProtoBuf.BrainComponent)");
			}
			Span<byte> span112 = range112.GetSpan();
			ProtocolParser.WriteUInt32((uint)num131, span112, 0);
		}
		if (instance.proceduralDungeon != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(7);
			BufferStream.RangeHandle range113 = stream.GetRange(1);
			int position113 = stream.Position;
			ProceduralDungeon.SerializeDelta(stream, instance.proceduralDungeon, previous.proceduralDungeon);
			int num132 = stream.Position - position113;
			if (num132 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field proceduralDungeon (ProtoBuf.ProceduralDungeon)");
			}
			Span<byte> span113 = range113.GetSpan();
			ProtocolParser.WriteUInt32((uint)num132, span113, 0);
		}
		if (instance.industrialConveyor != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(7);
			BufferStream.RangeHandle range114 = stream.GetRange(3);
			int position114 = stream.Position;
			IndustrialConveyor.SerializeDelta(stream, instance.industrialConveyor, previous.industrialConveyor);
			int num133 = stream.Position - position114;
			if (num133 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialConveyor (ProtoBuf.IndustrialConveyor)");
			}
			Span<byte> span114 = range114.GetSpan();
			int num134 = ProtocolParser.WriteUInt32((uint)num133, span114, 0);
			if (num134 < 3)
			{
				span114[num134 - 1] |= 128;
				while (num134 < 2)
				{
					span114[num134++] = 128;
				}
				span114[2] = 0;
			}
		}
		if (instance.industrialCrafter != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(7);
			BufferStream.RangeHandle range115 = stream.GetRange(1);
			int position115 = stream.Position;
			IndustrialCrafter.SerializeDelta(stream, instance.industrialCrafter, previous.industrialCrafter);
			int num135 = stream.Position - position115;
			if (num135 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialCrafter (ProtoBuf.IndustrialCrafter)");
			}
			Span<byte> span115 = range115.GetSpan();
			ProtocolParser.WriteUInt32((uint)num135, span115, 0);
		}
		if (instance.drone != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(7);
			BufferStream.RangeHandle range116 = stream.GetRange(1);
			int position116 = stream.Position;
			Drone.SerializeDelta(stream, instance.drone, previous.drone);
			int num136 = stream.Position - position116;
			if (num136 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field drone (ProtoBuf.Drone)");
			}
			Span<byte> span116 = range116.GetSpan();
			ProtocolParser.WriteUInt32((uint)num136, span116, 0);
		}
		if (instance.explosive != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(7);
			BufferStream.RangeHandle range117 = stream.GetRange(1);
			int position117 = stream.Position;
			TimedExplosive.SerializeDelta(stream, instance.explosive, previous.explosive);
			int num137 = stream.Position - position117;
			if (num137 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field explosive (ProtoBuf.TimedExplosive)");
			}
			Span<byte> span117 = range117.GetSpan();
			ProtocolParser.WriteUInt32((uint)num137, span117, 0);
		}
		if (instance.simpleUint != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(7);
			BufferStream.RangeHandle range118 = stream.GetRange(1);
			int position118 = stream.Position;
			SimpleUInt.SerializeDelta(stream, instance.simpleUint, previous.simpleUint);
			int num138 = stream.Position - position118;
			if (num138 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUint (ProtoBuf.SimpleUInt)");
			}
			Span<byte> span118 = range118.GetSpan();
			ProtocolParser.WriteUInt32((uint)num138, span118, 0);
		}
		if (instance.weaponRack != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(7);
			BufferStream.RangeHandle range119 = stream.GetRange(3);
			int position119 = stream.Position;
			WeaponRack.SerializeDelta(stream, instance.weaponRack, previous.weaponRack);
			int num139 = stream.Position - position119;
			if (num139 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field weaponRack (ProtoBuf.WeaponRack)");
			}
			Span<byte> span119 = range119.GetSpan();
			int num140 = ProtocolParser.WriteUInt32((uint)num139, span119, 0);
			if (num140 < 3)
			{
				span119[num140 - 1] |= 128;
				while (num140 < 2)
				{
					span119[num140++] = 128;
				}
				span119[2] = 0;
			}
		}
		if (instance.attackHeli != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(7);
			BufferStream.RangeHandle range120 = stream.GetRange(1);
			int position120 = stream.Position;
			AttackHeli.SerializeDelta(stream, instance.attackHeli, previous.attackHeli);
			int num141 = stream.Position - position120;
			if (num141 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeli (ProtoBuf.AttackHeli)");
			}
			Span<byte> span120 = range120.GetSpan();
			ProtocolParser.WriteUInt32((uint)num141, span120, 0);
		}
		if (instance.attackHeliTurret != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(7);
			BufferStream.RangeHandle range121 = stream.GetRange(1);
			int position121 = stream.Position;
			AttackHeliTurret.SerializeDelta(stream, instance.attackHeliTurret, previous.attackHeliTurret);
			int num142 = stream.Position - position121;
			if (num142 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliTurret (ProtoBuf.AttackHeliTurret)");
			}
			Span<byte> span121 = range121.GetSpan();
			ProtocolParser.WriteUInt32((uint)num142, span121, 0);
		}
		if (instance.attackHeliRockets != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(7);
			BufferStream.RangeHandle range122 = stream.GetRange(1);
			int position122 = stream.Position;
			AttackHeliRockets.SerializeDelta(stream, instance.attackHeliRockets, previous.attackHeliRockets);
			int num143 = stream.Position - position122;
			if (num143 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliRockets (ProtoBuf.AttackHeliRockets)");
			}
			Span<byte> span122 = range122.GetSpan();
			ProtocolParser.WriteUInt32((uint)num143, span122, 0);
		}
		if (instance.baseBoat != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(7);
			BufferStream.RangeHandle range123 = stream.GetRange(1);
			int position123 = stream.Position;
			BaseBoat.SerializeDelta(stream, instance.baseBoat, previous.baseBoat);
			int num144 = stream.Position - position123;
			if (num144 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseBoat (ProtoBuf.BaseBoat)");
			}
			Span<byte> span123 = range123.GetSpan();
			ProtocolParser.WriteUInt32((uint)num144, span123, 0);
		}
		if (instance.ragdoll != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(7);
			BufferStream.RangeHandle range124 = stream.GetRange(3);
			int position124 = stream.Position;
			Ragdoll.SerializeDelta(stream, instance.ragdoll, previous.ragdoll);
			int num145 = stream.Position - position124;
			if (num145 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ragdoll (ProtoBuf.Ragdoll)");
			}
			Span<byte> span124 = range124.GetSpan();
			int num146 = ProtocolParser.WriteUInt32((uint)num145, span124, 0);
			if (num146 < 3)
			{
				span124[num146 - 1] |= 128;
				while (num146 < 2)
				{
					span124[num146++] = 128;
				}
				span124[2] = 0;
			}
		}
		if (instance.dieselEngine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(7);
			BufferStream.RangeHandle range125 = stream.GetRange(1);
			int position125 = stream.Position;
			DieselEngine.SerializeDelta(stream, instance.dieselEngine, previous.dieselEngine);
			int num147 = stream.Position - position125;
			if (num147 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dieselEngine (ProtoBuf.DieselEngine)");
			}
			Span<byte> span125 = range125.GetSpan();
			ProtocolParser.WriteUInt32((uint)num147, span125, 0);
		}
		if (instance.associatedFiles != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(9);
			BufferStream.RangeHandle range126 = stream.GetRange(5);
			int position126 = stream.Position;
			AssociatedFiles.SerializeDelta(stream, instance.associatedFiles, previous.associatedFiles);
			int val31 = stream.Position - position126;
			Span<byte> span126 = range126.GetSpan();
			int num148 = ProtocolParser.WriteUInt32((uint)val31, span126, 0);
			if (num148 < 5)
			{
				span126[num148 - 1] |= 128;
				while (num148 < 4)
				{
					span126[num148++] = 128;
				}
				span126[4] = 0;
			}
		}
		if (instance.nexusFerry != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(9);
			BufferStream.RangeHandle range127 = stream.GetRange(5);
			int position127 = stream.Position;
			NexusFerry.SerializeDelta(stream, instance.nexusFerry, previous.nexusFerry);
			int val32 = stream.Position - position127;
			Span<byte> span127 = range127.GetSpan();
			int num149 = ProtocolParser.WriteUInt32((uint)val32, span127, 0);
			if (num149 < 5)
			{
				span127[num149 - 1] |= 128;
				while (num149 < 4)
				{
					span127[num149++] = 128;
				}
				span127[4] = 0;
			}
		}
		if (instance.nexusIsland != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(9);
			BufferStream.RangeHandle range128 = stream.GetRange(5);
			int position128 = stream.Position;
			NexusIsland.SerializeDelta(stream, instance.nexusIsland, previous.nexusIsland);
			int val33 = stream.Position - position128;
			Span<byte> span128 = range128.GetSpan();
			int num150 = ProtocolParser.WriteUInt32((uint)val33, span128, 0);
			if (num150 < 5)
			{
				span128[num150 - 1] |= 128;
				while (num150 < 4)
				{
					span128[num150++] = 128;
				}
				span128[4] = 0;
			}
		}
		if (instance.nexusDockTerminal != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(9);
			BufferStream.RangeHandle range129 = stream.GetRange(3);
			int position129 = stream.Position;
			NexusDockTerminal.SerializeDelta(stream, instance.nexusDockTerminal, previous.nexusDockTerminal);
			int num151 = stream.Position - position129;
			if (num151 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field nexusDockTerminal (ProtoBuf.NexusDockTerminal)");
			}
			Span<byte> span129 = range129.GetSpan();
			int num152 = ProtocolParser.WriteUInt32((uint)num151, span129, 0);
			if (num152 < 3)
			{
				span129[num152 - 1] |= 128;
				while (num152 < 2)
				{
					span129[num152++] = 128;
				}
				span129[2] = 0;
			}
		}
		if (instance.rockingChair != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(9);
			BufferStream.RangeHandle range130 = stream.GetRange(1);
			int position130 = stream.Position;
			RockingChair.SerializeDelta(stream, instance.rockingChair, previous.rockingChair);
			int num153 = stream.Position - position130;
			if (num153 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rockingChair (ProtoBuf.RockingChair)");
			}
			Span<byte> span130 = range130.GetSpan();
			ProtocolParser.WriteUInt32((uint)num153, span130, 0);
		}
		if (instance.headData != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(9);
			BufferStream.RangeHandle range131 = stream.GetRange(5);
			int position131 = stream.Position;
			HeadData.SerializeDelta(stream, instance.headData, previous.headData);
			int val34 = stream.Position - position131;
			Span<byte> span131 = range131.GetSpan();
			int num154 = ProtocolParser.WriteUInt32((uint)val34, span131, 0);
			if (num154 < 5)
			{
				span131[num154 - 1] |= 128;
				while (num154 < 4)
				{
					span131[num154++] = 128;
				}
				span131[4] = 0;
			}
		}
		if (instance.wantedPoster != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(9);
			BufferStream.RangeHandle range132 = stream.GetRange(5);
			int position132 = stream.Position;
			WantedPoster.SerializeDelta(stream, instance.wantedPoster, previous.wantedPoster);
			int val35 = stream.Position - position132;
			Span<byte> span132 = range132.GetSpan();
			int num155 = ProtocolParser.WriteUInt32((uint)val35, span132, 0);
			if (num155 < 5)
			{
				span132[num155 - 1] |= 128;
				while (num155 < 4)
				{
					span132[num155++] = 128;
				}
				span132[4] = 0;
			}
		}
		if (instance.waypointRace != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(9);
			BufferStream.RangeHandle range133 = stream.GetRange(3);
			int position133 = stream.Position;
			WaypointRace.SerializeDelta(stream, instance.waypointRace, previous.waypointRace);
			int num156 = stream.Position - position133;
			if (num156 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waypointRace (ProtoBuf.WaypointRace)");
			}
			Span<byte> span133 = range133.GetSpan();
			int num157 = ProtocolParser.WriteUInt32((uint)num156, span133, 0);
			if (num157 < 3)
			{
				span133[num157 - 1] |= 128;
				while (num157 < 2)
				{
					span133[num157++] = 128;
				}
				span133[2] = 0;
			}
		}
		if (instance.legacyShelter != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(9);
			BufferStream.RangeHandle range134 = stream.GetRange(1);
			int position134 = stream.Position;
			LegacyShelter.SerializeDelta(stream, instance.legacyShelter, previous.legacyShelter);
			int num158 = stream.Position - position134;
			if (num158 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field legacyShelter (ProtoBuf.LegacyShelter)");
			}
			Span<byte> span134 = range134.GetSpan();
			ProtocolParser.WriteUInt32((uint)num158, span134, 0);
		}
		if (instance.metalDetectorSource != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(10);
			BufferStream.RangeHandle range135 = stream.GetRange(3);
			int position135 = stream.Position;
			MetalDetectorSource.SerializeDelta(stream, instance.metalDetectorSource, previous.metalDetectorSource);
			int num159 = stream.Position - position135;
			if (num159 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field metalDetectorSource (ProtoBuf.MetalDetectorSource)");
			}
			Span<byte> span135 = range135.GetSpan();
			int num160 = ProtocolParser.WriteUInt32((uint)num159, span135, 0);
			if (num160 < 3)
			{
				span135[num160 - 1] |= 128;
				while (num160 < 2)
				{
					span135[num160++] = 128;
				}
				span135[2] = 0;
			}
		}
		if (instance.tutorialIsland != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(10);
			BufferStream.RangeHandle range136 = stream.GetRange(1);
			int position136 = stream.Position;
			TutorialIsland.SerializeDelta(stream, instance.tutorialIsland, previous.tutorialIsland);
			int num161 = stream.Position - position136;
			if (num161 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tutorialIsland (ProtoBuf.TutorialIsland)");
			}
			Span<byte> span136 = range136.GetSpan();
			ProtocolParser.WriteUInt32((uint)num161, span136, 0);
		}
		if (instance.cinematicEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(10);
			BufferStream.RangeHandle range137 = stream.GetRange(1);
			int position137 = stream.Position;
			CinematicEntity.SerializeDelta(stream, instance.cinematicEntity, previous.cinematicEntity);
			int num162 = stream.Position - position137;
			if (num162 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cinematicEntity (ProtoBuf.CinematicEntity)");
			}
			Span<byte> span137 = range137.GetSpan();
			ProtocolParser.WriteUInt32((uint)num162, span137, 0);
		}
		if (instance.buildingPrivilegeRetro != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(10);
			BufferStream.RangeHandle range138 = stream.GetRange(3);
			int position138 = stream.Position;
			BuildingPrivilegeRetro.SerializeDelta(stream, instance.buildingPrivilegeRetro, previous.buildingPrivilegeRetro);
			int num163 = stream.Position - position138;
			if (num163 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingPrivilegeRetro (ProtoBuf.BuildingPrivilegeRetro)");
			}
			Span<byte> span138 = range138.GetSpan();
			int num164 = ProtocolParser.WriteUInt32((uint)num163, span138, 0);
			if (num164 < 3)
			{
				span138[num164 - 1] |= 128;
				while (num164 < 2)
				{
					span138[num164++] = 128;
				}
				span138[2] = 0;
			}
		}
		if (instance.harborCrane != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(10);
			BufferStream.RangeHandle range139 = stream.GetRange(3);
			int position139 = stream.Position;
			HarborCrane.SerializeDelta(stream, instance.harborCrane, previous.harborCrane);
			int num165 = stream.Position - position139;
			if (num165 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field harborCrane (ProtoBuf.HarborCrane)");
			}
			Span<byte> span139 = range139.GetSpan();
			int num166 = ProtocolParser.WriteUInt32((uint)num165, span139, 0);
			if (num166 < 3)
			{
				span139[num166 - 1] |= 128;
				while (num166 < 2)
				{
					span139[num166++] = 128;
				}
				span139[2] = 0;
			}
		}
		if (instance.cargoShip != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(10);
			BufferStream.RangeHandle range140 = stream.GetRange(3);
			int position140 = stream.Position;
			CargoShip.SerializeDelta(stream, instance.cargoShip, previous.cargoShip);
			int num167 = stream.Position - position140;
			if (num167 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShip (ProtoBuf.CargoShip)");
			}
			Span<byte> span140 = range140.GetSpan();
			int num168 = ProtocolParser.WriteUInt32((uint)num167, span140, 0);
			if (num168 < 3)
			{
				span140[num168 - 1] |= 128;
				while (num168 < 2)
				{
					span140[num168++] = 128;
				}
				span140[2] = 0;
			}
		}
		if (instance.cargoShipContainer != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(10);
			BufferStream.RangeHandle range141 = stream.GetRange(1);
			int position141 = stream.Position;
			CargoShipContainer.SerializeDelta(stream, instance.cargoShipContainer, previous.cargoShipContainer);
			int num169 = stream.Position - position141;
			if (num169 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShipContainer (ProtoBuf.CargoShipContainer)");
			}
			Span<byte> span141 = range141.GetSpan();
			ProtocolParser.WriteUInt32((uint)num169, span141, 0);
		}
		if (instance.missionMapMarker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(10);
			BufferStream.RangeHandle range142 = stream.GetRange(5);
			int position142 = stream.Position;
			MissionMapMarker.SerializeDelta(stream, instance.missionMapMarker, previous.missionMapMarker);
			int val36 = stream.Position - position142;
			Span<byte> span142 = range142.GetSpan();
			int num170 = ProtocolParser.WriteUInt32((uint)val36, span142, 0);
			if (num170 < 5)
			{
				span142[num170 - 1] |= 128;
				while (num170 < 4)
				{
					span142[num170++] = 128;
				}
				span142[4] = 0;
			}
		}
		if (instance.bike != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(10);
			BufferStream.RangeHandle range143 = stream.GetRange(1);
			int position143 = stream.Position;
			Bike.SerializeDelta(stream, instance.bike, previous.bike);
			int num171 = stream.Position - position143;
			if (num171 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bike (ProtoBuf.Bike)");
			}
			Span<byte> span143 = range143.GetSpan();
			ProtocolParser.WriteUInt32((uint)num171, span143, 0);
		}
		if (instance.diverPropulsionVehicle != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(10);
			BufferStream.RangeHandle range144 = stream.GetRange(1);
			int position144 = stream.Position;
			DiverPropulsionVehicle.SerializeDelta(stream, instance.diverPropulsionVehicle, previous.diverPropulsionVehicle);
			int num172 = stream.Position - position144;
			if (num172 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field diverPropulsionVehicle (ProtoBuf.DiverPropulsionVehicle)");
			}
			Span<byte> span144 = range144.GetSpan();
			ProtocolParser.WriteUInt32((uint)num172, span144, 0);
		}
		if (instance.travellingVendor != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(10);
			BufferStream.RangeHandle range145 = stream.GetRange(1);
			int position145 = stream.Position;
			TravellingVendor.SerializeDelta(stream, instance.travellingVendor, previous.travellingVendor);
			int num173 = stream.Position - position145;
			if (num173 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field travellingVendor (ProtoBuf.TravellingVendor)");
			}
			Span<byte> span145 = range145.GetSpan();
			ProtocolParser.WriteUInt32((uint)num173, span145, 0);
		}
		if (instance.vendingDynamicPricing != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(10);
			BufferStream.RangeHandle range146 = stream.GetRange(3);
			int position146 = stream.Position;
			VendingDynamicPricing.SerializeDelta(stream, instance.vendingDynamicPricing, previous.vendingDynamicPricing);
			int num174 = stream.Position - position146;
			if (num174 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingDynamicPricing (ProtoBuf.VendingDynamicPricing)");
			}
			Span<byte> span146 = range146.GetSpan();
			int num175 = ProtocolParser.WriteUInt32((uint)num174, span146, 0);
			if (num175 < 3)
			{
				span146[num175 - 1] |= 128;
				while (num175 < 2)
				{
					span146[num175++] = 128;
				}
				span146[2] = 0;
			}
		}
		if (instance.tinCanAlarm != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(11);
			BufferStream.RangeHandle range147 = stream.GetRange(1);
			int position147 = stream.Position;
			TinCanAlarm.SerializeDelta(stream, instance.tinCanAlarm, previous.tinCanAlarm);
			int num176 = stream.Position - position147;
			if (num176 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tinCanAlarm (ProtoBuf.TinCanAlarm)");
			}
			Span<byte> span147 = range147.GetSpan();
			ProtocolParser.WriteUInt32((uint)num176, span147, 0);
		}
		if (instance.digitalClock != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(11);
			BufferStream.RangeHandle range148 = stream.GetRange(3);
			int position148 = stream.Position;
			DigitalClock.SerializeDelta(stream, instance.digitalClock, previous.digitalClock);
			int num177 = stream.Position - position148;
			if (num177 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field digitalClock (ProtoBuf.DigitalClock)");
			}
			Span<byte> span148 = range148.GetSpan();
			int num178 = ProtocolParser.WriteUInt32((uint)num177, span148, 0);
			if (num178 < 3)
			{
				span148[num178 - 1] |= 128;
				while (num178 < 2)
				{
					span148[num178++] = 128;
				}
				span148[2] = 0;
			}
		}
		if (instance.elevatorLift != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(11);
			BufferStream.RangeHandle range149 = stream.GetRange(1);
			int position149 = stream.Position;
			ElevatorLift.SerializeDelta(stream, instance.elevatorLift, previous.elevatorLift);
			int num179 = stream.Position - position149;
			if (num179 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevatorLift (ProtoBuf.ElevatorLift)");
			}
			Span<byte> span149 = range149.GetSpan();
			ProtocolParser.WriteUInt32((uint)num179, span149, 0);
		}
		if (instance.npcVendingMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(11);
			BufferStream.RangeHandle range150 = stream.GetRange(1);
			int position150 = stream.Position;
			NPCVendingMachine.SerializeDelta(stream, instance.npcVendingMachine, previous.npcVendingMachine);
			int num180 = stream.Position - position150;
			if (num180 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcVendingMachine (ProtoBuf.NPCVendingMachine)");
			}
			Span<byte> span150 = range150.GetSpan();
			ProtocolParser.WriteUInt32((uint)num180, span150, 0);
		}
		if (instance.mailbox != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(11);
			BufferStream.RangeHandle range151 = stream.GetRange(5);
			int position151 = stream.Position;
			Mailbox.SerializeDelta(stream, instance.mailbox, previous.mailbox);
			int val37 = stream.Position - position151;
			Span<byte> span151 = range151.GetSpan();
			int num181 = ProtocolParser.WriteUInt32((uint)val37, span151, 0);
			if (num181 < 5)
			{
				span151[num181 - 1] |= 128;
				while (num181 < 4)
				{
					span151[num181++] = 128;
				}
				span151[4] = 0;
			}
		}
		if (instance.projectileWeaponMod != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(11);
			BufferStream.RangeHandle range152 = stream.GetRange(1);
			int position152 = stream.Position;
			GunWeaponMod.SerializeDelta(stream, instance.projectileWeaponMod, previous.projectileWeaponMod);
			int num182 = stream.Position - position152;
			if (num182 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field projectileWeaponMod (ProtoBuf.GunWeaponMod)");
			}
			Span<byte> span152 = range152.GetSpan();
			ProtocolParser.WriteUInt32((uint)num182, span152, 0);
		}
		if (instance.baseSculpture != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(11);
			BufferStream.RangeHandle range153 = stream.GetRange(1);
			int position153 = stream.Position;
			BaseSculpture.SerializeDelta(stream, instance.baseSculpture, previous.baseSculpture);
			int num183 = stream.Position - position153;
			if (num183 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseSculpture (ProtoBuf.BaseSculpture)");
			}
			Span<byte> span153 = range153.GetSpan();
			ProtocolParser.WriteUInt32((uint)num183, span153, 0);
		}
		if (instance.vendingMachineStats != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(11);
			BufferStream.RangeHandle range154 = stream.GetRange(3);
			int position154 = stream.Position;
			VendingMachineStats.SerializeDelta(stream, instance.vendingMachineStats, previous.vendingMachineStats);
			int num184 = stream.Position - position154;
			if (num184 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingMachineStats (ProtoBuf.VendingMachineStats)");
			}
			Span<byte> span154 = range154.GetSpan();
			int num185 = ProtocolParser.WriteUInt32((uint)num184, span154, 0);
			if (num185 < 3)
			{
				span154[num185 - 1] |= 128;
				while (num185 < 2)
				{
					span154[num185++] = 128;
				}
				span154[2] = 0;
			}
		}
		if (instance.catapult != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(11);
			BufferStream.RangeHandle range155 = stream.GetRange(1);
			int position155 = stream.Position;
			Catapult.SerializeDelta(stream, instance.catapult, previous.catapult);
			int num186 = stream.Position - position155;
			if (num186 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field catapult (ProtoBuf.Catapult)");
			}
			Span<byte> span155 = range155.GetSpan();
			ProtocolParser.WriteUInt32((uint)num186, span155, 0);
		}
		if (instance.siegeTower != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(11);
			BufferStream.RangeHandle range156 = stream.GetRange(1);
			int position156 = stream.Position;
			SiegeTower.SerializeDelta(stream, instance.siegeTower, previous.siegeTower);
			int num187 = stream.Position - position156;
			if (num187 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field siegeTower (ProtoBuf.SiegeTower)");
			}
			Span<byte> span156 = range156.GetSpan();
			ProtocolParser.WriteUInt32((uint)num187, span156, 0);
		}
		if (instance.ballista != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(11);
			BufferStream.RangeHandle range157 = stream.GetRange(1);
			int position157 = stream.Position;
			Ballista.SerializeDelta(stream, instance.ballista, previous.ballista);
			int num188 = stream.Position - position157;
			if (num188 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballista (ProtoBuf.Ballista)");
			}
			Span<byte> span157 = range157.GetSpan();
			ProtocolParser.WriteUInt32((uint)num188, span157, 0);
		}
		if (instance.ballistaGun != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(11);
			BufferStream.RangeHandle range158 = stream.GetRange(1);
			int position158 = stream.Position;
			BallistaGun.SerializeDelta(stream, instance.ballistaGun, previous.ballistaGun);
			int num189 = stream.Position - position158;
			if (num189 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballistaGun (ProtoBuf.BallistaGun)");
			}
			Span<byte> span158 = range158.GetSpan();
			ProtocolParser.WriteUInt32((uint)num189, span158, 0);
		}
		if (instance.batteringRam != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(11);
			BufferStream.RangeHandle range159 = stream.GetRange(1);
			int position159 = stream.Position;
			BatteringRam.SerializeDelta(stream, instance.batteringRam, previous.batteringRam);
			int num190 = stream.Position - position159;
			if (num190 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field batteringRam (ProtoBuf.BatteringRam)");
			}
			Span<byte> span159 = range159.GetSpan();
			ProtocolParser.WriteUInt32((uint)num190, span159, 0);
		}
		if (instance.temporaryRagdoll != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(11);
			BufferStream.RangeHandle range160 = stream.GetRange(1);
			int position160 = stream.Position;
			TemporaryRagdoll.SerializeDelta(stream, instance.temporaryRagdoll, previous.temporaryRagdoll);
			int num191 = stream.Position - position160;
			if (num191 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field temporaryRagdoll (ProtoBuf.TemporaryRagdoll)");
			}
			Span<byte> span160 = range160.GetSpan();
			ProtocolParser.WriteUInt32((uint)num191, span160, 0);
		}
		if (instance.constructableEntity != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(11);
			BufferStream.RangeHandle range161 = stream.GetRange(3);
			int position161 = stream.Position;
			ConstructableEntity.SerializeDelta(stream, instance.constructableEntity, previous.constructableEntity);
			int num192 = stream.Position - position161;
			if (num192 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field constructableEntity (ProtoBuf.ConstructableEntity)");
			}
			Span<byte> span161 = range161.GetSpan();
			int num193 = ProtocolParser.WriteUInt32((uint)num192, span161, 0);
			if (num193 < 3)
			{
				span161[num193 - 1] |= 128;
				while (num193 < 2)
				{
					span161[num193++] = 128;
				}
				span161[2] = 0;
			}
		}
		if (instance.chickenCoop != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(12);
			BufferStream.RangeHandle range162 = stream.GetRange(3);
			int position162 = stream.Position;
			ChickenCoop.SerializeDelta(stream, instance.chickenCoop, previous.chickenCoop);
			int num194 = stream.Position - position162;
			if (num194 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field chickenCoop (ProtoBuf.ChickenCoop)");
			}
			Span<byte> span162 = range162.GetSpan();
			int num195 = ProtocolParser.WriteUInt32((uint)num194, span162, 0);
			if (num195 < 3)
			{
				span162[num195 - 1] |= 128;
				while (num195 < 2)
				{
					span162[num195++] = 128;
				}
				span162[2] = 0;
			}
		}
		if (instance.farmableAnimal != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(12);
			BufferStream.RangeHandle range163 = stream.GetRange(5);
			int position163 = stream.Position;
			FarmableAnimal.SerializeDelta(stream, instance.farmableAnimal, previous.farmableAnimal);
			int val38 = stream.Position - position163;
			Span<byte> span163 = range163.GetSpan();
			int num196 = ProtocolParser.WriteUInt32((uint)val38, span163, 0);
			if (num196 < 5)
			{
				span163[num196 - 1] |= 128;
				while (num196 < 4)
				{
					span163[num196++] = 128;
				}
				span163[4] = 0;
			}
		}
		if (instance.ownership != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(12);
			BufferStream.RangeHandle range164 = stream.GetRange(5);
			int position164 = stream.Position;
			ItemOwnershipAmount.SerializeDelta(stream, instance.ownership, previous.ownership);
			int val39 = stream.Position - position164;
			Span<byte> span164 = range164.GetSpan();
			int num197 = ProtocolParser.WriteUInt32((uint)val39, span164, 0);
			if (num197 < 5)
			{
				span164[num197 - 1] |= 128;
				while (num197 < 4)
				{
					span164[num197++] = 128;
				}
				span164[4] = 0;
			}
		}
		if (instance.beehive != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(12);
			BufferStream.RangeHandle range165 = stream.GetRange(1);
			int position165 = stream.Position;
			Beehive.SerializeDelta(stream, instance.beehive, previous.beehive);
			int num198 = stream.Position - position165;
			if (num198 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beehive (ProtoBuf.Beehive)");
			}
			Span<byte> span165 = range165.GetSpan();
			ProtocolParser.WriteUInt32((uint)num198, span165, 0);
		}
		if (instance.beeMasterSwarm != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(12);
			BufferStream.RangeHandle range166 = stream.GetRange(1);
			int position166 = stream.Position;
			BeeMasterSwarm.SerializeDelta(stream, instance.beeMasterSwarm, previous.beeMasterSwarm);
			int num199 = stream.Position - position166;
			if (num199 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beeMasterSwarm (ProtoBuf.BeeMasterSwarm)");
			}
			Span<byte> span166 = range166.GetSpan();
			ProtocolParser.WriteUInt32((uint)num199, span166, 0);
		}
		if (instance.containerCorpse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(12);
			BufferStream.RangeHandle range167 = stream.GetRange(5);
			int position167 = stream.Position;
			ContainerCorpseData.SerializeDelta(stream, instance.containerCorpse, previous.containerCorpse);
			int val40 = stream.Position - position167;
			Span<byte> span167 = range167.GetSpan();
			int num200 = ProtocolParser.WriteUInt32((uint)val40, span167, 0);
			if (num200 < 5)
			{
				span167[num200 - 1] |= 128;
				while (num200 < 4)
				{
					span167[num200++] = 128;
				}
				span167[4] = 0;
			}
		}
		if (instance.npcSensesState != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(12);
			BufferStream.RangeHandle range168 = stream.GetRange(1);
			int position168 = stream.Position;
			NPCSensesState.SerializeDelta(stream, instance.npcSensesState, previous.npcSensesState);
			int num201 = stream.Position - position168;
			if (num201 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcSensesState (ProtoBuf.NPCSensesState)");
			}
			Span<byte> span168 = range168.GetSpan();
			ProtocolParser.WriteUInt32((uint)num201, span168, 0);
		}
		if (instance.vineMountable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(12);
			BufferStream.RangeHandle range169 = stream.GetRange(3);
			int position169 = stream.Position;
			VineMountable.SerializeDelta(stream, instance.vineMountable, previous.vineMountable);
			int num202 = stream.Position - position169;
			if (num202 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineMountable (ProtoBuf.VineMountable)");
			}
			Span<byte> span169 = range169.GetSpan();
			int num203 = ProtocolParser.WriteUInt32((uint)num202, span169, 0);
			if (num203 < 3)
			{
				span169[num203 - 1] |= 128;
				while (num203 < 2)
				{
					span169[num203++] = 128;
				}
				span169[2] = 0;
			}
		}
		if (instance.vineTree != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(12);
			BufferStream.RangeHandle range170 = stream.GetRange(3);
			int position170 = stream.Position;
			VineTree.SerializeDelta(stream, instance.vineTree, previous.vineTree);
			int num204 = stream.Position - position170;
			if (num204 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineTree (ProtoBuf.VineTree)");
			}
			Span<byte> span170 = range170.GetSpan();
			int num205 = ProtocolParser.WriteUInt32((uint)num204, span170, 0);
			if (num205 < 3)
			{
				span170[num205 - 1] |= 128;
				while (num205 < 2)
				{
					span170[num205++] = 128;
				}
				span170[2] = 0;
			}
		}
		if (instance.treeRespawn != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(12);
			BufferStream.RangeHandle range171 = stream.GetRange(1);
			int position171 = stream.Position;
			TreeRespawn.SerializeDelta(stream, instance.treeRespawn, previous.treeRespawn);
			int num206 = stream.Position - position171;
			if (num206 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field treeRespawn (ProtoBuf.TreeRespawn)");
			}
			Span<byte> span171 = range171.GetSpan();
			ProtocolParser.WriteUInt32((uint)num206, span171, 0);
		}
		if (instance.wallpaperTool != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(12);
			BufferStream.RangeHandle range172 = stream.GetRange(1);
			int position172 = stream.Position;
			WallpaperTool.SerializeDelta(stream, instance.wallpaperTool, previous.wallpaperTool);
			int num207 = stream.Position - position172;
			if (num207 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field wallpaperTool (ProtoBuf.WallpaperTool)");
			}
			Span<byte> span172 = range172.GetSpan();
			ProtocolParser.WriteUInt32((uint)num207, span172, 0);
		}
		if (instance.commandBlock != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(12);
			BufferStream.RangeHandle range173 = stream.GetRange(5);
			int position173 = stream.Position;
			CommandBlock.SerializeDelta(stream, instance.commandBlock, previous.commandBlock);
			int val41 = stream.Position - position173;
			Span<byte> span173 = range173.GetSpan();
			int num208 = ProtocolParser.WriteUInt32((uint)val41, span173, 0);
			if (num208 < 5)
			{
				span173[num208 - 1] |= 128;
				while (num208 < 4)
				{
					span173[num208++] = 128;
				}
				span173[4] = 0;
			}
		}
		if (instance.staticRespawn != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(12);
			BufferStream.RangeHandle range174 = stream.GetRange(3);
			int position174 = stream.Position;
			StaticRespawnAreaData.SerializeDelta(stream, instance.staticRespawn, previous.staticRespawn);
			int num209 = stream.Position - position174;
			if (num209 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field staticRespawn (ProtoBuf.StaticRespawnAreaData)");
			}
			Span<byte> span174 = range174.GetSpan();
			int num210 = ProtocolParser.WriteUInt32((uint)num209, span174, 0);
			if (num210 < 3)
			{
				span174[num210 - 1] |= 128;
				while (num210 < 2)
				{
					span174[num210++] = 128;
				}
				span174[2] = 0;
			}
		}
		if (instance.buriedItemStorage != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(12);
			BufferStream.RangeHandle range175 = stream.GetRange(5);
			int position175 = stream.Position;
			BuriedItems.SerializeDelta(stream, instance.buriedItemStorage, previous.buriedItemStorage);
			int val42 = stream.Position - position175;
			Span<byte> span175 = range175.GetSpan();
			int num211 = ProtocolParser.WriteUInt32((uint)val42, span175, 0);
			if (num211 < 5)
			{
				span175[num211 - 1] |= 128;
				while (num211 < 4)
				{
					span175[num211++] = 128;
				}
				span175[4] = 0;
			}
		}
		if (instance.mannequin == null)
		{
			return;
		}
		stream.WriteByte(242);
		stream.WriteByte(12);
		BufferStream.RangeHandle range176 = stream.GetRange(3);
		int position176 = stream.Position;
		Mannequin.SerializeDelta(stream, instance.mannequin, previous.mannequin);
		int num212 = stream.Position - position176;
		if (num212 > 2097151)
		{
			throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mannequin (ProtoBuf.Mannequin)");
		}
		Span<byte> span176 = range176.GetSpan();
		int num213 = ProtocolParser.WriteUInt32((uint)num212, span176, 0);
		if (num213 < 3)
		{
			span176[num213 - 1] |= 128;
			while (num213 < 2)
			{
				span176[num213++] = 128;
			}
			span176[2] = 0;
		}
	}

	public static void Serialize(BufferStream stream, Entity instance)
	{
		if (instance.baseNetworkable != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			BaseNetworkable.Serialize(stream, instance.baseNetworkable);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNetworkable (ProtoBuf.BaseNetworkable)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.baseEntity != null)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(5);
			int position2 = stream.Position;
			BaseEntity.Serialize(stream, instance.baseEntity);
			int val = stream.Position - position2;
			Span<byte> span2 = range2.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)val, span2, 0);
			if (num2 < 5)
			{
				span2[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span2[num2++] = 128;
				}
				span2[4] = 0;
			}
		}
		if (instance.basePlayer != null)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			BasePlayer.Serialize(stream, instance.basePlayer);
			int val2 = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val2, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
		if (instance.worldItem != null)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(5);
			int position4 = stream.Position;
			WorldItem.Serialize(stream, instance.worldItem);
			int val3 = stream.Position - position4;
			Span<byte> span4 = range4.GetSpan();
			int num4 = ProtocolParser.WriteUInt32((uint)val3, span4, 0);
			if (num4 < 5)
			{
				span4[num4 - 1] |= 128;
				while (num4 < 4)
				{
					span4[num4++] = 128;
				}
				span4[4] = 0;
			}
		}
		if (instance.resource != null)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range5 = stream.GetRange(1);
			int position5 = stream.Position;
			BaseResource.Serialize(stream, instance.resource);
			int num5 = stream.Position - position5;
			if (num5 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field resource (ProtoBuf.BaseResource)");
			}
			Span<byte> span5 = range5.GetSpan();
			ProtocolParser.WriteUInt32((uint)num5, span5, 0);
		}
		if (instance.buildingBlock != null)
		{
			stream.WriteByte(50);
			BufferStream.RangeHandle range6 = stream.GetRange(1);
			int position6 = stream.Position;
			BuildingBlock.Serialize(stream, instance.buildingBlock);
			int num6 = stream.Position - position6;
			if (num6 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingBlock (ProtoBuf.BuildingBlock)");
			}
			Span<byte> span6 = range6.GetSpan();
			ProtocolParser.WriteUInt32((uint)num6, span6, 0);
		}
		if (instance.environment != null)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range7 = stream.GetRange(1);
			int position7 = stream.Position;
			ProtoBuf.Environment.Serialize(stream, instance.environment);
			int num7 = stream.Position - position7;
			if (num7 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field environment (ProtoBuf.Environment)");
			}
			Span<byte> span7 = range7.GetSpan();
			ProtocolParser.WriteUInt32((uint)num7, span7, 0);
		}
		if (instance.corpse != null)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range8 = stream.GetRange(1);
			int position8 = stream.Position;
			Corpse.Serialize(stream, instance.corpse);
			int num8 = stream.Position - position8;
			if (num8 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field corpse (ProtoBuf.Corpse)");
			}
			Span<byte> span8 = range8.GetSpan();
			ProtocolParser.WriteUInt32((uint)num8, span8, 0);
		}
		if (instance.parent != null)
		{
			stream.WriteByte(82);
			BufferStream.RangeHandle range9 = stream.GetRange(1);
			int position9 = stream.Position;
			ParentInfo.Serialize(stream, instance.parent);
			int num9 = stream.Position - position9;
			if (num9 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field parent (ProtoBuf.ParentInfo)");
			}
			Span<byte> span9 = range9.GetSpan();
			ProtocolParser.WriteUInt32((uint)num9, span9, 0);
		}
		if (instance.keyLock != null)
		{
			stream.WriteByte(90);
			BufferStream.RangeHandle range10 = stream.GetRange(1);
			int position10 = stream.Position;
			KeyLock.Serialize(stream, instance.keyLock);
			int num10 = stream.Position - position10;
			if (num10 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field keyLock (ProtoBuf.KeyLock)");
			}
			Span<byte> span10 = range10.GetSpan();
			ProtocolParser.WriteUInt32((uint)num10, span10, 0);
		}
		if (instance.codeLock != null)
		{
			stream.WriteByte(98);
			BufferStream.RangeHandle range11 = stream.GetRange(5);
			int position11 = stream.Position;
			CodeLock.Serialize(stream, instance.codeLock);
			int val4 = stream.Position - position11;
			Span<byte> span11 = range11.GetSpan();
			int num11 = ProtocolParser.WriteUInt32((uint)val4, span11, 0);
			if (num11 < 5)
			{
				span11[num11 - 1] |= 128;
				while (num11 < 4)
				{
					span11[num11++] = 128;
				}
				span11[4] = 0;
			}
		}
		if (instance.entitySlots != null)
		{
			stream.WriteByte(106);
			BufferStream.RangeHandle range12 = stream.GetRange(1);
			int position12 = stream.Position;
			EntitySlots.Serialize(stream, instance.entitySlots);
			int num12 = stream.Position - position12;
			if (num12 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field entitySlots (ProtoBuf.EntitySlots)");
			}
			Span<byte> span12 = range12.GetSpan();
			ProtocolParser.WriteUInt32((uint)num12, span12, 0);
		}
		if (instance.buildingPrivilege != null)
		{
			stream.WriteByte(114);
			BufferStream.RangeHandle range13 = stream.GetRange(5);
			int position13 = stream.Position;
			BuildingPrivilege.Serialize(stream, instance.buildingPrivilege);
			int val5 = stream.Position - position13;
			Span<byte> span13 = range13.GetSpan();
			int num13 = ProtocolParser.WriteUInt32((uint)val5, span13, 0);
			if (num13 < 5)
			{
				span13[num13 - 1] |= 128;
				while (num13 < 4)
				{
					span13[num13++] = 128;
				}
				span13[4] = 0;
			}
		}
		if (instance.storageBox != null)
		{
			stream.WriteByte(122);
			BufferStream.RangeHandle range14 = stream.GetRange(5);
			int position14 = stream.Position;
			StorageBox.Serialize(stream, instance.storageBox);
			int val6 = stream.Position - position14;
			Span<byte> span14 = range14.GetSpan();
			int num14 = ProtocolParser.WriteUInt32((uint)val6, span14, 0);
			if (num14 < 5)
			{
				span14[num14 - 1] |= 128;
				while (num14 < 4)
				{
					span14[num14++] = 128;
				}
				span14[4] = 0;
			}
		}
		if (instance.heldEntity != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(1);
			BufferStream.RangeHandle range15 = stream.GetRange(1);
			int position15 = stream.Position;
			HeldEntity.Serialize(stream, instance.heldEntity);
			int num15 = stream.Position - position15;
			if (num15 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field heldEntity (ProtoBuf.HeldEntity)");
			}
			Span<byte> span15 = range15.GetSpan();
			ProtocolParser.WriteUInt32((uint)num15, span15, 0);
		}
		if (instance.baseProjectile != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(1);
			BufferStream.RangeHandle range16 = stream.GetRange(1);
			int position16 = stream.Position;
			BaseProjectile.Serialize(stream, instance.baseProjectile);
			int num16 = stream.Position - position16;
			if (num16 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseProjectile (ProtoBuf.BaseProjectile)");
			}
			Span<byte> span16 = range16.GetSpan();
			ProtocolParser.WriteUInt32((uint)num16, span16, 0);
		}
		if (instance.baseNPC != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(1);
			BufferStream.RangeHandle range17 = stream.GetRange(1);
			int position17 = stream.Position;
			BaseNPC.Serialize(stream, instance.baseNPC);
			int num17 = stream.Position - position17;
			if (num17 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseNPC (ProtoBuf.BaseNPC)");
			}
			Span<byte> span17 = range17.GetSpan();
			ProtocolParser.WriteUInt32((uint)num17, span17, 0);
		}
		if (instance.loot != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(1);
			BufferStream.RangeHandle range18 = stream.GetRange(5);
			int position18 = stream.Position;
			Loot.Serialize(stream, instance.loot);
			int val7 = stream.Position - position18;
			Span<byte> span18 = range18.GetSpan();
			int num18 = ProtocolParser.WriteUInt32((uint)val7, span18, 0);
			if (num18 < 5)
			{
				span18[num18 - 1] |= 128;
				while (num18 < 4)
				{
					span18[num18++] = 128;
				}
				span18[4] = 0;
			}
		}
		if (instance.genericSpawner != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(1);
			BufferStream.RangeHandle range19 = stream.GetRange(3);
			int position19 = stream.Position;
			GenericSpawner.Serialize(stream, instance.genericSpawner);
			int num19 = stream.Position - position19;
			if (num19 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field genericSpawner (ProtoBuf.GenericSpawner)");
			}
			Span<byte> span19 = range19.GetSpan();
			int num20 = ProtocolParser.WriteUInt32((uint)num19, span19, 0);
			if (num20 < 3)
			{
				span19[num20 - 1] |= 128;
				while (num20 < 2)
				{
					span19[num20++] = 128;
				}
				span19[2] = 0;
			}
		}
		if (instance.sleepingBag != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(1);
			BufferStream.RangeHandle range20 = stream.GetRange(5);
			int position20 = stream.Position;
			SleepingBag.Serialize(stream, instance.sleepingBag);
			int val8 = stream.Position - position20;
			Span<byte> span20 = range20.GetSpan();
			int num21 = ProtocolParser.WriteUInt32((uint)val8, span20, 0);
			if (num21 < 5)
			{
				span20[num21 - 1] |= 128;
				while (num21 < 4)
				{
					span20[num21++] = 128;
				}
				span20[4] = 0;
			}
		}
		if (instance.lootableCorpse != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(1);
			BufferStream.RangeHandle range21 = stream.GetRange(5);
			int position21 = stream.Position;
			LootableCorpse.Serialize(stream, instance.lootableCorpse);
			int val9 = stream.Position - position21;
			Span<byte> span21 = range21.GetSpan();
			int num22 = ProtocolParser.WriteUInt32((uint)val9, span21, 0);
			if (num22 < 5)
			{
				span21[num22 - 1] |= 128;
				while (num22 < 4)
				{
					span21[num22++] = 128;
				}
				span21[4] = 0;
			}
		}
		if (instance.sign != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(1);
			BufferStream.RangeHandle range22 = stream.GetRange(3);
			int position22 = stream.Position;
			Sign.Serialize(stream, instance.sign);
			int num23 = stream.Position - position22;
			if (num23 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sign (ProtoBuf.Sign)");
			}
			Span<byte> span22 = range22.GetSpan();
			int num24 = ProtocolParser.WriteUInt32((uint)num23, span22, 0);
			if (num24 < 3)
			{
				span22[num24 - 1] |= 128;
				while (num24 < 2)
				{
					span22[num24++] = 128;
				}
				span22[2] = 0;
			}
		}
		if (instance.baseCombat != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(1);
			BufferStream.RangeHandle range23 = stream.GetRange(1);
			int position23 = stream.Position;
			BaseCombat.Serialize(stream, instance.baseCombat);
			int num25 = stream.Position - position23;
			if (num25 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseCombat (ProtoBuf.BaseCombat)");
			}
			Span<byte> span23 = range23.GetSpan();
			ProtocolParser.WriteUInt32((uint)num25, span23, 0);
		}
		if (instance.mapEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(1);
			BufferStream.RangeHandle range24 = stream.GetRange(3);
			int position24 = stream.Position;
			MapEntity.Serialize(stream, instance.mapEntity);
			int num26 = stream.Position - position24;
			if (num26 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mapEntity (ProtoBuf.MapEntity)");
			}
			Span<byte> span24 = range24.GetSpan();
			int num27 = ProtocolParser.WriteUInt32((uint)num26, span24, 0);
			if (num27 < 3)
			{
				span24[num27 - 1] |= 128;
				while (num27 < 2)
				{
					span24[num27++] = 128;
				}
				span24[2] = 0;
			}
		}
		if (instance.researchTable != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(1);
			BufferStream.RangeHandle range25 = stream.GetRange(1);
			int position25 = stream.Position;
			ResearchTable.Serialize(stream, instance.researchTable);
			int num28 = stream.Position - position25;
			if (num28 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field researchTable (ProtoBuf.ResearchTable)");
			}
			Span<byte> span25 = range25.GetSpan();
			ProtocolParser.WriteUInt32((uint)num28, span25, 0);
		}
		if (instance.dudExplosive != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(1);
			BufferStream.RangeHandle range26 = stream.GetRange(1);
			int position26 = stream.Position;
			DudExplosive.Serialize(stream, instance.dudExplosive);
			int num29 = stream.Position - position26;
			if (num29 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dudExplosive (ProtoBuf.DudExplosive)");
			}
			Span<byte> span26 = range26.GetSpan();
			ProtocolParser.WriteUInt32((uint)num29, span26, 0);
		}
		if (instance.miningQuarry != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(1);
			BufferStream.RangeHandle range27 = stream.GetRange(5);
			int position27 = stream.Position;
			MiningQuarry.Serialize(stream, instance.miningQuarry);
			int val10 = stream.Position - position27;
			Span<byte> span27 = range27.GetSpan();
			int num30 = ProtocolParser.WriteUInt32((uint)val10, span27, 0);
			if (num30 < 5)
			{
				span27[num30 - 1] |= 128;
				while (num30 < 4)
				{
					span27[num30++] = 128;
				}
				span27[4] = 0;
			}
		}
		if (instance.baseVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(1);
			BufferStream.RangeHandle range28 = stream.GetRange(3);
			int position28 = stream.Position;
			BaseVehicle.Serialize(stream, instance.baseVehicle);
			int num31 = stream.Position - position28;
			if (num31 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseVehicle (ProtoBuf.BaseVehicle)");
			}
			Span<byte> span28 = range28.GetSpan();
			int num32 = ProtocolParser.WriteUInt32((uint)num31, span28, 0);
			if (num32 < 3)
			{
				span28[num32 - 1] |= 128;
				while (num32 < 2)
				{
					span28[num32++] = 128;
				}
				span28[2] = 0;
			}
		}
		if (instance.helicopter != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(1);
			BufferStream.RangeHandle range29 = stream.GetRange(3);
			int position29 = stream.Position;
			Helicopter.Serialize(stream, instance.helicopter);
			int num33 = stream.Position - position29;
			if (num33 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field helicopter (ProtoBuf.Helicopter)");
			}
			Span<byte> span29 = range29.GetSpan();
			int num34 = ProtocolParser.WriteUInt32((uint)num33, span29, 0);
			if (num34 < 3)
			{
				span29[num34 - 1] |= 128;
				while (num34 < 2)
				{
					span29[num34++] = 128;
				}
				span29[2] = 0;
			}
		}
		if (instance.landmine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(1);
			BufferStream.RangeHandle range30 = stream.GetRange(1);
			int position30 = stream.Position;
			Landmine.Serialize(stream, instance.landmine);
			int num35 = stream.Position - position30;
			if (num35 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field landmine (ProtoBuf.Landmine)");
			}
			Span<byte> span30 = range30.GetSpan();
			ProtocolParser.WriteUInt32((uint)num35, span30, 0);
		}
		if (instance.autoturret != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(2);
			BufferStream.RangeHandle range31 = stream.GetRange(5);
			int position31 = stream.Position;
			AutoTurret.Serialize(stream, instance.autoturret);
			int val11 = stream.Position - position31;
			Span<byte> span31 = range31.GetSpan();
			int num36 = ProtocolParser.WriteUInt32((uint)val11, span31, 0);
			if (num36 < 5)
			{
				span31[num36 - 1] |= 128;
				while (num36 < 4)
				{
					span31[num36++] = 128;
				}
				span31[4] = 0;
			}
		}
		if (instance.sphereEntity != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(2);
			BufferStream.RangeHandle range32 = stream.GetRange(1);
			int position32 = stream.Position;
			SphereEntity.Serialize(stream, instance.sphereEntity);
			int num37 = stream.Position - position32;
			if (num37 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sphereEntity (ProtoBuf.SphereEntity)");
			}
			Span<byte> span32 = range32.GetSpan();
			ProtocolParser.WriteUInt32((uint)num37, span32, 0);
		}
		if (instance.stabilityEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(2);
			BufferStream.RangeHandle range33 = stream.GetRange(1);
			int position33 = stream.Position;
			StabilityEntity.Serialize(stream, instance.stabilityEntity);
			int num38 = stream.Position - position33;
			if (num38 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field stabilityEntity (ProtoBuf.StabilityEntity)");
			}
			Span<byte> span33 = range33.GetSpan();
			ProtocolParser.WriteUInt32((uint)num38, span33, 0);
		}
		if (instance.ownerInfo != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(2);
			BufferStream.RangeHandle range34 = stream.GetRange(1);
			int position34 = stream.Position;
			OwnerInfo.Serialize(stream, instance.ownerInfo);
			int num39 = stream.Position - position34;
			if (num39 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ownerInfo (ProtoBuf.OwnerInfo)");
			}
			Span<byte> span34 = range34.GetSpan();
			ProtocolParser.WriteUInt32((uint)num39, span34, 0);
		}
		if (instance.decayEntity != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(2);
			BufferStream.RangeHandle range35 = stream.GetRange(1);
			int position35 = stream.Position;
			DecayEntity.Serialize(stream, instance.decayEntity);
			int num40 = stream.Position - position35;
			if (num40 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field decayEntity (ProtoBuf.DecayEntity)");
			}
			Span<byte> span35 = range35.GetSpan();
			ProtocolParser.WriteUInt32((uint)num40, span35, 0);
		}
		if (instance.spawnable != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(2);
			BufferStream.RangeHandle range36 = stream.GetRange(1);
			int position36 = stream.Position;
			Spawnable.Serialize(stream, instance.spawnable);
			int num41 = stream.Position - position36;
			if (num41 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spawnable (ProtoBuf.Spawnable)");
			}
			Span<byte> span36 = range36.GetSpan();
			ProtocolParser.WriteUInt32((uint)num41, span36, 0);
		}
		if (instance.servergib != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(2);
			BufferStream.RangeHandle range37 = stream.GetRange(5);
			int position37 = stream.Position;
			ServerGib.Serialize(stream, instance.servergib);
			int val12 = stream.Position - position37;
			Span<byte> span37 = range37.GetSpan();
			int num42 = ProtocolParser.WriteUInt32((uint)val12, span37, 0);
			if (num42 < 5)
			{
				span37[num42 - 1] |= 128;
				while (num42 < 4)
				{
					span37[num42++] = 128;
				}
				span37[4] = 0;
			}
		}
		if (instance.vendingMachine != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(2);
			BufferStream.RangeHandle range38 = stream.GetRange(5);
			int position38 = stream.Position;
			VendingMachine.Serialize(stream, instance.vendingMachine);
			int val13 = stream.Position - position38;
			Span<byte> span38 = range38.GetSpan();
			int num43 = ProtocolParser.WriteUInt32((uint)val13, span38, 0);
			if (num43 < 5)
			{
				span38[num43 - 1] |= 128;
				while (num43 < 4)
				{
					span38[num43++] = 128;
				}
				span38[4] = 0;
			}
		}
		if (instance.spinnerWheel != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(2);
			BufferStream.RangeHandle range39 = stream.GetRange(1);
			int position39 = stream.Position;
			SpinnerWheel.Serialize(stream, instance.spinnerWheel);
			int num44 = stream.Position - position39;
			if (num44 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spinnerWheel (ProtoBuf.SpinnerWheel)");
			}
			Span<byte> span39 = range39.GetSpan();
			ProtocolParser.WriteUInt32((uint)num44, span39, 0);
		}
		if (instance.lift != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(2);
			BufferStream.RangeHandle range40 = stream.GetRange(1);
			int position40 = stream.Position;
			Lift.Serialize(stream, instance.lift);
			int num45 = stream.Position - position40;
			if (num45 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lift (ProtoBuf.Lift)");
			}
			Span<byte> span40 = range40.GetSpan();
			ProtocolParser.WriteUInt32((uint)num45, span40, 0);
		}
		if (instance.bradley != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(2);
			BufferStream.RangeHandle range41 = stream.GetRange(2);
			int position41 = stream.Position;
			BradleyAPC.Serialize(stream, instance.bradley);
			int num46 = stream.Position - position41;
			if (num46 > 16383)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bradley (ProtoBuf.BradleyAPC)");
			}
			Span<byte> span41 = range41.GetSpan();
			if (ProtocolParser.WriteUInt32((uint)num46, span41, 0) < 2)
			{
				span41[0] |= 128;
				span41[1] = 0;
			}
		}
		if (instance.waterwell != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(2);
			BufferStream.RangeHandle range42 = stream.GetRange(1);
			int position42 = stream.Position;
			WaterWell.Serialize(stream, instance.waterwell);
			int num47 = stream.Position - position42;
			if (num47 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waterwell (ProtoBuf.WaterWell)");
			}
			Span<byte> span42 = range42.GetSpan();
			ProtocolParser.WriteUInt32((uint)num47, span42, 0);
		}
		if (instance.motorBoat != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(2);
			BufferStream.RangeHandle range43 = stream.GetRange(1);
			int position43 = stream.Position;
			Motorboat.Serialize(stream, instance.motorBoat);
			int num48 = stream.Position - position43;
			if (num48 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field motorBoat (ProtoBuf.Motorboat)");
			}
			Span<byte> span43 = range43.GetSpan();
			ProtocolParser.WriteUInt32((uint)num48, span43, 0);
		}
		if (instance.ioEntity != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(2);
			BufferStream.RangeHandle range44 = stream.GetRange(5);
			int position44 = stream.Position;
			IOEntity.Serialize(stream, instance.ioEntity);
			int val14 = stream.Position - position44;
			Span<byte> span44 = range44.GetSpan();
			int num49 = ProtocolParser.WriteUInt32((uint)val14, span44, 0);
			if (num49 < 5)
			{
				span44[num49 - 1] |= 128;
				while (num49 < 4)
				{
					span44[num49++] = 128;
				}
				span44[4] = 0;
			}
		}
		if (instance.puzzleReset != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(2);
			BufferStream.RangeHandle range45 = stream.GetRange(1);
			int position45 = stream.Position;
			PuzzleReset.Serialize(stream, instance.puzzleReset);
			int num50 = stream.Position - position45;
			if (num50 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field puzzleReset (ProtoBuf.PuzzleReset)");
			}
			Span<byte> span45 = range45.GetSpan();
			ProtocolParser.WriteUInt32((uint)num50, span45, 0);
		}
		if (instance.relationshipManager != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(2);
			BufferStream.RangeHandle range46 = stream.GetRange(5);
			int position46 = stream.Position;
			RelationshipManager.Serialize(stream, instance.relationshipManager);
			int val15 = stream.Position - position46;
			Span<byte> span46 = range46.GetSpan();
			int num51 = ProtocolParser.WriteUInt32((uint)val15, span46, 0);
			if (num51 < 5)
			{
				span46[num51 - 1] |= 128;
				while (num51 < 4)
				{
					span46[num51++] = 128;
				}
				span46[4] = 0;
			}
		}
		if (instance.hotAirBalloon != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(3);
			BufferStream.RangeHandle range47 = stream.GetRange(1);
			int position47 = stream.Position;
			HotAirBalloon.Serialize(stream, instance.hotAirBalloon);
			int num52 = stream.Position - position47;
			if (num52 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field hotAirBalloon (ProtoBuf.HotAirBalloon)");
			}
			Span<byte> span47 = range47.GetSpan();
			ProtocolParser.WriteUInt32((uint)num52, span47, 0);
		}
		if (instance.samSite != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(3);
			BufferStream.RangeHandle range48 = stream.GetRange(1);
			int position48 = stream.Position;
			SAMSite.Serialize(stream, instance.samSite);
			int num53 = stream.Position - position48;
			if (num53 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field samSite (ProtoBuf.SAMSite)");
			}
			Span<byte> span48 = range48.GetSpan();
			ProtocolParser.WriteUInt32((uint)num53, span48, 0);
		}
		if (instance.eggHunt != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(3);
			BufferStream.RangeHandle range49 = stream.GetRange(5);
			int position49 = stream.Position;
			EggHunt.Serialize(stream, instance.eggHunt);
			int val16 = stream.Position - position49;
			Span<byte> span49 = range49.GetSpan();
			int num54 = ProtocolParser.WriteUInt32((uint)val16, span49, 0);
			if (num54 < 5)
			{
				span49[num54 - 1] |= 128;
				while (num54 < 4)
				{
					span49[num54++] = 128;
				}
				span49[4] = 0;
			}
		}
		if (instance.arcadeMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(3);
			BufferStream.RangeHandle range50 = stream.GetRange(5);
			int position50 = stream.Position;
			ArcadeMachine.Serialize(stream, instance.arcadeMachine);
			int val17 = stream.Position - position50;
			Span<byte> span50 = range50.GetSpan();
			int num55 = ProtocolParser.WriteUInt32((uint)val17, span50, 0);
			if (num55 < 5)
			{
				span50[num55 - 1] |= 128;
				while (num55 < 4)
				{
					span50[num55++] = 128;
				}
				span50[4] = 0;
			}
		}
		if (instance.miniCopter != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(3);
			BufferStream.RangeHandle range51 = stream.GetRange(1);
			int position51 = stream.Position;
			Minicopter.Serialize(stream, instance.miniCopter);
			int num56 = stream.Position - position51;
			if (num56 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field miniCopter (ProtoBuf.Minicopter)");
			}
			Span<byte> span51 = range51.GetSpan();
			ProtocolParser.WriteUInt32((uint)num56, span51, 0);
		}
		if (instance.horse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(3);
			BufferStream.RangeHandle range52 = stream.GetRange(5);
			int position52 = stream.Position;
			Horse.Serialize(stream, instance.horse);
			int val18 = stream.Position - position52;
			Span<byte> span52 = range52.GetSpan();
			int num57 = ProtocolParser.WriteUInt32((uint)val18, span52, 0);
			if (num57 < 5)
			{
				span52[num57 - 1] |= 128;
				while (num57 < 4)
				{
					span52[num57++] = 128;
				}
				span52[4] = 0;
			}
		}
		if (instance.smartAlarm != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(3);
			BufferStream.RangeHandle range53 = stream.GetRange(5);
			int position53 = stream.Position;
			SmartAlarm.Serialize(stream, instance.smartAlarm);
			int val19 = stream.Position - position53;
			Span<byte> span53 = range53.GetSpan();
			int num58 = ProtocolParser.WriteUInt32((uint)val19, span53, 0);
			if (num58 < 5)
			{
				span53[num58 - 1] |= 128;
				while (num58 < 4)
				{
					span53[num58++] = 128;
				}
				span53[4] = 0;
			}
		}
		if (instance.lightString != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(3);
			BufferStream.RangeHandle range54 = stream.GetRange(3);
			int position54 = stream.Position;
			LightString.Serialize(stream, instance.lightString);
			int num59 = stream.Position - position54;
			if (num59 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightString (ProtoBuf.LightString)");
			}
			Span<byte> span54 = range54.GetSpan();
			int num60 = ProtocolParser.WriteUInt32((uint)num59, span54, 0);
			if (num60 < 3)
			{
				span54[num60 - 1] |= 128;
				while (num60 < 2)
				{
					span54[num60++] = 128;
				}
				span54[2] = 0;
			}
		}
		if (instance.lightDeployer != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(3);
			BufferStream.RangeHandle range55 = stream.GetRange(1);
			int position55 = stream.Position;
			LightDeployer.Serialize(stream, instance.lightDeployer);
			int num61 = stream.Position - position55;
			if (num61 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field lightDeployer (ProtoBuf.LightDeployer)");
			}
			Span<byte> span55 = range55.GetSpan();
			ProtocolParser.WriteUInt32((uint)num61, span55, 0);
		}
		if (instance.rcEntity != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(3);
			BufferStream.RangeHandle range56 = stream.GetRange(5);
			int position56 = stream.Position;
			RCEntity.Serialize(stream, instance.rcEntity);
			int val20 = stream.Position - position56;
			Span<byte> span56 = range56.GetSpan();
			int num62 = ProtocolParser.WriteUInt32((uint)val20, span56, 0);
			if (num62 < 5)
			{
				span56[num62 - 1] |= 128;
				while (num62 < 4)
				{
					span56[num62++] = 128;
				}
				span56[4] = 0;
			}
		}
		if (instance.computerStation != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(3);
			BufferStream.RangeHandle range57 = stream.GetRange(5);
			int position57 = stream.Position;
			ComputerStation.Serialize(stream, instance.computerStation);
			int val21 = stream.Position - position57;
			Span<byte> span57 = range57.GetSpan();
			int num63 = ProtocolParser.WriteUInt32((uint)val21, span57, 0);
			if (num63 < 5)
			{
				span57[num63 - 1] |= 128;
				while (num63 < 4)
				{
					span57[num63++] = 128;
				}
				span57[4] = 0;
			}
		}
		if (instance.growableEntity != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(3);
			BufferStream.RangeHandle range58 = stream.GetRange(1);
			int position58 = stream.Position;
			GrowableEntity.Serialize(stream, instance.growableEntity);
			int num64 = stream.Position - position58;
			if (num64 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field growableEntity (ProtoBuf.GrowableEntity)");
			}
			Span<byte> span58 = range58.GetSpan();
			ProtocolParser.WriteUInt32((uint)num64, span58, 0);
		}
		if (instance.composter != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(3);
			BufferStream.RangeHandle range59 = stream.GetRange(1);
			int position59 = stream.Position;
			Composter.Serialize(stream, instance.composter);
			int num65 = stream.Position - position59;
			if (num65 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field composter (ProtoBuf.Composter)");
			}
			Span<byte> span59 = range59.GetSpan();
			ProtocolParser.WriteUInt32((uint)num65, span59, 0);
		}
		if (instance.modularVehicle != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(3);
			BufferStream.RangeHandle range60 = stream.GetRange(1);
			int position60 = stream.Position;
			ModularVehicle.Serialize(stream, instance.modularVehicle);
			int num66 = stream.Position - position60;
			if (num66 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field modularVehicle (ProtoBuf.ModularVehicle)");
			}
			Span<byte> span60 = range60.GetSpan();
			ProtocolParser.WriteUInt32((uint)num66, span60, 0);
		}
		if (instance.modularCar != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(3);
			BufferStream.RangeHandle range61 = stream.GetRange(5);
			int position61 = stream.Position;
			ModularCar.Serialize(stream, instance.modularCar);
			int val22 = stream.Position - position61;
			Span<byte> span61 = range61.GetSpan();
			int num67 = ProtocolParser.WriteUInt32((uint)val22, span61, 0);
			if (num67 < 5)
			{
				span61[num67 - 1] |= 128;
				while (num67 < 4)
				{
					span61[num67++] = 128;
				}
				span61[4] = 0;
			}
		}
		if (instance.simpleUID != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(3);
			BufferStream.RangeHandle range62 = stream.GetRange(1);
			int position62 = stream.Position;
			SimpleUID.Serialize(stream, instance.simpleUID);
			int num68 = stream.Position - position62;
			if (num68 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUID (ProtoBuf.SimpleUID)");
			}
			Span<byte> span62 = range62.GetSpan();
			ProtocolParser.WriteUInt32((uint)num68, span62, 0);
		}
		if (instance.vehicleLift != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(4);
			BufferStream.RangeHandle range63 = stream.GetRange(1);
			int position63 = stream.Position;
			VehicleLift.Serialize(stream, instance.vehicleLift);
			int num69 = stream.Position - position63;
			if (num69 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleLift (ProtoBuf.VehicleLift)");
			}
			Span<byte> span63 = range63.GetSpan();
			ProtocolParser.WriteUInt32((uint)num69, span63, 0);
		}
		if (instance.engineStorage != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(4);
			BufferStream.RangeHandle range64 = stream.GetRange(1);
			int position64 = stream.Position;
			EngineStorage.Serialize(stream, instance.engineStorage);
			int num70 = stream.Position - position64;
			if (num70 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field engineStorage (ProtoBuf.EngineStorage)");
			}
			Span<byte> span64 = range64.GetSpan();
			ProtocolParser.WriteUInt32((uint)num70, span64, 0);
		}
		if (instance.vehicleVendor != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(4);
			BufferStream.RangeHandle range65 = stream.GetRange(5);
			int position65 = stream.Position;
			VehicleVendor.Serialize(stream, instance.vehicleVendor);
			int val23 = stream.Position - position65;
			Span<byte> span65 = range65.GetSpan();
			int num71 = ProtocolParser.WriteUInt32((uint)val23, span65, 0);
			if (num71 < 5)
			{
				span65[num71 - 1] |= 128;
				while (num71 < 4)
				{
					span65[num71++] = 128;
				}
				span65[4] = 0;
			}
		}
		if (instance.WaterPool != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(4);
			BufferStream.RangeHandle range66 = stream.GetRange(1);
			int position66 = stream.Position;
			WaterPool.Serialize(stream, instance.WaterPool);
			int num72 = stream.Position - position66;
			if (num72 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field WaterPool (ProtoBuf.WaterPool)");
			}
			Span<byte> span66 = range66.GetSpan();
			ProtocolParser.WriteUInt32((uint)num72, span66, 0);
		}
		if (instance.photo != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(4);
			BufferStream.RangeHandle range67 = stream.GetRange(1);
			int position67 = stream.Position;
			Photo.Serialize(stream, instance.photo);
			int num73 = stream.Position - position67;
			if (num73 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photo (ProtoBuf.Photo)");
			}
			Span<byte> span67 = range67.GetSpan();
			ProtocolParser.WriteUInt32((uint)num73, span67, 0);
		}
		if (instance.photoFrame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(4);
			BufferStream.RangeHandle range68 = stream.GetRange(3);
			int position68 = stream.Position;
			PhotoFrame.Serialize(stream, instance.photoFrame);
			int num74 = stream.Position - position68;
			if (num74 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field photoFrame (ProtoBuf.PhotoFrame)");
			}
			Span<byte> span68 = range68.GetSpan();
			int num75 = ProtocolParser.WriteUInt32((uint)num74, span68, 0);
			if (num75 < 3)
			{
				span68[num75 - 1] |= 128;
				while (num75 < 2)
				{
					span68[num75++] = 128;
				}
				span68[2] = 0;
			}
		}
		if (instance.vehicleModule != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(4);
			BufferStream.RangeHandle range69 = stream.GetRange(1);
			int position69 = stream.Position;
			VehicleModule.Serialize(stream, instance.vehicleModule);
			int num76 = stream.Position - position69;
			if (num76 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vehicleModule (ProtoBuf.VehicleModule)");
			}
			Span<byte> span69 = range69.GetSpan();
			ProtocolParser.WriteUInt32((uint)num76, span69, 0);
		}
		if (instance.mixingTable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(4);
			BufferStream.RangeHandle range70 = stream.GetRange(1);
			int position70 = stream.Position;
			MixingTable.Serialize(stream, instance.mixingTable);
			int num77 = stream.Position - position70;
			if (num77 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mixingTable (ProtoBuf.MixingTable)");
			}
			Span<byte> span70 = range70.GetSpan();
			ProtocolParser.WriteUInt32((uint)num77, span70, 0);
		}
		if (instance.shopKeeper != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(4);
			BufferStream.RangeHandle range71 = stream.GetRange(1);
			int position71 = stream.Position;
			ShopKeeper.Serialize(stream, instance.shopKeeper);
			int num78 = stream.Position - position71;
			if (num78 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field shopKeeper (ProtoBuf.ShopKeeper)");
			}
			Span<byte> span71 = range71.GetSpan();
			ProtocolParser.WriteUInt32((uint)num78, span71, 0);
		}
		if (instance.elevator != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(4);
			BufferStream.RangeHandle range72 = stream.GetRange(1);
			int position72 = stream.Position;
			Elevator.Serialize(stream, instance.elevator);
			int num79 = stream.Position - position72;
			if (num79 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevator (ProtoBuf.Elevator)");
			}
			Span<byte> span72 = range72.GetSpan();
			ProtocolParser.WriteUInt32((uint)num79, span72, 0);
		}
		if (instance.skullTrophy != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(4);
			BufferStream.RangeHandle range73 = stream.GetRange(5);
			int position73 = stream.Position;
			SkullTrophy.Serialize(stream, instance.skullTrophy);
			int val24 = stream.Position - position73;
			Span<byte> span73 = range73.GetSpan();
			int num80 = ProtocolParser.WriteUInt32((uint)val24, span73, 0);
			if (num80 < 5)
			{
				span73[num80 - 1] |= 128;
				while (num80 < 4)
				{
					span73[num80++] = 128;
				}
				span73[4] = 0;
			}
		}
		if (instance.cassette != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(4);
			BufferStream.RangeHandle range74 = stream.GetRange(1);
			int position74 = stream.Position;
			Cassette.Serialize(stream, instance.cassette);
			int num81 = stream.Position - position74;
			if (num81 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cassette (ProtoBuf.Cassette)");
			}
			Span<byte> span74 = range74.GetSpan();
			ProtocolParser.WriteUInt32((uint)num81, span74, 0);
		}
		if (instance.telephone != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(4);
			BufferStream.RangeHandle range75 = stream.GetRange(5);
			int position75 = stream.Position;
			Telephone.Serialize(stream, instance.telephone);
			int val25 = stream.Position - position75;
			Span<byte> span75 = range75.GetSpan();
			int num82 = ProtocolParser.WriteUInt32((uint)val25, span75, 0);
			if (num82 < 5)
			{
				span75[num82 - 1] |= 128;
				while (num82 < 4)
				{
					span75[num82++] = 128;
				}
				span75[4] = 0;
			}
		}
		if (instance.boomBox != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(4);
			BufferStream.RangeHandle range76 = stream.GetRange(5);
			int position76 = stream.Position;
			BoomBox.Serialize(stream, instance.boomBox);
			int val26 = stream.Position - position76;
			Span<byte> span76 = range76.GetSpan();
			int num83 = ProtocolParser.WriteUInt32((uint)val26, span76, 0);
			if (num83 < 5)
			{
				span76[num83 - 1] |= 128;
				while (num83 < 4)
				{
					span76[num83++] = 128;
				}
				span76[4] = 0;
			}
		}
		if (instance.neonSign != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(4);
			BufferStream.RangeHandle range77 = stream.GetRange(3);
			int position77 = stream.Position;
			NeonSign.Serialize(stream, instance.neonSign);
			int num84 = stream.Position - position77;
			if (num84 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field neonSign (ProtoBuf.NeonSign)");
			}
			Span<byte> span77 = range77.GetSpan();
			int num85 = ProtocolParser.WriteUInt32((uint)num84, span77, 0);
			if (num85 < 3)
			{
				span77[num85 - 1] |= 128;
				while (num85 < 2)
				{
					span77[num85++] = 128;
				}
				span77[2] = 0;
			}
		}
		if (instance.subEntityList != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(4);
			BufferStream.RangeHandle range78 = stream.GetRange(3);
			int position78 = stream.Position;
			SubEntityList.Serialize(stream, instance.subEntityList);
			int num86 = stream.Position - position78;
			if (num86 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field subEntityList (ProtoBuf.SubEntityList)");
			}
			Span<byte> span78 = range78.GetSpan();
			int num87 = ProtocolParser.WriteUInt32((uint)num86, span78, 0);
			if (num87 < 3)
			{
				span78[num87 - 1] |= 128;
				while (num87 < 2)
				{
					span78[num87++] = 128;
				}
				span78[2] = 0;
			}
		}
		if (instance.marketTerminal != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(5);
			BufferStream.RangeHandle range79 = stream.GetRange(5);
			int position79 = stream.Position;
			MarketTerminal.Serialize(stream, instance.marketTerminal);
			int val27 = stream.Position - position79;
			Span<byte> span79 = range79.GetSpan();
			int num88 = ProtocolParser.WriteUInt32((uint)val27, span79, 0);
			if (num88 < 5)
			{
				span79[num88 - 1] |= 128;
				while (num88 < 4)
				{
					span79[num88++] = 128;
				}
				span79[4] = 0;
			}
		}
		if (instance.deliveryDrone != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(5);
			BufferStream.RangeHandle range80 = stream.GetRange(1);
			int position80 = stream.Position;
			DeliveryDrone.Serialize(stream, instance.deliveryDrone);
			int num89 = stream.Position - position80;
			if (num89 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field deliveryDrone (ProtoBuf.DeliveryDrone)");
			}
			Span<byte> span80 = range80.GetSpan();
			ProtocolParser.WriteUInt32((uint)num89, span80, 0);
		}
		if (instance.reclaimTerminal != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(5);
			BufferStream.RangeHandle range81 = stream.GetRange(1);
			int position81 = stream.Position;
			ReclaimTerminal.Serialize(stream, instance.reclaimTerminal);
			int num90 = stream.Position - position81;
			if (num90 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field reclaimTerminal (ProtoBuf.ReclaimTerminal)");
			}
			Span<byte> span81 = range81.GetSpan();
			ProtocolParser.WriteUInt32((uint)num90, span81, 0);
		}
		if (instance.slotMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(5);
			BufferStream.RangeHandle range82 = stream.GetRange(1);
			int position82 = stream.Position;
			SlotMachine.Serialize(stream, instance.slotMachine);
			int num91 = stream.Position - position82;
			if (num91 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field slotMachine (ProtoBuf.SlotMachine)");
			}
			Span<byte> span82 = range82.GetSpan();
			ProtocolParser.WriteUInt32((uint)num91, span82, 0);
		}
		if (instance.trainEngine != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(5);
			BufferStream.RangeHandle range83 = stream.GetRange(1);
			int position83 = stream.Position;
			TrainEngine.Serialize(stream, instance.trainEngine);
			int num92 = stream.Position - position83;
			if (num92 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field trainEngine (ProtoBuf.TrainEngine)");
			}
			Span<byte> span83 = range83.GetSpan();
			ProtocolParser.WriteUInt32((uint)num92, span83, 0);
		}
		if (instance.cardGame != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(5);
			BufferStream.RangeHandle range84 = stream.GetRange(5);
			int position84 = stream.Position;
			CardGame.Serialize(stream, instance.cardGame);
			int num93 = stream.Position - position84;
			if (num93 > int.MaxValue)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cardGame (ProtoBuf.CardGame)");
			}
			Span<byte> span84 = range84.GetSpan();
			int num94 = ProtocolParser.WriteUInt32((uint)num93, span84, 0);
			if (num94 < 5)
			{
				span84[num94 - 1] |= 128;
				while (num94 < 4)
				{
					span84[num94++] = 128;
				}
				span84[4] = 0;
			}
		}
		if (instance.crane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(5);
			BufferStream.RangeHandle range85 = stream.GetRange(1);
			int position85 = stream.Position;
			Crane.Serialize(stream, instance.crane);
			int num95 = stream.Position - position85;
			if (num95 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field crane (ProtoBuf.Crane)");
			}
			Span<byte> span85 = range85.GetSpan();
			ProtocolParser.WriteUInt32((uint)num95, span85, 0);
		}
		if (instance.connectedSpeaker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(5);
			BufferStream.RangeHandle range86 = stream.GetRange(1);
			int position86 = stream.Position;
			ConnectedSpeaker.Serialize(stream, instance.connectedSpeaker);
			int num96 = stream.Position - position86;
			if (num96 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field connectedSpeaker (ProtoBuf.ConnectedSpeaker)");
			}
			Span<byte> span86 = range86.GetSpan();
			ProtocolParser.WriteUInt32((uint)num96, span86, 0);
		}
		if (instance.audioEntity != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(5);
			BufferStream.RangeHandle range87 = stream.GetRange(1);
			int position87 = stream.Position;
			AudioEntity.Serialize(stream, instance.audioEntity);
			int num97 = stream.Position - position87;
			if (num97 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field audioEntity (ProtoBuf.AudioEntity)");
			}
			Span<byte> span87 = range87.GetSpan();
			ProtocolParser.WriteUInt32((uint)num97, span87, 0);
		}
		if (instance.microphoneStand != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(5);
			BufferStream.RangeHandle range88 = stream.GetRange(1);
			int position88 = stream.Position;
			MicrophoneStand.Serialize(stream, instance.microphoneStand);
			int num98 = stream.Position - position88;
			if (num98 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field microphoneStand (ProtoBuf.MicrophoneStand)");
			}
			Span<byte> span88 = range88.GetSpan();
			ProtocolParser.WriteUInt32((uint)num98, span88, 0);
		}
		if (instance.submarine != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(5);
			BufferStream.RangeHandle range89 = stream.GetRange(1);
			int position89 = stream.Position;
			Submarine.Serialize(stream, instance.submarine);
			int num99 = stream.Position - position89;
			if (num99 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field submarine (ProtoBuf.Submarine)");
			}
			Span<byte> span89 = range89.GetSpan();
			ProtocolParser.WriteUInt32((uint)num99, span89, 0);
		}
		if (instance.sleepingBagCamper != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(5);
			BufferStream.RangeHandle range90 = stream.GetRange(1);
			int position90 = stream.Position;
			SleepingBagCamper.Serialize(stream, instance.sleepingBagCamper);
			int num100 = stream.Position - position90;
			if (num100 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sleepingBagCamper (ProtoBuf.SleepingBagCamper)");
			}
			Span<byte> span90 = range90.GetSpan();
			ProtocolParser.WriteUInt32((uint)num100, span90, 0);
		}
		if (instance.camperModule != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(5);
			BufferStream.RangeHandle range91 = stream.GetRange(1);
			int position91 = stream.Position;
			CamperModule.Serialize(stream, instance.camperModule);
			int num101 = stream.Position - position91;
			if (num101 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field camperModule (ProtoBuf.CamperModule)");
			}
			Span<byte> span91 = range91.GetSpan();
			ProtocolParser.WriteUInt32((uint)num101, span91, 0);
		}
		if (instance.paintableSign != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(5);
			BufferStream.RangeHandle range92 = stream.GetRange(3);
			int position92 = stream.Position;
			PaintableSign.Serialize(stream, instance.paintableSign);
			int num102 = stream.Position - position92;
			if (num102 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintableSign (ProtoBuf.PaintableSign)");
			}
			Span<byte> span92 = range92.GetSpan();
			int num103 = ProtocolParser.WriteUInt32((uint)num102, span92, 0);
			if (num103 < 3)
			{
				span92[num103 - 1] |= 128;
				while (num103 < 2)
				{
					span92[num103++] = 128;
				}
				span92[2] = 0;
			}
		}
		if (instance.whitelist != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(5);
			BufferStream.RangeHandle range93 = stream.GetRange(3);
			int position93 = stream.Position;
			Whitelist.Serialize(stream, instance.whitelist);
			int num104 = stream.Position - position93;
			if (num104 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field whitelist (ProtoBuf.Whitelist)");
			}
			Span<byte> span93 = range93.GetSpan();
			int num105 = ProtocolParser.WriteUInt32((uint)num104, span93, 0);
			if (num105 < 3)
			{
				span93[num105 - 1] |= 128;
				while (num105 < 2)
				{
					span93[num105++] = 128;
				}
				span93[2] = 0;
			}
		}
		if (instance.FrankensteinTable != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(5);
			BufferStream.RangeHandle range94 = stream.GetRange(3);
			int position94 = stream.Position;
			FrankensteinTable.Serialize(stream, instance.FrankensteinTable);
			int num106 = stream.Position - position94;
			if (num106 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field FrankensteinTable (ProtoBuf.FrankensteinTable)");
			}
			Span<byte> span94 = range94.GetSpan();
			int num107 = ProtocolParser.WriteUInt32((uint)num106, span94, 0);
			if (num107 < 3)
			{
				span94[num107 - 1] |= 128;
				while (num107 < 2)
				{
					span94[num107++] = 128;
				}
				span94[2] = 0;
			}
		}
		if (instance.mlrs != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(6);
			BufferStream.RangeHandle range95 = stream.GetRange(1);
			int position95 = stream.Position;
			MLRS.Serialize(stream, instance.mlrs);
			int num108 = stream.Position - position95;
			if (num108 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mlrs (ProtoBuf.MLRS)");
			}
			Span<byte> span95 = range95.GetSpan();
			ProtocolParser.WriteUInt32((uint)num108, span95, 0);
		}
		if (instance.reclaimManager != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(6);
			BufferStream.RangeHandle range96 = stream.GetRange(5);
			int position96 = stream.Position;
			ReclaimManager.Serialize(stream, instance.reclaimManager);
			int val28 = stream.Position - position96;
			Span<byte> span96 = range96.GetSpan();
			int num109 = ProtocolParser.WriteUInt32((uint)val28, span96, 0);
			if (num109 < 5)
			{
				span96[num109 - 1] |= 128;
				while (num109 < 4)
				{
					span96[num109++] = 128;
				}
				span96[4] = 0;
			}
		}
		if (instance.gameMode != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(6);
			BufferStream.RangeHandle range97 = stream.GetRange(5);
			int position97 = stream.Position;
			GameMode.Serialize(stream, instance.gameMode);
			int val29 = stream.Position - position97;
			Span<byte> span97 = range97.GetSpan();
			int num110 = ProtocolParser.WriteUInt32((uint)val29, span97, 0);
			if (num110 < 5)
			{
				span97[num110 - 1] |= 128;
				while (num110 < 4)
				{
					span97[num110++] = 128;
				}
				span97[4] = 0;
			}
		}
		if (instance.snowmobile != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(6);
			BufferStream.RangeHandle range98 = stream.GetRange(1);
			int position98 = stream.Position;
			Snowmobile.Serialize(stream, instance.snowmobile);
			int num111 = stream.Position - position98;
			if (num111 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field snowmobile (ProtoBuf.Snowmobile)");
			}
			Span<byte> span98 = range98.GetSpan();
			ProtocolParser.WriteUInt32((uint)num111, span98, 0);
		}
		if (instance.createdThisFrame)
		{
			stream.WriteByte(160);
			stream.WriteByte(6);
			ProtocolParser.WriteBool(stream, instance.createdThisFrame);
		}
		if (instance.patternFirework != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(6);
			BufferStream.RangeHandle range99 = stream.GetRange(3);
			int position99 = stream.Position;
			PatternFirework.Serialize(stream, instance.patternFirework);
			int num112 = stream.Position - position99;
			if (num112 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field patternFirework (ProtoBuf.PatternFirework)");
			}
			Span<byte> span99 = range99.GetSpan();
			int num113 = ProtocolParser.WriteUInt32((uint)num112, span99, 0);
			if (num113 < 3)
			{
				span99[num113 - 1] |= 128;
				while (num113 < 2)
				{
					span99[num113++] = 128;
				}
				span99[2] = 0;
			}
		}
		if (instance.cargoPlane != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(6);
			BufferStream.RangeHandle range100 = stream.GetRange(1);
			int position100 = stream.Position;
			CargoPlane.Serialize(stream, instance.cargoPlane);
			int num114 = stream.Position - position100;
			if (num114 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoPlane (ProtoBuf.CargoPlane)");
			}
			Span<byte> span100 = range100.GetSpan();
			ProtocolParser.WriteUInt32((uint)num114, span100, 0);
		}
		if (instance.paintedItem != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(6);
			BufferStream.RangeHandle range101 = stream.GetRange(1);
			int position101 = stream.Position;
			PaintedItem.Serialize(stream, instance.paintedItem);
			int num115 = stream.Position - position101;
			if (num115 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field paintedItem (ProtoBuf.PaintedItem)");
			}
			Span<byte> span101 = range101.GetSpan();
			ProtocolParser.WriteUInt32((uint)num115, span101, 0);
		}
		if (instance.clanManager != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(6);
			BufferStream.RangeHandle range102 = stream.GetRange(5);
			int position102 = stream.Position;
			ClanManager.Serialize(stream, instance.clanManager);
			int val30 = stream.Position - position102;
			Span<byte> span102 = range102.GetSpan();
			int num116 = ProtocolParser.WriteUInt32((uint)val30, span102, 0);
			if (num116 < 5)
			{
				span102[num116 - 1] |= 128;
				while (num116 < 4)
				{
					span102[num116++] = 128;
				}
				span102[4] = 0;
			}
		}
		if (instance.spray != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(6);
			BufferStream.RangeHandle range103 = stream.GetRange(1);
			int position103 = stream.Position;
			Spray.Serialize(stream, instance.spray);
			int num117 = stream.Position - position103;
			if (num117 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spray (ProtoBuf.Spray)");
			}
			Span<byte> span103 = range103.GetSpan();
			ProtocolParser.WriteUInt32((uint)num117, span103, 0);
		}
		if (instance.baseTrain != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(6);
			BufferStream.RangeHandle range104 = stream.GetRange(1);
			int position104 = stream.Position;
			BaseTrain.Serialize(stream, instance.baseTrain);
			int num118 = stream.Position - position104;
			if (num118 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseTrain (ProtoBuf.BaseTrain)");
			}
			Span<byte> span104 = range104.GetSpan();
			ProtocolParser.WriteUInt32((uint)num118, span104, 0);
		}
		if (instance.zipline != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(6);
			BufferStream.RangeHandle range105 = stream.GetRange(3);
			int position105 = stream.Position;
			Zipline.Serialize(stream, instance.zipline);
			int num119 = stream.Position - position105;
			if (num119 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field zipline (ProtoBuf.Zipline)");
			}
			Span<byte> span105 = range105.GetSpan();
			int num120 = ProtocolParser.WriteUInt32((uint)num119, span105, 0);
			if (num120 < 3)
			{
				span105[num120 - 1] |= 128;
				while (num120 < 2)
				{
					span105[num120++] = 128;
				}
				span105[2] = 0;
			}
		}
		if (instance.ziplineMountable != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(6);
			BufferStream.RangeHandle range106 = stream.GetRange(3);
			int position106 = stream.Position;
			ZiplineMountable.Serialize(stream, instance.ziplineMountable);
			int num121 = stream.Position - position106;
			if (num121 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ziplineMountable (ProtoBuf.ZiplineMountable)");
			}
			Span<byte> span106 = range106.GetSpan();
			int num122 = ProtocolParser.WriteUInt32((uint)num121, span106, 0);
			if (num122 < 3)
			{
				span106[num122 - 1] |= 128;
				while (num122 < 2)
				{
					span106[num122++] = 128;
				}
				span106[2] = 0;
			}
		}
		if (instance.ZiplineArrival != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(6);
			BufferStream.RangeHandle range107 = stream.GetRange(3);
			int position107 = stream.Position;
			ZiplineArrivalPoint.Serialize(stream, instance.ZiplineArrival);
			int num123 = stream.Position - position107;
			if (num123 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ZiplineArrival (ProtoBuf.ZiplineArrivalPoint)");
			}
			Span<byte> span107 = range107.GetSpan();
			int num124 = ProtocolParser.WriteUInt32((uint)num123, span107, 0);
			if (num124 < 3)
			{
				span107[num124 - 1] |= 128;
				while (num124 < 2)
				{
					span107[num124++] = 128;
				}
				span107[2] = 0;
			}
		}
		if (instance.sprayLine != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(6);
			BufferStream.RangeHandle range108 = stream.GetRange(3);
			int position108 = stream.Position;
			SprayLine.Serialize(stream, instance.sprayLine);
			int num125 = stream.Position - position108;
			if (num125 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sprayLine (ProtoBuf.SprayLine)");
			}
			Span<byte> span108 = range108.GetSpan();
			int num126 = ProtocolParser.WriteUInt32((uint)num125, span108, 0);
			if (num126 < 3)
			{
				span108[num126 - 1] |= 128;
				while (num126 < 2)
				{
					span108[num126++] = 128;
				}
				span108[2] = 0;
			}
		}
		if (instance.coalingTower != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(6);
			BufferStream.RangeHandle range109 = stream.GetRange(1);
			int position109 = stream.Position;
			CoalingTower.Serialize(stream, instance.coalingTower);
			int num127 = stream.Position - position109;
			if (num127 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field coalingTower (ProtoBuf.CoalingTower)");
			}
			Span<byte> span109 = range109.GetSpan();
			ProtocolParser.WriteUInt32((uint)num127, span109, 0);
		}
		if (instance.simpleInt != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(7);
			BufferStream.RangeHandle range110 = stream.GetRange(1);
			int position110 = stream.Position;
			SimpleInt.Serialize(stream, instance.simpleInt);
			int num128 = stream.Position - position110;
			if (num128 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleInt (ProtoBuf.SimpleInt)");
			}
			Span<byte> span110 = range110.GetSpan();
			ProtocolParser.WriteUInt32((uint)num128, span110, 0);
		}
		if (instance.baseOven != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(7);
			BufferStream.RangeHandle range111 = stream.GetRange(3);
			int position111 = stream.Position;
			BaseOven.Serialize(stream, instance.baseOven);
			int num129 = stream.Position - position111;
			if (num129 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseOven (ProtoBuf.BaseOven)");
			}
			Span<byte> span111 = range111.GetSpan();
			int num130 = ProtocolParser.WriteUInt32((uint)num129, span111, 0);
			if (num130 < 3)
			{
				span111[num130 - 1] |= 128;
				while (num130 < 2)
				{
					span111[num130++] = 128;
				}
				span111[2] = 0;
			}
		}
		if (instance.brainComponent != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(7);
			BufferStream.RangeHandle range112 = stream.GetRange(1);
			int position112 = stream.Position;
			BrainComponent.Serialize(stream, instance.brainComponent);
			int num131 = stream.Position - position112;
			if (num131 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field brainComponent (ProtoBuf.BrainComponent)");
			}
			Span<byte> span112 = range112.GetSpan();
			ProtocolParser.WriteUInt32((uint)num131, span112, 0);
		}
		if (instance.proceduralDungeon != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(7);
			BufferStream.RangeHandle range113 = stream.GetRange(1);
			int position113 = stream.Position;
			ProceduralDungeon.Serialize(stream, instance.proceduralDungeon);
			int num132 = stream.Position - position113;
			if (num132 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field proceduralDungeon (ProtoBuf.ProceduralDungeon)");
			}
			Span<byte> span113 = range113.GetSpan();
			ProtocolParser.WriteUInt32((uint)num132, span113, 0);
		}
		if (instance.industrialConveyor != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(7);
			BufferStream.RangeHandle range114 = stream.GetRange(3);
			int position114 = stream.Position;
			IndustrialConveyor.Serialize(stream, instance.industrialConveyor);
			int num133 = stream.Position - position114;
			if (num133 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialConveyor (ProtoBuf.IndustrialConveyor)");
			}
			Span<byte> span114 = range114.GetSpan();
			int num134 = ProtocolParser.WriteUInt32((uint)num133, span114, 0);
			if (num134 < 3)
			{
				span114[num134 - 1] |= 128;
				while (num134 < 2)
				{
					span114[num134++] = 128;
				}
				span114[2] = 0;
			}
		}
		if (instance.industrialCrafter != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(7);
			BufferStream.RangeHandle range115 = stream.GetRange(1);
			int position115 = stream.Position;
			IndustrialCrafter.Serialize(stream, instance.industrialCrafter);
			int num135 = stream.Position - position115;
			if (num135 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field industrialCrafter (ProtoBuf.IndustrialCrafter)");
			}
			Span<byte> span115 = range115.GetSpan();
			ProtocolParser.WriteUInt32((uint)num135, span115, 0);
		}
		if (instance.drone != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(7);
			BufferStream.RangeHandle range116 = stream.GetRange(1);
			int position116 = stream.Position;
			Drone.Serialize(stream, instance.drone);
			int num136 = stream.Position - position116;
			if (num136 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field drone (ProtoBuf.Drone)");
			}
			Span<byte> span116 = range116.GetSpan();
			ProtocolParser.WriteUInt32((uint)num136, span116, 0);
		}
		if (instance.explosive != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(7);
			BufferStream.RangeHandle range117 = stream.GetRange(1);
			int position117 = stream.Position;
			TimedExplosive.Serialize(stream, instance.explosive);
			int num137 = stream.Position - position117;
			if (num137 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field explosive (ProtoBuf.TimedExplosive)");
			}
			Span<byte> span117 = range117.GetSpan();
			ProtocolParser.WriteUInt32((uint)num137, span117, 0);
		}
		if (instance.simpleUint != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(7);
			BufferStream.RangeHandle range118 = stream.GetRange(1);
			int position118 = stream.Position;
			SimpleUInt.Serialize(stream, instance.simpleUint);
			int num138 = stream.Position - position118;
			if (num138 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field simpleUint (ProtoBuf.SimpleUInt)");
			}
			Span<byte> span118 = range118.GetSpan();
			ProtocolParser.WriteUInt32((uint)num138, span118, 0);
		}
		if (instance.weaponRack != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(7);
			BufferStream.RangeHandle range119 = stream.GetRange(3);
			int position119 = stream.Position;
			WeaponRack.Serialize(stream, instance.weaponRack);
			int num139 = stream.Position - position119;
			if (num139 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field weaponRack (ProtoBuf.WeaponRack)");
			}
			Span<byte> span119 = range119.GetSpan();
			int num140 = ProtocolParser.WriteUInt32((uint)num139, span119, 0);
			if (num140 < 3)
			{
				span119[num140 - 1] |= 128;
				while (num140 < 2)
				{
					span119[num140++] = 128;
				}
				span119[2] = 0;
			}
		}
		if (instance.attackHeli != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(7);
			BufferStream.RangeHandle range120 = stream.GetRange(1);
			int position120 = stream.Position;
			AttackHeli.Serialize(stream, instance.attackHeli);
			int num141 = stream.Position - position120;
			if (num141 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeli (ProtoBuf.AttackHeli)");
			}
			Span<byte> span120 = range120.GetSpan();
			ProtocolParser.WriteUInt32((uint)num141, span120, 0);
		}
		if (instance.attackHeliTurret != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(7);
			BufferStream.RangeHandle range121 = stream.GetRange(1);
			int position121 = stream.Position;
			AttackHeliTurret.Serialize(stream, instance.attackHeliTurret);
			int num142 = stream.Position - position121;
			if (num142 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliTurret (ProtoBuf.AttackHeliTurret)");
			}
			Span<byte> span121 = range121.GetSpan();
			ProtocolParser.WriteUInt32((uint)num142, span121, 0);
		}
		if (instance.attackHeliRockets != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(7);
			BufferStream.RangeHandle range122 = stream.GetRange(1);
			int position122 = stream.Position;
			AttackHeliRockets.Serialize(stream, instance.attackHeliRockets);
			int num143 = stream.Position - position122;
			if (num143 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field attackHeliRockets (ProtoBuf.AttackHeliRockets)");
			}
			Span<byte> span122 = range122.GetSpan();
			ProtocolParser.WriteUInt32((uint)num143, span122, 0);
		}
		if (instance.baseBoat != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(7);
			BufferStream.RangeHandle range123 = stream.GetRange(1);
			int position123 = stream.Position;
			BaseBoat.Serialize(stream, instance.baseBoat);
			int num144 = stream.Position - position123;
			if (num144 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseBoat (ProtoBuf.BaseBoat)");
			}
			Span<byte> span123 = range123.GetSpan();
			ProtocolParser.WriteUInt32((uint)num144, span123, 0);
		}
		if (instance.ragdoll != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(7);
			BufferStream.RangeHandle range124 = stream.GetRange(3);
			int position124 = stream.Position;
			Ragdoll.Serialize(stream, instance.ragdoll);
			int num145 = stream.Position - position124;
			if (num145 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ragdoll (ProtoBuf.Ragdoll)");
			}
			Span<byte> span124 = range124.GetSpan();
			int num146 = ProtocolParser.WriteUInt32((uint)num145, span124, 0);
			if (num146 < 3)
			{
				span124[num146 - 1] |= 128;
				while (num146 < 2)
				{
					span124[num146++] = 128;
				}
				span124[2] = 0;
			}
		}
		if (instance.dieselEngine != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(7);
			BufferStream.RangeHandle range125 = stream.GetRange(1);
			int position125 = stream.Position;
			DieselEngine.Serialize(stream, instance.dieselEngine);
			int num147 = stream.Position - position125;
			if (num147 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field dieselEngine (ProtoBuf.DieselEngine)");
			}
			Span<byte> span125 = range125.GetSpan();
			ProtocolParser.WriteUInt32((uint)num147, span125, 0);
		}
		if (instance.associatedFiles != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(9);
			BufferStream.RangeHandle range126 = stream.GetRange(5);
			int position126 = stream.Position;
			AssociatedFiles.Serialize(stream, instance.associatedFiles);
			int val31 = stream.Position - position126;
			Span<byte> span126 = range126.GetSpan();
			int num148 = ProtocolParser.WriteUInt32((uint)val31, span126, 0);
			if (num148 < 5)
			{
				span126[num148 - 1] |= 128;
				while (num148 < 4)
				{
					span126[num148++] = 128;
				}
				span126[4] = 0;
			}
		}
		if (instance.nexusFerry != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(9);
			BufferStream.RangeHandle range127 = stream.GetRange(5);
			int position127 = stream.Position;
			NexusFerry.Serialize(stream, instance.nexusFerry);
			int val32 = stream.Position - position127;
			Span<byte> span127 = range127.GetSpan();
			int num149 = ProtocolParser.WriteUInt32((uint)val32, span127, 0);
			if (num149 < 5)
			{
				span127[num149 - 1] |= 128;
				while (num149 < 4)
				{
					span127[num149++] = 128;
				}
				span127[4] = 0;
			}
		}
		if (instance.nexusIsland != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(9);
			BufferStream.RangeHandle range128 = stream.GetRange(5);
			int position128 = stream.Position;
			NexusIsland.Serialize(stream, instance.nexusIsland);
			int val33 = stream.Position - position128;
			Span<byte> span128 = range128.GetSpan();
			int num150 = ProtocolParser.WriteUInt32((uint)val33, span128, 0);
			if (num150 < 5)
			{
				span128[num150 - 1] |= 128;
				while (num150 < 4)
				{
					span128[num150++] = 128;
				}
				span128[4] = 0;
			}
		}
		if (instance.nexusDockTerminal != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(9);
			BufferStream.RangeHandle range129 = stream.GetRange(3);
			int position129 = stream.Position;
			NexusDockTerminal.Serialize(stream, instance.nexusDockTerminal);
			int num151 = stream.Position - position129;
			if (num151 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field nexusDockTerminal (ProtoBuf.NexusDockTerminal)");
			}
			Span<byte> span129 = range129.GetSpan();
			int num152 = ProtocolParser.WriteUInt32((uint)num151, span129, 0);
			if (num152 < 3)
			{
				span129[num152 - 1] |= 128;
				while (num152 < 2)
				{
					span129[num152++] = 128;
				}
				span129[2] = 0;
			}
		}
		if (instance.rockingChair != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(9);
			BufferStream.RangeHandle range130 = stream.GetRange(1);
			int position130 = stream.Position;
			RockingChair.Serialize(stream, instance.rockingChair);
			int num153 = stream.Position - position130;
			if (num153 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rockingChair (ProtoBuf.RockingChair)");
			}
			Span<byte> span130 = range130.GetSpan();
			ProtocolParser.WriteUInt32((uint)num153, span130, 0);
		}
		if (instance.headData != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(9);
			BufferStream.RangeHandle range131 = stream.GetRange(5);
			int position131 = stream.Position;
			HeadData.Serialize(stream, instance.headData);
			int val34 = stream.Position - position131;
			Span<byte> span131 = range131.GetSpan();
			int num154 = ProtocolParser.WriteUInt32((uint)val34, span131, 0);
			if (num154 < 5)
			{
				span131[num154 - 1] |= 128;
				while (num154 < 4)
				{
					span131[num154++] = 128;
				}
				span131[4] = 0;
			}
		}
		if (instance.wantedPoster != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(9);
			BufferStream.RangeHandle range132 = stream.GetRange(5);
			int position132 = stream.Position;
			WantedPoster.Serialize(stream, instance.wantedPoster);
			int val35 = stream.Position - position132;
			Span<byte> span132 = range132.GetSpan();
			int num155 = ProtocolParser.WriteUInt32((uint)val35, span132, 0);
			if (num155 < 5)
			{
				span132[num155 - 1] |= 128;
				while (num155 < 4)
				{
					span132[num155++] = 128;
				}
				span132[4] = 0;
			}
		}
		if (instance.waypointRace != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(9);
			BufferStream.RangeHandle range133 = stream.GetRange(3);
			int position133 = stream.Position;
			WaypointRace.Serialize(stream, instance.waypointRace);
			int num156 = stream.Position - position133;
			if (num156 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field waypointRace (ProtoBuf.WaypointRace)");
			}
			Span<byte> span133 = range133.GetSpan();
			int num157 = ProtocolParser.WriteUInt32((uint)num156, span133, 0);
			if (num157 < 3)
			{
				span133[num157 - 1] |= 128;
				while (num157 < 2)
				{
					span133[num157++] = 128;
				}
				span133[2] = 0;
			}
		}
		if (instance.legacyShelter != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(9);
			BufferStream.RangeHandle range134 = stream.GetRange(1);
			int position134 = stream.Position;
			LegacyShelter.Serialize(stream, instance.legacyShelter);
			int num158 = stream.Position - position134;
			if (num158 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field legacyShelter (ProtoBuf.LegacyShelter)");
			}
			Span<byte> span134 = range134.GetSpan();
			ProtocolParser.WriteUInt32((uint)num158, span134, 0);
		}
		if (instance.metalDetectorSource != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(10);
			BufferStream.RangeHandle range135 = stream.GetRange(3);
			int position135 = stream.Position;
			MetalDetectorSource.Serialize(stream, instance.metalDetectorSource);
			int num159 = stream.Position - position135;
			if (num159 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field metalDetectorSource (ProtoBuf.MetalDetectorSource)");
			}
			Span<byte> span135 = range135.GetSpan();
			int num160 = ProtocolParser.WriteUInt32((uint)num159, span135, 0);
			if (num160 < 3)
			{
				span135[num160 - 1] |= 128;
				while (num160 < 2)
				{
					span135[num160++] = 128;
				}
				span135[2] = 0;
			}
		}
		if (instance.tutorialIsland != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(10);
			BufferStream.RangeHandle range136 = stream.GetRange(1);
			int position136 = stream.Position;
			TutorialIsland.Serialize(stream, instance.tutorialIsland);
			int num161 = stream.Position - position136;
			if (num161 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tutorialIsland (ProtoBuf.TutorialIsland)");
			}
			Span<byte> span136 = range136.GetSpan();
			ProtocolParser.WriteUInt32((uint)num161, span136, 0);
		}
		if (instance.cinematicEntity != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(10);
			BufferStream.RangeHandle range137 = stream.GetRange(1);
			int position137 = stream.Position;
			CinematicEntity.Serialize(stream, instance.cinematicEntity);
			int num162 = stream.Position - position137;
			if (num162 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cinematicEntity (ProtoBuf.CinematicEntity)");
			}
			Span<byte> span137 = range137.GetSpan();
			ProtocolParser.WriteUInt32((uint)num162, span137, 0);
		}
		if (instance.buildingPrivilegeRetro != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(10);
			BufferStream.RangeHandle range138 = stream.GetRange(3);
			int position138 = stream.Position;
			BuildingPrivilegeRetro.Serialize(stream, instance.buildingPrivilegeRetro);
			int num163 = stream.Position - position138;
			if (num163 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field buildingPrivilegeRetro (ProtoBuf.BuildingPrivilegeRetro)");
			}
			Span<byte> span138 = range138.GetSpan();
			int num164 = ProtocolParser.WriteUInt32((uint)num163, span138, 0);
			if (num164 < 3)
			{
				span138[num164 - 1] |= 128;
				while (num164 < 2)
				{
					span138[num164++] = 128;
				}
				span138[2] = 0;
			}
		}
		if (instance.harborCrane != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(10);
			BufferStream.RangeHandle range139 = stream.GetRange(3);
			int position139 = stream.Position;
			HarborCrane.Serialize(stream, instance.harborCrane);
			int num165 = stream.Position - position139;
			if (num165 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field harborCrane (ProtoBuf.HarborCrane)");
			}
			Span<byte> span139 = range139.GetSpan();
			int num166 = ProtocolParser.WriteUInt32((uint)num165, span139, 0);
			if (num166 < 3)
			{
				span139[num166 - 1] |= 128;
				while (num166 < 2)
				{
					span139[num166++] = 128;
				}
				span139[2] = 0;
			}
		}
		if (instance.cargoShip != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(10);
			BufferStream.RangeHandle range140 = stream.GetRange(3);
			int position140 = stream.Position;
			CargoShip.Serialize(stream, instance.cargoShip);
			int num167 = stream.Position - position140;
			if (num167 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShip (ProtoBuf.CargoShip)");
			}
			Span<byte> span140 = range140.GetSpan();
			int num168 = ProtocolParser.WriteUInt32((uint)num167, span140, 0);
			if (num168 < 3)
			{
				span140[num168 - 1] |= 128;
				while (num168 < 2)
				{
					span140[num168++] = 128;
				}
				span140[2] = 0;
			}
		}
		if (instance.cargoShipContainer != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(10);
			BufferStream.RangeHandle range141 = stream.GetRange(1);
			int position141 = stream.Position;
			CargoShipContainer.Serialize(stream, instance.cargoShipContainer);
			int num169 = stream.Position - position141;
			if (num169 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field cargoShipContainer (ProtoBuf.CargoShipContainer)");
			}
			Span<byte> span141 = range141.GetSpan();
			ProtocolParser.WriteUInt32((uint)num169, span141, 0);
		}
		if (instance.missionMapMarker != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(10);
			BufferStream.RangeHandle range142 = stream.GetRange(5);
			int position142 = stream.Position;
			MissionMapMarker.Serialize(stream, instance.missionMapMarker);
			int val36 = stream.Position - position142;
			Span<byte> span142 = range142.GetSpan();
			int num170 = ProtocolParser.WriteUInt32((uint)val36, span142, 0);
			if (num170 < 5)
			{
				span142[num170 - 1] |= 128;
				while (num170 < 4)
				{
					span142[num170++] = 128;
				}
				span142[4] = 0;
			}
		}
		if (instance.bike != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(10);
			BufferStream.RangeHandle range143 = stream.GetRange(1);
			int position143 = stream.Position;
			Bike.Serialize(stream, instance.bike);
			int num171 = stream.Position - position143;
			if (num171 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field bike (ProtoBuf.Bike)");
			}
			Span<byte> span143 = range143.GetSpan();
			ProtocolParser.WriteUInt32((uint)num171, span143, 0);
		}
		if (instance.diverPropulsionVehicle != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(10);
			BufferStream.RangeHandle range144 = stream.GetRange(1);
			int position144 = stream.Position;
			DiverPropulsionVehicle.Serialize(stream, instance.diverPropulsionVehicle);
			int num172 = stream.Position - position144;
			if (num172 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field diverPropulsionVehicle (ProtoBuf.DiverPropulsionVehicle)");
			}
			Span<byte> span144 = range144.GetSpan();
			ProtocolParser.WriteUInt32((uint)num172, span144, 0);
		}
		if (instance.travellingVendor != null)
		{
			stream.WriteByte(242);
			stream.WriteByte(10);
			BufferStream.RangeHandle range145 = stream.GetRange(1);
			int position145 = stream.Position;
			TravellingVendor.Serialize(stream, instance.travellingVendor);
			int num173 = stream.Position - position145;
			if (num173 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field travellingVendor (ProtoBuf.TravellingVendor)");
			}
			Span<byte> span145 = range145.GetSpan();
			ProtocolParser.WriteUInt32((uint)num173, span145, 0);
		}
		if (instance.vendingDynamicPricing != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(10);
			BufferStream.RangeHandle range146 = stream.GetRange(3);
			int position146 = stream.Position;
			VendingDynamicPricing.Serialize(stream, instance.vendingDynamicPricing);
			int num174 = stream.Position - position146;
			if (num174 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingDynamicPricing (ProtoBuf.VendingDynamicPricing)");
			}
			Span<byte> span146 = range146.GetSpan();
			int num175 = ProtocolParser.WriteUInt32((uint)num174, span146, 0);
			if (num175 < 3)
			{
				span146[num175 - 1] |= 128;
				while (num175 < 2)
				{
					span146[num175++] = 128;
				}
				span146[2] = 0;
			}
		}
		if (instance.tinCanAlarm != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(11);
			BufferStream.RangeHandle range147 = stream.GetRange(1);
			int position147 = stream.Position;
			TinCanAlarm.Serialize(stream, instance.tinCanAlarm);
			int num176 = stream.Position - position147;
			if (num176 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tinCanAlarm (ProtoBuf.TinCanAlarm)");
			}
			Span<byte> span147 = range147.GetSpan();
			ProtocolParser.WriteUInt32((uint)num176, span147, 0);
		}
		if (instance.digitalClock != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(11);
			BufferStream.RangeHandle range148 = stream.GetRange(3);
			int position148 = stream.Position;
			DigitalClock.Serialize(stream, instance.digitalClock);
			int num177 = stream.Position - position148;
			if (num177 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field digitalClock (ProtoBuf.DigitalClock)");
			}
			Span<byte> span148 = range148.GetSpan();
			int num178 = ProtocolParser.WriteUInt32((uint)num177, span148, 0);
			if (num178 < 3)
			{
				span148[num178 - 1] |= 128;
				while (num178 < 2)
				{
					span148[num178++] = 128;
				}
				span148[2] = 0;
			}
		}
		if (instance.elevatorLift != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(11);
			BufferStream.RangeHandle range149 = stream.GetRange(1);
			int position149 = stream.Position;
			ElevatorLift.Serialize(stream, instance.elevatorLift);
			int num179 = stream.Position - position149;
			if (num179 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field elevatorLift (ProtoBuf.ElevatorLift)");
			}
			Span<byte> span149 = range149.GetSpan();
			ProtocolParser.WriteUInt32((uint)num179, span149, 0);
		}
		if (instance.npcVendingMachine != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(11);
			BufferStream.RangeHandle range150 = stream.GetRange(1);
			int position150 = stream.Position;
			NPCVendingMachine.Serialize(stream, instance.npcVendingMachine);
			int num180 = stream.Position - position150;
			if (num180 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcVendingMachine (ProtoBuf.NPCVendingMachine)");
			}
			Span<byte> span150 = range150.GetSpan();
			ProtocolParser.WriteUInt32((uint)num180, span150, 0);
		}
		if (instance.mailbox != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(11);
			BufferStream.RangeHandle range151 = stream.GetRange(5);
			int position151 = stream.Position;
			Mailbox.Serialize(stream, instance.mailbox);
			int val37 = stream.Position - position151;
			Span<byte> span151 = range151.GetSpan();
			int num181 = ProtocolParser.WriteUInt32((uint)val37, span151, 0);
			if (num181 < 5)
			{
				span151[num181 - 1] |= 128;
				while (num181 < 4)
				{
					span151[num181++] = 128;
				}
				span151[4] = 0;
			}
		}
		if (instance.projectileWeaponMod != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(11);
			BufferStream.RangeHandle range152 = stream.GetRange(1);
			int position152 = stream.Position;
			GunWeaponMod.Serialize(stream, instance.projectileWeaponMod);
			int num182 = stream.Position - position152;
			if (num182 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field projectileWeaponMod (ProtoBuf.GunWeaponMod)");
			}
			Span<byte> span152 = range152.GetSpan();
			ProtocolParser.WriteUInt32((uint)num182, span152, 0);
		}
		if (instance.baseSculpture != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(11);
			BufferStream.RangeHandle range153 = stream.GetRange(1);
			int position153 = stream.Position;
			BaseSculpture.Serialize(stream, instance.baseSculpture);
			int num183 = stream.Position - position153;
			if (num183 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field baseSculpture (ProtoBuf.BaseSculpture)");
			}
			Span<byte> span153 = range153.GetSpan();
			ProtocolParser.WriteUInt32((uint)num183, span153, 0);
		}
		if (instance.vendingMachineStats != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(11);
			BufferStream.RangeHandle range154 = stream.GetRange(3);
			int position154 = stream.Position;
			VendingMachineStats.Serialize(stream, instance.vendingMachineStats);
			int num184 = stream.Position - position154;
			if (num184 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vendingMachineStats (ProtoBuf.VendingMachineStats)");
			}
			Span<byte> span154 = range154.GetSpan();
			int num185 = ProtocolParser.WriteUInt32((uint)num184, span154, 0);
			if (num185 < 3)
			{
				span154[num185 - 1] |= 128;
				while (num185 < 2)
				{
					span154[num185++] = 128;
				}
				span154[2] = 0;
			}
		}
		if (instance.catapult != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(11);
			BufferStream.RangeHandle range155 = stream.GetRange(1);
			int position155 = stream.Position;
			Catapult.Serialize(stream, instance.catapult);
			int num186 = stream.Position - position155;
			if (num186 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field catapult (ProtoBuf.Catapult)");
			}
			Span<byte> span155 = range155.GetSpan();
			ProtocolParser.WriteUInt32((uint)num186, span155, 0);
		}
		if (instance.siegeTower != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(11);
			BufferStream.RangeHandle range156 = stream.GetRange(1);
			int position156 = stream.Position;
			SiegeTower.Serialize(stream, instance.siegeTower);
			int num187 = stream.Position - position156;
			if (num187 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field siegeTower (ProtoBuf.SiegeTower)");
			}
			Span<byte> span156 = range156.GetSpan();
			ProtocolParser.WriteUInt32((uint)num187, span156, 0);
		}
		if (instance.ballista != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(11);
			BufferStream.RangeHandle range157 = stream.GetRange(1);
			int position157 = stream.Position;
			Ballista.Serialize(stream, instance.ballista);
			int num188 = stream.Position - position157;
			if (num188 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballista (ProtoBuf.Ballista)");
			}
			Span<byte> span157 = range157.GetSpan();
			ProtocolParser.WriteUInt32((uint)num188, span157, 0);
		}
		if (instance.ballistaGun != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(11);
			BufferStream.RangeHandle range158 = stream.GetRange(1);
			int position158 = stream.Position;
			BallistaGun.Serialize(stream, instance.ballistaGun);
			int num189 = stream.Position - position158;
			if (num189 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ballistaGun (ProtoBuf.BallistaGun)");
			}
			Span<byte> span158 = range158.GetSpan();
			ProtocolParser.WriteUInt32((uint)num189, span158, 0);
		}
		if (instance.batteringRam != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(11);
			BufferStream.RangeHandle range159 = stream.GetRange(1);
			int position159 = stream.Position;
			BatteringRam.Serialize(stream, instance.batteringRam);
			int num190 = stream.Position - position159;
			if (num190 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field batteringRam (ProtoBuf.BatteringRam)");
			}
			Span<byte> span159 = range159.GetSpan();
			ProtocolParser.WriteUInt32((uint)num190, span159, 0);
		}
		if (instance.temporaryRagdoll != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(11);
			BufferStream.RangeHandle range160 = stream.GetRange(1);
			int position160 = stream.Position;
			TemporaryRagdoll.Serialize(stream, instance.temporaryRagdoll);
			int num191 = stream.Position - position160;
			if (num191 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field temporaryRagdoll (ProtoBuf.TemporaryRagdoll)");
			}
			Span<byte> span160 = range160.GetSpan();
			ProtocolParser.WriteUInt32((uint)num191, span160, 0);
		}
		if (instance.constructableEntity != null)
		{
			stream.WriteByte(250);
			stream.WriteByte(11);
			BufferStream.RangeHandle range161 = stream.GetRange(3);
			int position161 = stream.Position;
			ConstructableEntity.Serialize(stream, instance.constructableEntity);
			int num192 = stream.Position - position161;
			if (num192 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field constructableEntity (ProtoBuf.ConstructableEntity)");
			}
			Span<byte> span161 = range161.GetSpan();
			int num193 = ProtocolParser.WriteUInt32((uint)num192, span161, 0);
			if (num193 < 3)
			{
				span161[num193 - 1] |= 128;
				while (num193 < 2)
				{
					span161[num193++] = 128;
				}
				span161[2] = 0;
			}
		}
		if (instance.chickenCoop != null)
		{
			stream.WriteByte(130);
			stream.WriteByte(12);
			BufferStream.RangeHandle range162 = stream.GetRange(3);
			int position162 = stream.Position;
			ChickenCoop.Serialize(stream, instance.chickenCoop);
			int num194 = stream.Position - position162;
			if (num194 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field chickenCoop (ProtoBuf.ChickenCoop)");
			}
			Span<byte> span162 = range162.GetSpan();
			int num195 = ProtocolParser.WriteUInt32((uint)num194, span162, 0);
			if (num195 < 3)
			{
				span162[num195 - 1] |= 128;
				while (num195 < 2)
				{
					span162[num195++] = 128;
				}
				span162[2] = 0;
			}
		}
		if (instance.farmableAnimal != null)
		{
			stream.WriteByte(138);
			stream.WriteByte(12);
			BufferStream.RangeHandle range163 = stream.GetRange(5);
			int position163 = stream.Position;
			FarmableAnimal.Serialize(stream, instance.farmableAnimal);
			int val38 = stream.Position - position163;
			Span<byte> span163 = range163.GetSpan();
			int num196 = ProtocolParser.WriteUInt32((uint)val38, span163, 0);
			if (num196 < 5)
			{
				span163[num196 - 1] |= 128;
				while (num196 < 4)
				{
					span163[num196++] = 128;
				}
				span163[4] = 0;
			}
		}
		if (instance.ownership != null)
		{
			stream.WriteByte(146);
			stream.WriteByte(12);
			BufferStream.RangeHandle range164 = stream.GetRange(5);
			int position164 = stream.Position;
			ItemOwnershipAmount.Serialize(stream, instance.ownership);
			int val39 = stream.Position - position164;
			Span<byte> span164 = range164.GetSpan();
			int num197 = ProtocolParser.WriteUInt32((uint)val39, span164, 0);
			if (num197 < 5)
			{
				span164[num197 - 1] |= 128;
				while (num197 < 4)
				{
					span164[num197++] = 128;
				}
				span164[4] = 0;
			}
		}
		if (instance.beehive != null)
		{
			stream.WriteByte(154);
			stream.WriteByte(12);
			BufferStream.RangeHandle range165 = stream.GetRange(1);
			int position165 = stream.Position;
			Beehive.Serialize(stream, instance.beehive);
			int num198 = stream.Position - position165;
			if (num198 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beehive (ProtoBuf.Beehive)");
			}
			Span<byte> span165 = range165.GetSpan();
			ProtocolParser.WriteUInt32((uint)num198, span165, 0);
		}
		if (instance.beeMasterSwarm != null)
		{
			stream.WriteByte(162);
			stream.WriteByte(12);
			BufferStream.RangeHandle range166 = stream.GetRange(1);
			int position166 = stream.Position;
			BeeMasterSwarm.Serialize(stream, instance.beeMasterSwarm);
			int num199 = stream.Position - position166;
			if (num199 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field beeMasterSwarm (ProtoBuf.BeeMasterSwarm)");
			}
			Span<byte> span166 = range166.GetSpan();
			ProtocolParser.WriteUInt32((uint)num199, span166, 0);
		}
		if (instance.containerCorpse != null)
		{
			stream.WriteByte(170);
			stream.WriteByte(12);
			BufferStream.RangeHandle range167 = stream.GetRange(5);
			int position167 = stream.Position;
			ContainerCorpseData.Serialize(stream, instance.containerCorpse);
			int val40 = stream.Position - position167;
			Span<byte> span167 = range167.GetSpan();
			int num200 = ProtocolParser.WriteUInt32((uint)val40, span167, 0);
			if (num200 < 5)
			{
				span167[num200 - 1] |= 128;
				while (num200 < 4)
				{
					span167[num200++] = 128;
				}
				span167[4] = 0;
			}
		}
		if (instance.npcSensesState != null)
		{
			stream.WriteByte(178);
			stream.WriteByte(12);
			BufferStream.RangeHandle range168 = stream.GetRange(1);
			int position168 = stream.Position;
			NPCSensesState.Serialize(stream, instance.npcSensesState);
			int num201 = stream.Position - position168;
			if (num201 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field npcSensesState (ProtoBuf.NPCSensesState)");
			}
			Span<byte> span168 = range168.GetSpan();
			ProtocolParser.WriteUInt32((uint)num201, span168, 0);
		}
		if (instance.vineMountable != null)
		{
			stream.WriteByte(186);
			stream.WriteByte(12);
			BufferStream.RangeHandle range169 = stream.GetRange(3);
			int position169 = stream.Position;
			VineMountable.Serialize(stream, instance.vineMountable);
			int num202 = stream.Position - position169;
			if (num202 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineMountable (ProtoBuf.VineMountable)");
			}
			Span<byte> span169 = range169.GetSpan();
			int num203 = ProtocolParser.WriteUInt32((uint)num202, span169, 0);
			if (num203 < 3)
			{
				span169[num203 - 1] |= 128;
				while (num203 < 2)
				{
					span169[num203++] = 128;
				}
				span169[2] = 0;
			}
		}
		if (instance.vineTree != null)
		{
			stream.WriteByte(194);
			stream.WriteByte(12);
			BufferStream.RangeHandle range170 = stream.GetRange(3);
			int position170 = stream.Position;
			VineTree.Serialize(stream, instance.vineTree);
			int num204 = stream.Position - position170;
			if (num204 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field vineTree (ProtoBuf.VineTree)");
			}
			Span<byte> span170 = range170.GetSpan();
			int num205 = ProtocolParser.WriteUInt32((uint)num204, span170, 0);
			if (num205 < 3)
			{
				span170[num205 - 1] |= 128;
				while (num205 < 2)
				{
					span170[num205++] = 128;
				}
				span170[2] = 0;
			}
		}
		if (instance.treeRespawn != null)
		{
			stream.WriteByte(202);
			stream.WriteByte(12);
			BufferStream.RangeHandle range171 = stream.GetRange(1);
			int position171 = stream.Position;
			TreeRespawn.Serialize(stream, instance.treeRespawn);
			int num206 = stream.Position - position171;
			if (num206 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field treeRespawn (ProtoBuf.TreeRespawn)");
			}
			Span<byte> span171 = range171.GetSpan();
			ProtocolParser.WriteUInt32((uint)num206, span171, 0);
		}
		if (instance.wallpaperTool != null)
		{
			stream.WriteByte(210);
			stream.WriteByte(12);
			BufferStream.RangeHandle range172 = stream.GetRange(1);
			int position172 = stream.Position;
			WallpaperTool.Serialize(stream, instance.wallpaperTool);
			int num207 = stream.Position - position172;
			if (num207 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field wallpaperTool (ProtoBuf.WallpaperTool)");
			}
			Span<byte> span172 = range172.GetSpan();
			ProtocolParser.WriteUInt32((uint)num207, span172, 0);
		}
		if (instance.commandBlock != null)
		{
			stream.WriteByte(218);
			stream.WriteByte(12);
			BufferStream.RangeHandle range173 = stream.GetRange(5);
			int position173 = stream.Position;
			CommandBlock.Serialize(stream, instance.commandBlock);
			int val41 = stream.Position - position173;
			Span<byte> span173 = range173.GetSpan();
			int num208 = ProtocolParser.WriteUInt32((uint)val41, span173, 0);
			if (num208 < 5)
			{
				span173[num208 - 1] |= 128;
				while (num208 < 4)
				{
					span173[num208++] = 128;
				}
				span173[4] = 0;
			}
		}
		if (instance.staticRespawn != null)
		{
			stream.WriteByte(226);
			stream.WriteByte(12);
			BufferStream.RangeHandle range174 = stream.GetRange(3);
			int position174 = stream.Position;
			StaticRespawnAreaData.Serialize(stream, instance.staticRespawn);
			int num209 = stream.Position - position174;
			if (num209 > 2097151)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field staticRespawn (ProtoBuf.StaticRespawnAreaData)");
			}
			Span<byte> span174 = range174.GetSpan();
			int num210 = ProtocolParser.WriteUInt32((uint)num209, span174, 0);
			if (num210 < 3)
			{
				span174[num210 - 1] |= 128;
				while (num210 < 2)
				{
					span174[num210++] = 128;
				}
				span174[2] = 0;
			}
		}
		if (instance.buriedItemStorage != null)
		{
			stream.WriteByte(234);
			stream.WriteByte(12);
			BufferStream.RangeHandle range175 = stream.GetRange(5);
			int position175 = stream.Position;
			BuriedItems.Serialize(stream, instance.buriedItemStorage);
			int val42 = stream.Position - position175;
			Span<byte> span175 = range175.GetSpan();
			int num211 = ProtocolParser.WriteUInt32((uint)val42, span175, 0);
			if (num211 < 5)
			{
				span175[num211 - 1] |= 128;
				while (num211 < 4)
				{
					span175[num211++] = 128;
				}
				span175[4] = 0;
			}
		}
		if (instance.mannequin == null)
		{
			return;
		}
		stream.WriteByte(242);
		stream.WriteByte(12);
		BufferStream.RangeHandle range176 = stream.GetRange(3);
		int position176 = stream.Position;
		Mannequin.Serialize(stream, instance.mannequin);
		int num212 = stream.Position - position176;
		if (num212 > 2097151)
		{
			throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mannequin (ProtoBuf.Mannequin)");
		}
		Span<byte> span176 = range176.GetSpan();
		int num213 = ProtocolParser.WriteUInt32((uint)num212, span176, 0);
		if (num213 < 3)
		{
			span176[num213 - 1] |= 128;
			while (num213 < 2)
			{
				span176[num213++] = 128;
			}
			span176[2] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		baseNetworkable?.InspectUids(action);
		baseEntity?.InspectUids(action);
		basePlayer?.InspectUids(action);
		worldItem?.InspectUids(action);
		resource?.InspectUids(action);
		buildingBlock?.InspectUids(action);
		environment?.InspectUids(action);
		corpse?.InspectUids(action);
		parent?.InspectUids(action);
		keyLock?.InspectUids(action);
		codeLock?.InspectUids(action);
		entitySlots?.InspectUids(action);
		buildingPrivilege?.InspectUids(action);
		storageBox?.InspectUids(action);
		heldEntity?.InspectUids(action);
		baseProjectile?.InspectUids(action);
		baseNPC?.InspectUids(action);
		loot?.InspectUids(action);
		genericSpawner?.InspectUids(action);
		sleepingBag?.InspectUids(action);
		lootableCorpse?.InspectUids(action);
		sign?.InspectUids(action);
		baseCombat?.InspectUids(action);
		mapEntity?.InspectUids(action);
		researchTable?.InspectUids(action);
		dudExplosive?.InspectUids(action);
		miningQuarry?.InspectUids(action);
		baseVehicle?.InspectUids(action);
		helicopter?.InspectUids(action);
		landmine?.InspectUids(action);
		autoturret?.InspectUids(action);
		sphereEntity?.InspectUids(action);
		stabilityEntity?.InspectUids(action);
		ownerInfo?.InspectUids(action);
		decayEntity?.InspectUids(action);
		spawnable?.InspectUids(action);
		servergib?.InspectUids(action);
		vendingMachine?.InspectUids(action);
		spinnerWheel?.InspectUids(action);
		lift?.InspectUids(action);
		bradley?.InspectUids(action);
		waterwell?.InspectUids(action);
		motorBoat?.InspectUids(action);
		ioEntity?.InspectUids(action);
		puzzleReset?.InspectUids(action);
		relationshipManager?.InspectUids(action);
		hotAirBalloon?.InspectUids(action);
		samSite?.InspectUids(action);
		eggHunt?.InspectUids(action);
		arcadeMachine?.InspectUids(action);
		miniCopter?.InspectUids(action);
		horse?.InspectUids(action);
		smartAlarm?.InspectUids(action);
		lightString?.InspectUids(action);
		lightDeployer?.InspectUids(action);
		rcEntity?.InspectUids(action);
		computerStation?.InspectUids(action);
		growableEntity?.InspectUids(action);
		composter?.InspectUids(action);
		modularVehicle?.InspectUids(action);
		modularCar?.InspectUids(action);
		simpleUID?.InspectUids(action);
		vehicleLift?.InspectUids(action);
		engineStorage?.InspectUids(action);
		vehicleVendor?.InspectUids(action);
		WaterPool?.InspectUids(action);
		photo?.InspectUids(action);
		photoFrame?.InspectUids(action);
		vehicleModule?.InspectUids(action);
		mixingTable?.InspectUids(action);
		shopKeeper?.InspectUids(action);
		elevator?.InspectUids(action);
		skullTrophy?.InspectUids(action);
		cassette?.InspectUids(action);
		telephone?.InspectUids(action);
		boomBox?.InspectUids(action);
		neonSign?.InspectUids(action);
		subEntityList?.InspectUids(action);
		marketTerminal?.InspectUids(action);
		deliveryDrone?.InspectUids(action);
		reclaimTerminal?.InspectUids(action);
		slotMachine?.InspectUids(action);
		trainEngine?.InspectUids(action);
		cardGame?.InspectUids(action);
		crane?.InspectUids(action);
		connectedSpeaker?.InspectUids(action);
		audioEntity?.InspectUids(action);
		microphoneStand?.InspectUids(action);
		submarine?.InspectUids(action);
		sleepingBagCamper?.InspectUids(action);
		camperModule?.InspectUids(action);
		paintableSign?.InspectUids(action);
		whitelist?.InspectUids(action);
		FrankensteinTable?.InspectUids(action);
		mlrs?.InspectUids(action);
		reclaimManager?.InspectUids(action);
		gameMode?.InspectUids(action);
		snowmobile?.InspectUids(action);
		patternFirework?.InspectUids(action);
		cargoPlane?.InspectUids(action);
		paintedItem?.InspectUids(action);
		clanManager?.InspectUids(action);
		spray?.InspectUids(action);
		baseTrain?.InspectUids(action);
		zipline?.InspectUids(action);
		ziplineMountable?.InspectUids(action);
		ZiplineArrival?.InspectUids(action);
		sprayLine?.InspectUids(action);
		coalingTower?.InspectUids(action);
		simpleInt?.InspectUids(action);
		baseOven?.InspectUids(action);
		brainComponent?.InspectUids(action);
		proceduralDungeon?.InspectUids(action);
		industrialConveyor?.InspectUids(action);
		industrialCrafter?.InspectUids(action);
		drone?.InspectUids(action);
		explosive?.InspectUids(action);
		simpleUint?.InspectUids(action);
		weaponRack?.InspectUids(action);
		attackHeli?.InspectUids(action);
		attackHeliTurret?.InspectUids(action);
		attackHeliRockets?.InspectUids(action);
		baseBoat?.InspectUids(action);
		ragdoll?.InspectUids(action);
		dieselEngine?.InspectUids(action);
		associatedFiles?.InspectUids(action);
		nexusFerry?.InspectUids(action);
		nexusIsland?.InspectUids(action);
		nexusDockTerminal?.InspectUids(action);
		rockingChair?.InspectUids(action);
		headData?.InspectUids(action);
		wantedPoster?.InspectUids(action);
		waypointRace?.InspectUids(action);
		legacyShelter?.InspectUids(action);
		metalDetectorSource?.InspectUids(action);
		tutorialIsland?.InspectUids(action);
		cinematicEntity?.InspectUids(action);
		buildingPrivilegeRetro?.InspectUids(action);
		harborCrane?.InspectUids(action);
		cargoShip?.InspectUids(action);
		cargoShipContainer?.InspectUids(action);
		missionMapMarker?.InspectUids(action);
		bike?.InspectUids(action);
		diverPropulsionVehicle?.InspectUids(action);
		travellingVendor?.InspectUids(action);
		vendingDynamicPricing?.InspectUids(action);
		tinCanAlarm?.InspectUids(action);
		digitalClock?.InspectUids(action);
		elevatorLift?.InspectUids(action);
		npcVendingMachine?.InspectUids(action);
		mailbox?.InspectUids(action);
		projectileWeaponMod?.InspectUids(action);
		baseSculpture?.InspectUids(action);
		vendingMachineStats?.InspectUids(action);
		catapult?.InspectUids(action);
		siegeTower?.InspectUids(action);
		ballista?.InspectUids(action);
		ballistaGun?.InspectUids(action);
		batteringRam?.InspectUids(action);
		temporaryRagdoll?.InspectUids(action);
		constructableEntity?.InspectUids(action);
		chickenCoop?.InspectUids(action);
		farmableAnimal?.InspectUids(action);
		ownership?.InspectUids(action);
		beehive?.InspectUids(action);
		beeMasterSwarm?.InspectUids(action);
		containerCorpse?.InspectUids(action);
		npcSensesState?.InspectUids(action);
		vineMountable?.InspectUids(action);
		vineTree?.InspectUids(action);
		treeRespawn?.InspectUids(action);
		wallpaperTool?.InspectUids(action);
		commandBlock?.InspectUids(action);
		staticRespawn?.InspectUids(action);
		buriedItemStorage?.InspectUids(action);
		mannequin?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class BuriedItems : IDisposable, IPooled, IProto<BuriedItems>, IProto
{
	public class StoredBuriedItem : IDisposable, IPooled, IProto<StoredBuriedItem>, IProto
	{
		[NonSerialized]
		public int itemId;

		[NonSerialized]
		public ItemOwnershipAmount ownership;

		[NonSerialized]
		public ulong skinId;

		[NonSerialized]
		public long expiryTimeDiff;

		[NonSerialized]
		public Vector2 location;

		[NonSerialized]
		public float condition;

		[NonSerialized]
		public ulong uid;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(StoredBuriedItem instance)
		{
			//IL_0040: Unknown result type (might be due to invalid IL or missing references)
			if (instance.ShouldPool)
			{
				instance.itemId = 0;
				if (instance.ownership != null)
				{
					instance.ownership.ResetToPool();
					instance.ownership = null;
				}
				instance.skinId = 0uL;
				instance.expiryTimeDiff = 0L;
				instance.location = default(Vector2);
				instance.condition = 0f;
				instance.uid = 0uL;
				Pool.Free<StoredBuriedItem>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose StoredBuriedItem with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(StoredBuriedItem instance)
		{
			//IL_0063: Unknown result type (might be due to invalid IL or missing references)
			//IL_0068: Unknown result type (might be due to invalid IL or missing references)
			instance.itemId = itemId;
			if (ownership != null)
			{
				if (instance.ownership == null)
				{
					instance.ownership = ownership.Copy();
				}
				else
				{
					ownership.CopyTo(instance.ownership);
				}
			}
			else
			{
				instance.ownership = null;
			}
			instance.skinId = skinId;
			instance.expiryTimeDiff = expiryTimeDiff;
			instance.location = location;
			instance.condition = condition;
			instance.uid = uid;
		}

		public StoredBuriedItem Copy()
		{
			StoredBuriedItem storedBuriedItem = Pool.Get<StoredBuriedItem>();
			CopyTo(storedBuriedItem);
			return storedBuriedItem;
		}

		public static StoredBuriedItem Deserialize(BufferStream stream)
		{
			StoredBuriedItem storedBuriedItem = Pool.Get<StoredBuriedItem>();
			Deserialize(stream, storedBuriedItem, isDelta: false);
			return storedBuriedItem;
		}

		public static StoredBuriedItem DeserializeLengthDelimited(BufferStream stream)
		{
			StoredBuriedItem storedBuriedItem = Pool.Get<StoredBuriedItem>();
			DeserializeLengthDelimited(stream, storedBuriedItem, isDelta: false);
			return storedBuriedItem;
		}

		public static StoredBuriedItem DeserializeLength(BufferStream stream, int length)
		{
			StoredBuriedItem storedBuriedItem = Pool.Get<StoredBuriedItem>();
			DeserializeLength(stream, length, storedBuriedItem, isDelta: false);
			return storedBuriedItem;
		}

		public static StoredBuriedItem Deserialize(byte[] buffer)
		{
			StoredBuriedItem storedBuriedItem = Pool.Get<StoredBuriedItem>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, storedBuriedItem, isDelta: false);
			return storedBuriedItem;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, StoredBuriedItem previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static StoredBuriedItem Deserialize(BufferStream stream, StoredBuriedItem instance, bool isDelta)
		{
			//IL_00b6: Unknown result type (might be due to invalid IL or missing references)
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.itemId = (int)ProtocolParser.ReadUInt64(stream);
					break;
				case 18:
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
					break;
				case 24:
					instance.skinId = ProtocolParser.ReadUInt64(stream);
					break;
				case 32:
					instance.expiryTimeDiff = (long)ProtocolParser.ReadUInt64(stream);
					break;
				case 42:
					Vector2Serialized.DeserializeLengthDelimited(stream, ref instance.location, isDelta);
					break;
				case 53:
					instance.condition = ProtocolParser.ReadSingle(stream);
					break;
				case 56:
					instance.uid = ProtocolParser.ReadUInt64(stream);
					break;
				default:
				{
					Key key = ProtocolParser.ReadKey((byte)num, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
					break;
				}
				case -1:
				case 0:
					return instance;
				}
			}
		}

		public static StoredBuriedItem DeserializeLengthDelimited(BufferStream stream, StoredBuriedItem instance, bool isDelta)
		{
			//IL_00f0: Unknown result type (might be due to invalid IL or missing references)
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemId = (int)ProtocolParser.ReadUInt64(stream);
					break;
				case 18:
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
					break;
				case 24:
					instance.skinId = ProtocolParser.ReadUInt64(stream);
					break;
				case 32:
					instance.expiryTimeDiff = (long)ProtocolParser.ReadUInt64(stream);
					break;
				case 42:
					Vector2Serialized.DeserializeLengthDelimited(stream, ref instance.location, isDelta);
					break;
				case 53:
					instance.condition = ProtocolParser.ReadSingle(stream);
					break;
				case 56:
					instance.uid = ProtocolParser.ReadUInt64(stream);
					break;
				default:
				{
					Key key = ProtocolParser.ReadKey((byte)num2, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
					break;
				}
				}
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static StoredBuriedItem DeserializeLength(BufferStream stream, int length, StoredBuriedItem instance, bool isDelta)
		{
			//IL_00e8: Unknown result type (might be due to invalid IL or missing references)
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemId = (int)ProtocolParser.ReadUInt64(stream);
					break;
				case 18:
					if (instance.ownership == null)
					{
						instance.ownership = ItemOwnershipAmount.DeserializeLengthDelimited(stream);
					}
					else
					{
						ItemOwnershipAmount.DeserializeLengthDelimited(stream, instance.ownership, isDelta);
					}
					break;
				case 24:
					instance.skinId = ProtocolParser.ReadUInt64(stream);
					break;
				case 32:
					instance.expiryTimeDiff = (long)ProtocolParser.ReadUInt64(stream);
					break;
				case 42:
					Vector2Serialized.DeserializeLengthDelimited(stream, ref instance.location, isDelta);
					break;
				case 53:
					instance.condition = ProtocolParser.ReadSingle(stream);
					break;
				case 56:
					instance.uid = ProtocolParser.ReadUInt64(stream);
					break;
				default:
				{
					Key key = ProtocolParser.ReadKey((byte)num2, stream);
					_ = key.Field;
					ProtocolParser.SkipKey(stream, key);
					break;
				}
				}
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, StoredBuriedItem instance, StoredBuriedItem previous)
		{
			//IL_00dc: Unknown result type (might be due to invalid IL or missing references)
			//IL_00e2: Unknown result type (might be due to invalid IL or missing references)
			//IL_0109: Unknown result type (might be due to invalid IL or missing references)
			//IL_010f: Unknown result type (might be due to invalid IL or missing references)
			if (instance.itemId != previous.itemId)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemId);
			}
			if (instance.ownership != null)
			{
				stream.WriteByte(18);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				ItemOwnershipAmount.SerializeDelta(stream, instance.ownership, previous.ownership);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
			if (instance.skinId != previous.skinId)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, instance.skinId);
			}
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.expiryTimeDiff);
			if (instance.location != previous.location)
			{
				stream.WriteByte(42);
				BufferStream.RangeHandle range2 = stream.GetRange(1);
				int position2 = stream.Position;
				Vector2Serialized.SerializeDelta(stream, instance.location, previous.location);
				int num2 = stream.Position - position2;
				if (num2 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field location (UnityEngine.Vector2)");
				}
				Span<byte> span2 = range2.GetSpan();
				ProtocolParser.WriteUInt32((uint)num2, span2, 0);
			}
			if (instance.condition != previous.condition)
			{
				stream.WriteByte(53);
				ProtocolParser.WriteSingle(stream, instance.condition);
			}
			if (instance.uid != previous.uid)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, instance.uid);
			}
		}

		public static void Serialize(BufferStream stream, StoredBuriedItem instance)
		{
			//IL_00d2: Unknown result type (might be due to invalid IL or missing references)
			//IL_00d9: Unknown result type (might be due to invalid IL or missing references)
			//IL_00df: Unknown result type (might be due to invalid IL or missing references)
			//IL_0103: Unknown result type (might be due to invalid IL or missing references)
			if (instance.itemId != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemId);
			}
			if (instance.ownership != null)
			{
				stream.WriteByte(18);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				ItemOwnershipAmount.Serialize(stream, instance.ownership);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
			if (instance.skinId != 0L)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, instance.skinId);
			}
			if (instance.expiryTimeDiff != 0L)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.expiryTimeDiff);
			}
			if (instance.location != default(Vector2))
			{
				stream.WriteByte(42);
				BufferStream.RangeHandle range2 = stream.GetRange(1);
				int position2 = stream.Position;
				Vector2Serialized.Serialize(stream, instance.location);
				int num2 = stream.Position - position2;
				if (num2 > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field location (UnityEngine.Vector2)");
				}
				Span<byte> span2 = range2.GetSpan();
				ProtocolParser.WriteUInt32((uint)num2, span2, 0);
			}
			if (instance.condition != 0f)
			{
				stream.WriteByte(53);
				ProtocolParser.WriteSingle(stream, instance.condition);
			}
			if (instance.uid != 0L)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteUInt64(stream, instance.uid);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			ownership?.InspectUids(action);
		}
	}

	[NonSerialized]
	public List<StoredBuriedItem> buriedItems;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BuriedItems instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.buriedItems != null)
		{
			for (int i = 0; i < instance.buriedItems.Count; i++)
			{
				if (instance.buriedItems[i] != null)
				{
					instance.buriedItems[i].ResetToPool();
					instance.buriedItems[i] = null;
				}
			}
			List<StoredBuriedItem> list = instance.buriedItems;
			Pool.Free<StoredBuriedItem>(ref list, false);
			instance.buriedItems = list;
		}
		Pool.Free<BuriedItems>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BuriedItems with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BuriedItems instance)
	{
		if (buriedItems != null)
		{
			instance.buriedItems = Pool.Get<List<StoredBuriedItem>>();
			for (int i = 0; i < buriedItems.Count; i++)
			{
				StoredBuriedItem item = buriedItems[i].Copy();
				instance.buriedItems.Add(item);
			}
		}
		else
		{
			instance.buriedItems = null;
		}
	}

	public BuriedItems Copy()
	{
		BuriedItems buriedItems = Pool.Get<BuriedItems>();
		CopyTo(buriedItems);
		return buriedItems;
	}

	public static BuriedItems Deserialize(BufferStream stream)
	{
		BuriedItems buriedItems = Pool.Get<BuriedItems>();
		Deserialize(stream, buriedItems, isDelta: false);
		return buriedItems;
	}

	public static BuriedItems DeserializeLengthDelimited(BufferStream stream)
	{
		BuriedItems buriedItems = Pool.Get<BuriedItems>();
		DeserializeLengthDelimited(stream, buriedItems, isDelta: false);
		return buriedItems;
	}

	public static BuriedItems DeserializeLength(BufferStream stream, int length)
	{
		BuriedItems buriedItems = Pool.Get<BuriedItems>();
		DeserializeLength(stream, length, buriedItems, isDelta: false);
		return buriedItems;
	}

	public static BuriedItems Deserialize(byte[] buffer)
	{
		BuriedItems buriedItems = Pool.Get<BuriedItems>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, buriedItems, isDelta: false);
		return buriedItems;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BuriedItems previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BuriedItems Deserialize(BufferStream stream, BuriedItems instance, bool isDelta)
	{
		if (!isDelta && instance.buriedItems == null)
		{
			instance.buriedItems = Pool.Get<List<StoredBuriedItem>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.buriedItems.Add(StoredBuriedItem.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BuriedItems DeserializeLengthDelimited(BufferStream stream, BuriedItems instance, bool isDelta)
	{
		if (!isDelta && instance.buriedItems == null)
		{
			instance.buriedItems = Pool.Get<List<StoredBuriedItem>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.buriedItems.Add(StoredBuriedItem.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BuriedItems DeserializeLength(BufferStream stream, int length, BuriedItems instance, bool isDelta)
	{
		if (!isDelta && instance.buriedItems == null)
		{
			instance.buriedItems = Pool.Get<List<StoredBuriedItem>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.buriedItems.Add(StoredBuriedItem.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BuriedItems instance, BuriedItems previous)
	{
		if (instance.buriedItems == null)
		{
			return;
		}
		for (int i = 0; i < instance.buriedItems.Count; i++)
		{
			StoredBuriedItem storedBuriedItem = instance.buriedItems[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			StoredBuriedItem.SerializeDelta(stream, storedBuriedItem, storedBuriedItem);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
	}

	public static void Serialize(BufferStream stream, BuriedItems instance)
	{
		if (instance.buriedItems == null)
		{
			return;
		}
		for (int i = 0; i < instance.buriedItems.Count; i++)
		{
			StoredBuriedItem instance2 = instance.buriedItems[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			StoredBuriedItem.Serialize(stream, instance2);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (buriedItems != null)
		{
			for (int i = 0; i < buriedItems.Count; i++)
			{
				buriedItems[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BaseNetworkable : IDisposable, IPooled, IProto<BaseNetworkable>, IProto
{
	[NonSerialized]
	public NetworkableId uid;

	[NonSerialized]
	public uint group;

	[NonSerialized]
	public uint prefabID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseNetworkable instance)
	{
		if (instance.ShouldPool)
		{
			instance.uid = default(NetworkableId);
			instance.group = 0u;
			instance.prefabID = 0u;
			Pool.Free<BaseNetworkable>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseNetworkable with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseNetworkable instance)
	{
		instance.uid = uid;
		instance.group = group;
		instance.prefabID = prefabID;
	}

	public BaseNetworkable Copy()
	{
		BaseNetworkable baseNetworkable = Pool.Get<BaseNetworkable>();
		CopyTo(baseNetworkable);
		return baseNetworkable;
	}

	public static BaseNetworkable Deserialize(BufferStream stream)
	{
		BaseNetworkable baseNetworkable = Pool.Get<BaseNetworkable>();
		Deserialize(stream, baseNetworkable, isDelta: false);
		return baseNetworkable;
	}

	public static BaseNetworkable DeserializeLengthDelimited(BufferStream stream)
	{
		BaseNetworkable baseNetworkable = Pool.Get<BaseNetworkable>();
		DeserializeLengthDelimited(stream, baseNetworkable, isDelta: false);
		return baseNetworkable;
	}

	public static BaseNetworkable DeserializeLength(BufferStream stream, int length)
	{
		BaseNetworkable baseNetworkable = Pool.Get<BaseNetworkable>();
		DeserializeLength(stream, length, baseNetworkable, isDelta: false);
		return baseNetworkable;
	}

	public static BaseNetworkable Deserialize(byte[] buffer)
	{
		BaseNetworkable baseNetworkable = Pool.Get<BaseNetworkable>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseNetworkable, isDelta: false);
		return baseNetworkable;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseNetworkable previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseNetworkable Deserialize(BufferStream stream, BaseNetworkable instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.group = ProtocolParser.ReadUInt32(stream);
				continue;
			case 24:
				instance.prefabID = ProtocolParser.ReadUInt32(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BaseNetworkable DeserializeLengthDelimited(BufferStream stream, BaseNetworkable instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.group = ProtocolParser.ReadUInt32(stream);
				continue;
			case 24:
				instance.prefabID = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseNetworkable DeserializeLength(BufferStream stream, int length, BaseNetworkable instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.group = ProtocolParser.ReadUInt32(stream);
				continue;
			case 24:
				instance.prefabID = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseNetworkable instance, BaseNetworkable previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.uid.Value);
		if (instance.group != previous.group)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.group);
		}
		if (instance.prefabID != previous.prefabID)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.prefabID);
		}
	}

	public static void Serialize(BufferStream stream, BaseNetworkable instance)
	{
		if (instance.uid != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.uid.Value);
		}
		if (instance.group != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.group);
		}
		if (instance.prefabID != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.prefabID);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref uid.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class BaseEntity : IDisposable, IPooled, IProto<BaseEntity>, IProto
{
	[NonSerialized]
	public Vector3 pos;

	[NonSerialized]
	public Vector3 rot;

	[NonSerialized]
	public int flags;

	[NonSerialized]
	public float time;

	[NonSerialized]
	public ulong skinid;

	[NonSerialized]
	public float protection;

	[NonSerialized]
	public byte[] syncVars;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseEntity instance)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		//IL_001b: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.pos = default(Vector3);
			instance.rot = default(Vector3);
			instance.flags = 0;
			instance.time = 0f;
			instance.skinid = 0uL;
			instance.protection = 0f;
			instance.syncVars = null;
			Pool.Free<BaseEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseEntity instance)
	{
		//IL_0002: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0013: Unknown result type (might be due to invalid IL or missing references)
		instance.pos = pos;
		instance.rot = rot;
		instance.flags = flags;
		instance.time = time;
		instance.skinid = skinid;
		instance.protection = protection;
		if (syncVars == null)
		{
			instance.syncVars = null;
			return;
		}
		instance.syncVars = new byte[syncVars.Length];
		Array.Copy(syncVars, instance.syncVars, instance.syncVars.Length);
	}

	public BaseEntity Copy()
	{
		BaseEntity baseEntity = Pool.Get<BaseEntity>();
		CopyTo(baseEntity);
		return baseEntity;
	}

	public static BaseEntity Deserialize(BufferStream stream)
	{
		BaseEntity baseEntity = Pool.Get<BaseEntity>();
		Deserialize(stream, baseEntity, isDelta: false);
		return baseEntity;
	}

	public static BaseEntity DeserializeLengthDelimited(BufferStream stream)
	{
		BaseEntity baseEntity = Pool.Get<BaseEntity>();
		DeserializeLengthDelimited(stream, baseEntity, isDelta: false);
		return baseEntity;
	}

	public static BaseEntity DeserializeLength(BufferStream stream, int length)
	{
		BaseEntity baseEntity = Pool.Get<BaseEntity>();
		DeserializeLength(stream, length, baseEntity, isDelta: false);
		return baseEntity;
	}

	public static BaseEntity Deserialize(byte[] buffer)
	{
		BaseEntity baseEntity = Pool.Get<BaseEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseEntity, isDelta: false);
		return baseEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseEntity Deserialize(BufferStream stream, BaseEntity instance, bool isDelta)
	{
		//IL_0054: Unknown result type (might be due to invalid IL or missing references)
		//IL_0064: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.pos, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rot, isDelta);
				continue;
			case 24:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.time = ProtocolParser.ReadSingle(stream);
				continue;
			case 40:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case 53:
				instance.protection = ProtocolParser.ReadSingle(stream);
				continue;
			case 58:
				instance.syncVars = ProtocolParser.ReadBytes(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BaseEntity DeserializeLengthDelimited(BufferStream stream, BaseEntity instance, bool isDelta)
	{
		//IL_0088: Unknown result type (might be due to invalid IL or missing references)
		//IL_0098: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.pos, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rot, isDelta);
				continue;
			case 24:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.time = ProtocolParser.ReadSingle(stream);
				continue;
			case 40:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case 53:
				instance.protection = ProtocolParser.ReadSingle(stream);
				continue;
			case 58:
				instance.syncVars = ProtocolParser.ReadBytes(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseEntity DeserializeLength(BufferStream stream, int length, BaseEntity instance, bool isDelta)
	{
		//IL_0080: Unknown result type (might be due to invalid IL or missing references)
		//IL_0090: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.pos, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rot, isDelta);
				continue;
			case 24:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.time = ProtocolParser.ReadSingle(stream);
				continue;
			case 40:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case 53:
				instance.protection = ProtocolParser.ReadSingle(stream);
				continue;
			case 58:
				instance.syncVars = ProtocolParser.ReadBytes(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseEntity instance, BaseEntity previous)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_0065: Unknown result type (might be due to invalid IL or missing references)
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		//IL_002c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		//IL_0091: Unknown result type (might be due to invalid IL or missing references)
		//IL_0097: Unknown result type (might be due to invalid IL or missing references)
		if (instance.pos != previous.pos)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.pos, previous.pos);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field pos (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.rot != previous.rot)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rot, previous.rot);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rot (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.flags != previous.flags)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.time != previous.time)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.time);
		}
		if (instance.skinid != previous.skinid)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
		if (instance.protection != previous.protection)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.protection);
		}
		if (instance.syncVars != null)
		{
			stream.WriteByte(58);
			ProtocolParser.WriteBytes(stream, instance.syncVars);
		}
	}

	public static void Serialize(BufferStream stream, BaseEntity instance)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0008: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0062: Unknown result type (might be due to invalid IL or missing references)
		//IL_0069: Unknown result type (might be due to invalid IL or missing references)
		//IL_006f: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0092: Unknown result type (might be due to invalid IL or missing references)
		if (instance.pos != default(Vector3))
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.pos);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field pos (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.rot != default(Vector3))
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rot);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rot (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.flags != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
		if (instance.time != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.time);
		}
		if (instance.skinid != 0L)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
		if (instance.protection != 0f)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.protection);
		}
		if (instance.syncVars != null)
		{
			stream.WriteByte(58);
			ProtocolParser.WriteBytes(stream, instance.syncVars);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BaseCombat : IDisposable, IPooled, IProto<BaseCombat>, IProto
{
	[NonSerialized]
	public int state;

	[NonSerialized]
	public float health;

	[NonSerialized]
	public float maxHealth;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseCombat instance)
	{
		if (instance.ShouldPool)
		{
			instance.state = 0;
			instance.health = 0f;
			instance.maxHealth = 0f;
			Pool.Free<BaseCombat>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseCombat with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseCombat instance)
	{
		instance.state = state;
		instance.health = health;
		instance.maxHealth = maxHealth;
	}

	public BaseCombat Copy()
	{
		BaseCombat baseCombat = Pool.Get<BaseCombat>();
		CopyTo(baseCombat);
		return baseCombat;
	}

	public static BaseCombat Deserialize(BufferStream stream)
	{
		BaseCombat baseCombat = Pool.Get<BaseCombat>();
		Deserialize(stream, baseCombat, isDelta: false);
		return baseCombat;
	}

	public static BaseCombat DeserializeLengthDelimited(BufferStream stream)
	{
		BaseCombat baseCombat = Pool.Get<BaseCombat>();
		DeserializeLengthDelimited(stream, baseCombat, isDelta: false);
		return baseCombat;
	}

	public static BaseCombat DeserializeLength(BufferStream stream, int length)
	{
		BaseCombat baseCombat = Pool.Get<BaseCombat>();
		DeserializeLength(stream, length, baseCombat, isDelta: false);
		return baseCombat;
	}

	public static BaseCombat Deserialize(byte[] buffer)
	{
		BaseCombat baseCombat = Pool.Get<BaseCombat>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseCombat, isDelta: false);
		return baseCombat;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseCombat previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseCombat Deserialize(BufferStream stream, BaseCombat instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.health = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.maxHealth = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BaseCombat DeserializeLengthDelimited(BufferStream stream, BaseCombat instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.health = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.maxHealth = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseCombat DeserializeLength(BufferStream stream, int length, BaseCombat instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.health = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.maxHealth = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseCombat instance, BaseCombat previous)
	{
		if (instance.state != previous.state)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.state);
		}
		if (instance.health != previous.health)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.health);
		}
		if (instance.maxHealth != previous.maxHealth)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.maxHealth);
		}
	}

	public static void Serialize(BufferStream stream, BaseCombat instance)
	{
		if (instance.state != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.state);
		}
		if (instance.health != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.health);
		}
		if (instance.maxHealth != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.maxHealth);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BaseNPC : IDisposable, IPooled, IProto<BaseNPC>, IProto
{
	[NonSerialized]
	public int flags;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseNPC instance)
	{
		if (instance.ShouldPool)
		{
			instance.flags = 0;
			Pool.Free<BaseNPC>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseNPC with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseNPC instance)
	{
		instance.flags = flags;
	}

	public BaseNPC Copy()
	{
		BaseNPC baseNPC = Pool.Get<BaseNPC>();
		CopyTo(baseNPC);
		return baseNPC;
	}

	public static BaseNPC Deserialize(BufferStream stream)
	{
		BaseNPC baseNPC = Pool.Get<BaseNPC>();
		Deserialize(stream, baseNPC, isDelta: false);
		return baseNPC;
	}

	public static BaseNPC DeserializeLengthDelimited(BufferStream stream)
	{
		BaseNPC baseNPC = Pool.Get<BaseNPC>();
		DeserializeLengthDelimited(stream, baseNPC, isDelta: false);
		return baseNPC;
	}

	public static BaseNPC DeserializeLength(BufferStream stream, int length)
	{
		BaseNPC baseNPC = Pool.Get<BaseNPC>();
		DeserializeLength(stream, length, baseNPC, isDelta: false);
		return baseNPC;
	}

	public static BaseNPC Deserialize(byte[] buffer)
	{
		BaseNPC baseNPC = Pool.Get<BaseNPC>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseNPC, isDelta: false);
		return baseNPC;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseNPC previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseNPC Deserialize(BufferStream stream, BaseNPC instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 16:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BaseNPC DeserializeLengthDelimited(BufferStream stream, BaseNPC instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 16:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseNPC DeserializeLength(BufferStream stream, int length, BaseNPC instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 16:
				instance.flags = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseNPC instance, BaseNPC previous)
	{
		if (instance.flags != previous.flags)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
	}

	public static void Serialize(BufferStream stream, BaseNPC instance)
	{
		if (instance.flags != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.flags);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class EntitySlots : IDisposable, IPooled, IProto<EntitySlots>, IProto
{
	[NonSerialized]
	public NetworkableId slotLock;

	[NonSerialized]
	public NetworkableId slotFireMod;

	[NonSerialized]
	public NetworkableId slotUpperModification;

	[NonSerialized]
	public NetworkableId centerDecoration;

	[NonSerialized]
	public NetworkableId lowerCenterDecoration;

	[NonSerialized]
	public NetworkableId storageMonitor;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(EntitySlots instance)
	{
		if (instance.ShouldPool)
		{
			instance.slotLock = default(NetworkableId);
			instance.slotFireMod = default(NetworkableId);
			instance.slotUpperModification = default(NetworkableId);
			instance.centerDecoration = default(NetworkableId);
			instance.lowerCenterDecoration = default(NetworkableId);
			instance.storageMonitor = default(NetworkableId);
			Pool.Free<EntitySlots>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose EntitySlots with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(EntitySlots instance)
	{
		instance.slotLock = slotLock;
		instance.slotFireMod = slotFireMod;
		instance.slotUpperModification = slotUpperModification;
		instance.centerDecoration = centerDecoration;
		instance.lowerCenterDecoration = lowerCenterDecoration;
		instance.storageMonitor = storageMonitor;
	}

	public EntitySlots Copy()
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		CopyTo(entitySlots);
		return entitySlots;
	}

	public static EntitySlots Deserialize(BufferStream stream)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		Deserialize(stream, entitySlots, isDelta: false);
		return entitySlots;
	}

	public static EntitySlots DeserializeLengthDelimited(BufferStream stream)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		DeserializeLengthDelimited(stream, entitySlots, isDelta: false);
		return entitySlots;
	}

	public static EntitySlots DeserializeLength(BufferStream stream, int length)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		DeserializeLength(stream, length, entitySlots, isDelta: false);
		return entitySlots;
	}

	public static EntitySlots Deserialize(byte[] buffer)
	{
		EntitySlots entitySlots = Pool.Get<EntitySlots>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, entitySlots, isDelta: false);
		return entitySlots;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, EntitySlots previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static EntitySlots Deserialize(BufferStream stream, EntitySlots instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.slotLock = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slotFireMod = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.slotUpperModification = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.centerDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.lowerCenterDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.storageMonitor = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static EntitySlots DeserializeLengthDelimited(BufferStream stream, EntitySlots instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.slotLock = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slotFireMod = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.slotUpperModification = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.centerDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.lowerCenterDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.storageMonitor = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static EntitySlots DeserializeLength(BufferStream stream, int length, EntitySlots instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.slotLock = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.slotFireMod = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 24:
				instance.slotUpperModification = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.centerDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 40:
				instance.lowerCenterDecoration = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 48:
				instance.storageMonitor = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, EntitySlots instance, EntitySlots previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.slotLock.Value);
		stream.WriteByte(16);
		ProtocolParser.WriteUInt64(stream, instance.slotFireMod.Value);
		stream.WriteByte(24);
		ProtocolParser.WriteUInt64(stream, instance.slotUpperModification.Value);
		stream.WriteByte(32);
		ProtocolParser.WriteUInt64(stream, instance.centerDecoration.Value);
		stream.WriteByte(40);
		ProtocolParser.WriteUInt64(stream, instance.lowerCenterDecoration.Value);
		stream.WriteByte(48);
		ProtocolParser.WriteUInt64(stream, instance.storageMonitor.Value);
	}

	public static void Serialize(BufferStream stream, EntitySlots instance)
	{
		if (instance.slotLock != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.slotLock.Value);
		}
		if (instance.slotFireMod != default(NetworkableId))
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.slotFireMod.Value);
		}
		if (instance.slotUpperModification != default(NetworkableId))
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.slotUpperModification.Value);
		}
		if (instance.centerDecoration != default(NetworkableId))
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.centerDecoration.Value);
		}
		if (instance.lowerCenterDecoration != default(NetworkableId))
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, instance.lowerCenterDecoration.Value);
		}
		if (instance.storageMonitor != default(NetworkableId))
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.storageMonitor.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref slotLock.Value);
		action(UidType.NetworkableId, ref slotFireMod.Value);
		action(UidType.NetworkableId, ref slotUpperModification.Value);
		action(UidType.NetworkableId, ref centerDecoration.Value);
		action(UidType.NetworkableId, ref lowerCenterDecoration.Value);
		action(UidType.NetworkableId, ref storageMonitor.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BaseResource : IDisposable, IPooled, IProto<BaseResource>, IProto
{
	[NonSerialized]
	public int stage;

	[NonSerialized]
	public float health;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseResource instance)
	{
		if (instance.ShouldPool)
		{
			instance.stage = 0;
			instance.health = 0f;
			Pool.Free<BaseResource>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseResource with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseResource instance)
	{
		instance.stage = stage;
		instance.health = health;
	}

	public BaseResource Copy()
	{
		BaseResource baseResource = Pool.Get<BaseResource>();
		CopyTo(baseResource);
		return baseResource;
	}

	public static BaseResource Deserialize(BufferStream stream)
	{
		BaseResource baseResource = Pool.Get<BaseResource>();
		Deserialize(stream, baseResource, isDelta: false);
		return baseResource;
	}

	public static BaseResource DeserializeLengthDelimited(BufferStream stream)
	{
		BaseResource baseResource = Pool.Get<BaseResource>();
		DeserializeLengthDelimited(stream, baseResource, isDelta: false);
		return baseResource;
	}

	public static BaseResource DeserializeLength(BufferStream stream, int length)
	{
		BaseResource baseResource = Pool.Get<BaseResource>();
		DeserializeLength(stream, length, baseResource, isDelta: false);
		return baseResource;
	}

	public static BaseResource Deserialize(byte[] buffer)
	{
		BaseResource baseResource = Pool.Get<BaseResource>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseResource, isDelta: false);
		return baseResource;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseResource previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseResource Deserialize(BufferStream stream, BaseResource instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.stage = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.health = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BaseResource DeserializeLengthDelimited(BufferStream stream, BaseResource instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.stage = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.health = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseResource DeserializeLength(BufferStream stream, int length, BaseResource instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.stage = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.health = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseResource instance, BaseResource previous)
	{
		if (instance.stage != previous.stage)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.stage);
		}
		if (instance.health != previous.health)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.health);
		}
	}

	public static void Serialize(BufferStream stream, BaseResource instance)
	{
		if (instance.stage != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.stage);
		}
		if (instance.health != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.health);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Environment : IDisposable, IPooled, IProto<ProtoBuf.Environment>, IProto
{
	[NonSerialized]
	public long dateTime;

	[NonSerialized]
	public float clouds;

	[NonSerialized]
	public float fog;

	[NonSerialized]
	public float wind;

	[NonSerialized]
	public float rain;

	[NonSerialized]
	public float engineTime;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ProtoBuf.Environment instance)
	{
		if (instance.ShouldPool)
		{
			instance.dateTime = 0L;
			instance.clouds = 0f;
			instance.fog = 0f;
			instance.wind = 0f;
			instance.rain = 0f;
			instance.engineTime = 0f;
			Pool.Free<ProtoBuf.Environment>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Environment with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ProtoBuf.Environment instance)
	{
		instance.dateTime = dateTime;
		instance.clouds = clouds;
		instance.fog = fog;
		instance.wind = wind;
		instance.rain = rain;
		instance.engineTime = engineTime;
	}

	public ProtoBuf.Environment Copy()
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		CopyTo(environment);
		return environment;
	}

	public static ProtoBuf.Environment Deserialize(BufferStream stream)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		Deserialize(stream, environment, isDelta: false);
		return environment;
	}

	public static ProtoBuf.Environment DeserializeLengthDelimited(BufferStream stream)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		DeserializeLengthDelimited(stream, environment, isDelta: false);
		return environment;
	}

	public static ProtoBuf.Environment DeserializeLength(BufferStream stream, int length)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		DeserializeLength(stream, length, environment, isDelta: false);
		return environment;
	}

	public static ProtoBuf.Environment Deserialize(byte[] buffer)
	{
		ProtoBuf.Environment environment = Pool.Get<ProtoBuf.Environment>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, environment, isDelta: false);
		return environment;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ProtoBuf.Environment previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ProtoBuf.Environment Deserialize(BufferStream stream, ProtoBuf.Environment instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.dateTime = (long)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.clouds = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.fog = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.wind = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.rain = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.engineTime = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static ProtoBuf.Environment DeserializeLengthDelimited(BufferStream stream, ProtoBuf.Environment instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.dateTime = (long)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.clouds = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.fog = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.wind = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.rain = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.engineTime = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ProtoBuf.Environment DeserializeLength(BufferStream stream, int length, ProtoBuf.Environment instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.dateTime = (long)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.clouds = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.fog = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.wind = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.rain = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.engineTime = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ProtoBuf.Environment instance, ProtoBuf.Environment previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, (ulong)instance.dateTime);
		if (instance.clouds != previous.clouds)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.clouds);
		}
		if (instance.fog != previous.fog)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.fog);
		}
		if (instance.wind != previous.wind)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.wind);
		}
		if (instance.rain != previous.rain)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.rain);
		}
		if (instance.engineTime != previous.engineTime)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.engineTime);
		}
	}

	public static void Serialize(BufferStream stream, ProtoBuf.Environment instance)
	{
		if (instance.dateTime != 0L)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.dateTime);
		}
		if (instance.clouds != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.clouds);
		}
		if (instance.fog != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.fog);
		}
		if (instance.wind != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.wind);
		}
		if (instance.rain != 0f)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.rain);
		}
		if (instance.engineTime != 0f)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.engineTime);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Corpse : IDisposable, IPooled, IProto<Corpse>, IProto
{
	[NonSerialized]
	public NetworkableId parentID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Corpse instance)
	{
		if (instance.ShouldPool)
		{
			instance.parentID = default(NetworkableId);
			Pool.Free<Corpse>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Corpse with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Corpse instance)
	{
		instance.parentID = parentID;
	}

	public Corpse Copy()
	{
		Corpse corpse = Pool.Get<Corpse>();
		CopyTo(corpse);
		return corpse;
	}

	public static Corpse Deserialize(BufferStream stream)
	{
		Corpse corpse = Pool.Get<Corpse>();
		Deserialize(stream, corpse, isDelta: false);
		return corpse;
	}

	public static Corpse DeserializeLengthDelimited(BufferStream stream)
	{
		Corpse corpse = Pool.Get<Corpse>();
		DeserializeLengthDelimited(stream, corpse, isDelta: false);
		return corpse;
	}

	public static Corpse DeserializeLength(BufferStream stream, int length)
	{
		Corpse corpse = Pool.Get<Corpse>();
		DeserializeLength(stream, length, corpse, isDelta: false);
		return corpse;
	}

	public static Corpse Deserialize(byte[] buffer)
	{
		Corpse corpse = Pool.Get<Corpse>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, corpse, isDelta: false);
		return corpse;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Corpse previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Corpse Deserialize(BufferStream stream, Corpse instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.parentID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Corpse DeserializeLengthDelimited(BufferStream stream, Corpse instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.parentID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Corpse DeserializeLength(BufferStream stream, int length, Corpse instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.parentID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Corpse instance, Corpse previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.parentID.Value);
	}

	public static void Serialize(BufferStream stream, Corpse instance)
	{
		if (instance.parentID != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.parentID.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref parentID.Value);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class LootableCorpse : IDisposable, IPooled, IProto<LootableCorpse>, IProto
{
	public class Private : IDisposable, IPooled, IProto<Private>, IProto
	{
		[NonSerialized]
		public List<ItemContainer> container;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(Private instance)
		{
			if (!instance.ShouldPool)
			{
				return;
			}
			if (instance.container != null)
			{
				for (int i = 0; i < instance.container.Count; i++)
				{
					if (instance.container[i] != null)
					{
						instance.container[i].ResetToPool();
						instance.container[i] = null;
					}
				}
				List<ItemContainer> list = instance.container;
				Pool.Free<ItemContainer>(ref list, false);
				instance.container = list;
			}
			Pool.Free<Private>(ref instance);
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose Private with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(Private instance)
		{
			if (container != null)
			{
				instance.container = Pool.Get<List<ItemContainer>>();
				for (int i = 0; i < container.Count; i++)
				{
					ItemContainer item = container[i].Copy();
					instance.container.Add(item);
				}
			}
			else
			{
				instance.container = null;
			}
		}

		public Private Copy()
		{
			Private @private = Pool.Get<Private>();
			CopyTo(@private);
			return @private;
		}

		public static Private Deserialize(BufferStream stream)
		{
			Private @private = Pool.Get<Private>();
			Deserialize(stream, @private, isDelta: false);
			return @private;
		}

		public static Private DeserializeLengthDelimited(BufferStream stream)
		{
			Private @private = Pool.Get<Private>();
			DeserializeLengthDelimited(stream, @private, isDelta: false);
			return @private;
		}

		public static Private DeserializeLength(BufferStream stream, int length)
		{
			Private @private = Pool.Get<Private>();
			DeserializeLength(stream, length, @private, isDelta: false);
			return @private;
		}

		public static Private Deserialize(byte[] buffer)
		{
			Private @private = Pool.Get<Private>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, @private, isDelta: false);
			return @private;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, Private previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static Private Deserialize(BufferStream stream, Private instance, bool isDelta)
		{
			if (!isDelta && instance.container == null)
			{
				instance.container = Pool.Get<List<ItemContainer>>();
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.container.Add(ItemContainer.DeserializeLengthDelimited(stream));
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static Private DeserializeLengthDelimited(BufferStream stream, Private instance, bool isDelta)
		{
			if (!isDelta && instance.container == null)
			{
				instance.container = Pool.Get<List<ItemContainer>>();
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.container.Add(ItemContainer.DeserializeLengthDelimited(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static Private DeserializeLength(BufferStream stream, int length, Private instance, bool isDelta)
		{
			if (!isDelta && instance.container == null)
			{
				instance.container = Pool.Get<List<ItemContainer>>();
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.container.Add(ItemContainer.DeserializeLengthDelimited(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, Private instance, Private previous)
		{
			if (instance.container == null)
			{
				return;
			}
			for (int i = 0; i < instance.container.Count; i++)
			{
				ItemContainer itemContainer = instance.container[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				ItemContainer.SerializeDelta(stream, itemContainer, itemContainer);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
		}

		public static void Serialize(BufferStream stream, Private instance)
		{
			if (instance.container == null)
			{
				return;
			}
			for (int i = 0; i < instance.container.Count; i++)
			{
				ItemContainer instance2 = instance.container[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				ItemContainer.Serialize(stream, instance2);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			if (container != null)
			{
				for (int i = 0; i < container.Count; i++)
				{
					container[i]?.InspectUids(action);
				}
			}
		}
	}

	[NonSerialized]
	public Private privateData;

	[NonSerialized]
	public ulong playerID;

	[NonSerialized]
	public string playerName;

	[NonSerialized]
	public uint underwearSkin;

	[NonSerialized]
	public string streamerName;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(LootableCorpse instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.privateData != null)
			{
				instance.privateData.ResetToPool();
				instance.privateData = null;
			}
			instance.playerID = 0uL;
			instance.playerName = string.Empty;
			instance.underwearSkin = 0u;
			instance.streamerName = string.Empty;
			Pool.Free<LootableCorpse>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose LootableCorpse with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(LootableCorpse instance)
	{
		if (privateData != null)
		{
			if (instance.privateData == null)
			{
				instance.privateData = privateData.Copy();
			}
			else
			{
				privateData.CopyTo(instance.privateData);
			}
		}
		else
		{
			instance.privateData = null;
		}
		instance.playerID = playerID;
		instance.playerName = playerName;
		instance.underwearSkin = underwearSkin;
		instance.streamerName = streamerName;
	}

	public LootableCorpse Copy()
	{
		LootableCorpse lootableCorpse = Pool.Get<LootableCorpse>();
		CopyTo(lootableCorpse);
		return lootableCorpse;
	}

	public static LootableCorpse Deserialize(BufferStream stream)
	{
		LootableCorpse lootableCorpse = Pool.Get<LootableCorpse>();
		Deserialize(stream, lootableCorpse, isDelta: false);
		return lootableCorpse;
	}

	public static LootableCorpse DeserializeLengthDelimited(BufferStream stream)
	{
		LootableCorpse lootableCorpse = Pool.Get<LootableCorpse>();
		DeserializeLengthDelimited(stream, lootableCorpse, isDelta: false);
		return lootableCorpse;
	}

	public static LootableCorpse DeserializeLength(BufferStream stream, int length)
	{
		LootableCorpse lootableCorpse = Pool.Get<LootableCorpse>();
		DeserializeLength(stream, length, lootableCorpse, isDelta: false);
		return lootableCorpse;
	}

	public static LootableCorpse Deserialize(byte[] buffer)
	{
		LootableCorpse lootableCorpse = Pool.Get<LootableCorpse>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, lootableCorpse, isDelta: false);
		return lootableCorpse;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, LootableCorpse previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static LootableCorpse Deserialize(BufferStream stream, LootableCorpse instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.privateData == null)
				{
					instance.privateData = Private.DeserializeLengthDelimited(stream);
				}
				else
				{
					Private.DeserializeLengthDelimited(stream, instance.privateData, isDelta);
				}
				break;
			case 16:
				instance.playerID = ProtocolParser.ReadUInt64(stream);
				break;
			case 26:
				instance.playerName = ProtocolParser.ReadString(stream);
				break;
			case 32:
				instance.underwearSkin = ProtocolParser.ReadUInt32(stream);
				break;
			case 42:
				instance.streamerName = ProtocolParser.ReadString(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static LootableCorpse DeserializeLengthDelimited(BufferStream stream, LootableCorpse instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.privateData == null)
				{
					instance.privateData = Private.DeserializeLengthDelimited(stream);
				}
				else
				{
					Private.DeserializeLengthDelimited(stream, instance.privateData, isDelta);
				}
				break;
			case 16:
				instance.playerID = ProtocolParser.ReadUInt64(stream);
				break;
			case 26:
				instance.playerName = ProtocolParser.ReadString(stream);
				break;
			case 32:
				instance.underwearSkin = ProtocolParser.ReadUInt32(stream);
				break;
			case 42:
				instance.streamerName = ProtocolParser.ReadString(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static LootableCorpse DeserializeLength(BufferStream stream, int length, LootableCorpse instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.privateData == null)
				{
					instance.privateData = Private.DeserializeLengthDelimited(stream);
				}
				else
				{
					Private.DeserializeLengthDelimited(stream, instance.privateData, isDelta);
				}
				break;
			case 16:
				instance.playerID = ProtocolParser.ReadUInt64(stream);
				break;
			case 26:
				instance.playerName = ProtocolParser.ReadString(stream);
				break;
			case 32:
				instance.underwearSkin = ProtocolParser.ReadUInt32(stream);
				break;
			case 42:
				instance.streamerName = ProtocolParser.ReadString(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, LootableCorpse instance, LootableCorpse previous)
	{
		if (instance.privateData != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Private.SerializeDelta(stream, instance.privateData, previous.privateData);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.playerID != previous.playerID)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.playerID);
		}
		if (instance.playerName != null && instance.playerName != previous.playerName)
		{
			stream.WriteByte(26);
			ProtocolParser.WriteString(stream, instance.playerName);
		}
		if (instance.underwearSkin != previous.underwearSkin)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt32(stream, instance.underwearSkin);
		}
		if (instance.streamerName != null && instance.streamerName != previous.streamerName)
		{
			stream.WriteByte(42);
			ProtocolParser.WriteString(stream, instance.streamerName);
		}
	}

	public static void Serialize(BufferStream stream, LootableCorpse instance)
	{
		if (instance.privateData != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Private.Serialize(stream, instance.privateData);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.playerID != 0L)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.playerID);
		}
		if (instance.playerName != null)
		{
			stream.WriteByte(26);
			ProtocolParser.WriteString(stream, instance.playerName);
		}
		if (instance.underwearSkin != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt32(stream, instance.underwearSkin);
		}
		if (instance.streamerName != null)
		{
			stream.WriteByte(42);
			ProtocolParser.WriteString(stream, instance.streamerName);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		privateData?.InspectUids(action);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class ParentInfo : IDisposable, IPooled, IProto<ParentInfo>, IProto
{
	[NonSerialized]
	public NetworkableId uid;

	[NonSerialized]
	public uint bone;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ParentInfo instance)
	{
		if (instance.ShouldPool)
		{
			instance.uid = default(NetworkableId);
			instance.bone = 0u;
			Pool.Free<ParentInfo>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose ParentInfo with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ParentInfo instance)
	{
		instance.uid = uid;
		instance.bone = bone;
	}

	public ParentInfo Copy()
	{
		ParentInfo parentInfo = Pool.Get<ParentInfo>();
		CopyTo(parentInfo);
		return parentInfo;
	}

	public static ParentInfo Deserialize(BufferStream stream)
	{
		ParentInfo parentInfo = Pool.Get<ParentInfo>();
		Deserialize(stream, parentInfo, isDelta: false);
		return parentInfo;
	}

	public static ParentInfo DeserializeLengthDelimited(BufferStream stream)
	{
		ParentInfo parentInfo = Pool.Get<ParentInfo>();
		DeserializeLengthDelimited(stream, parentInfo, isDelta: false);
		return parentInfo;
	}

	public static ParentInfo DeserializeLength(BufferStream stream, int length)
	{
		ParentInfo parentInfo = Pool.Get<ParentInfo>();
		DeserializeLength(stream, length, parentInfo, isDelta: false);
		return parentInfo;
	}

	public static ParentInfo Deserialize(byte[] buffer)
	{
		ParentInfo parentInfo = Pool.Get<ParentInfo>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, parentInfo, isDelta: false);
		return parentInfo;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ParentInfo previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ParentInfo Deserialize(BufferStream stream, ParentInfo instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.bone = ProtocolParser.ReadUInt32(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static ParentInfo DeserializeLengthDelimited(BufferStream stream, ParentInfo instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.bone = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ParentInfo DeserializeLength(BufferStream stream, int length, ParentInfo instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.uid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.bone = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ParentInfo instance, ParentInfo previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.uid.Value);
		if (instance.bone != previous.bone)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.bone);
		}
	}

	public static void Serialize(BufferStream stream, ParentInfo instance)
	{
		if (instance.uid != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.uid.Value);
		}
		if (instance.bone != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.bone);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref uid.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BuildingBlock : IDisposable, IPooled, IProto<BuildingBlock>, IProto
{
	[NonSerialized]
	public ulong model;

	[NonSerialized]
	public int grade;

	[NonSerialized]
	public bool beingDemolished;

	[NonSerialized]
	public ulong wallpaperID;

	[NonSerialized]
	public float wallpaperHealth;

	[NonSerialized]
	public ulong wallpaperID2;

	[NonSerialized]
	public float wallpaperHealth2;

	[NonSerialized]
	public float wallpaperRotation;

	[NonSerialized]
	public float wallpaperRotation2;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BuildingBlock instance)
	{
		if (instance.ShouldPool)
		{
			instance.model = 0uL;
			instance.grade = 0;
			instance.beingDemolished = false;
			instance.wallpaperID = 0uL;
			instance.wallpaperHealth = 0f;
			instance.wallpaperID2 = 0uL;
			instance.wallpaperHealth2 = 0f;
			instance.wallpaperRotation = 0f;
			instance.wallpaperRotation2 = 0f;
			Pool.Free<BuildingBlock>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BuildingBlock with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BuildingBlock instance)
	{
		instance.model = model;
		instance.grade = grade;
		instance.beingDemolished = beingDemolished;
		instance.wallpaperID = wallpaperID;
		instance.wallpaperHealth = wallpaperHealth;
		instance.wallpaperID2 = wallpaperID2;
		instance.wallpaperHealth2 = wallpaperHealth2;
		instance.wallpaperRotation = wallpaperRotation;
		instance.wallpaperRotation2 = wallpaperRotation2;
	}

	public BuildingBlock Copy()
	{
		BuildingBlock buildingBlock = Pool.Get<BuildingBlock>();
		CopyTo(buildingBlock);
		return buildingBlock;
	}

	public static BuildingBlock Deserialize(BufferStream stream)
	{
		BuildingBlock buildingBlock = Pool.Get<BuildingBlock>();
		Deserialize(stream, buildingBlock, isDelta: false);
		return buildingBlock;
	}

	public static BuildingBlock DeserializeLengthDelimited(BufferStream stream)
	{
		BuildingBlock buildingBlock = Pool.Get<BuildingBlock>();
		DeserializeLengthDelimited(stream, buildingBlock, isDelta: false);
		return buildingBlock;
	}

	public static BuildingBlock DeserializeLength(BufferStream stream, int length)
	{
		BuildingBlock buildingBlock = Pool.Get<BuildingBlock>();
		DeserializeLength(stream, length, buildingBlock, isDelta: false);
		return buildingBlock;
	}

	public static BuildingBlock Deserialize(byte[] buffer)
	{
		BuildingBlock buildingBlock = Pool.Get<BuildingBlock>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, buildingBlock, isDelta: false);
		return buildingBlock;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BuildingBlock previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BuildingBlock Deserialize(BufferStream stream, BuildingBlock instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.model = ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.grade = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.beingDemolished = ProtocolParser.ReadBool(stream);
				continue;
			case 32:
				instance.wallpaperID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 45:
				instance.wallpaperHealth = ProtocolParser.ReadSingle(stream);
				continue;
			case 48:
				instance.wallpaperID2 = ProtocolParser.ReadUInt64(stream);
				continue;
			case 61:
				instance.wallpaperHealth2 = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.wallpaperRotation = ProtocolParser.ReadSingle(stream);
				continue;
			case 77:
				instance.wallpaperRotation2 = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BuildingBlock DeserializeLengthDelimited(BufferStream stream, BuildingBlock instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.model = ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.grade = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.beingDemolished = ProtocolParser.ReadBool(stream);
				continue;
			case 32:
				instance.wallpaperID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 45:
				instance.wallpaperHealth = ProtocolParser.ReadSingle(stream);
				continue;
			case 48:
				instance.wallpaperID2 = ProtocolParser.ReadUInt64(stream);
				continue;
			case 61:
				instance.wallpaperHealth2 = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.wallpaperRotation = ProtocolParser.ReadSingle(stream);
				continue;
			case 77:
				instance.wallpaperRotation2 = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BuildingBlock DeserializeLength(BufferStream stream, int length, BuildingBlock instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.model = ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.grade = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.beingDemolished = ProtocolParser.ReadBool(stream);
				continue;
			case 32:
				instance.wallpaperID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 45:
				instance.wallpaperHealth = ProtocolParser.ReadSingle(stream);
				continue;
			case 48:
				instance.wallpaperID2 = ProtocolParser.ReadUInt64(stream);
				continue;
			case 61:
				instance.wallpaperHealth2 = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.wallpaperRotation = ProtocolParser.ReadSingle(stream);
				continue;
			case 77:
				instance.wallpaperRotation2 = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BuildingBlock instance, BuildingBlock previous)
	{
		if (instance.model != previous.model)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.model);
		}
		if (instance.grade != previous.grade)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.grade);
		}
		stream.WriteByte(24);
		ProtocolParser.WriteBool(stream, instance.beingDemolished);
		if (instance.wallpaperID != previous.wallpaperID)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.wallpaperID);
		}
		if (instance.wallpaperHealth != previous.wallpaperHealth)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.wallpaperHealth);
		}
		if (instance.wallpaperID2 != previous.wallpaperID2)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.wallpaperID2);
		}
		if (instance.wallpaperHealth2 != previous.wallpaperHealth2)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.wallpaperHealth2);
		}
		if (instance.wallpaperRotation != previous.wallpaperRotation)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.wallpaperRotation);
		}
		if (instance.wallpaperRotation2 != previous.wallpaperRotation2)
		{
			stream.WriteByte(77);
			ProtocolParser.WriteSingle(stream, instance.wallpaperRotation2);
		}
	}

	public static void Serialize(BufferStream stream, BuildingBlock instance)
	{
		if (instance.model != 0L)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.model);
		}
		if (instance.grade != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.grade);
		}
		if (instance.beingDemolished)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteBool(stream, instance.beingDemolished);
		}
		if (instance.wallpaperID != 0L)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.wallpaperID);
		}
		if (instance.wallpaperHealth != 0f)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.wallpaperHealth);
		}
		if (instance.wallpaperID2 != 0L)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.wallpaperID2);
		}
		if (instance.wallpaperHealth2 != 0f)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.wallpaperHealth2);
		}
		if (instance.wallpaperRotation != 0f)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.wallpaperRotation);
		}
		if (instance.wallpaperRotation2 != 0f)
		{
			stream.WriteByte(77);
			ProtocolParser.WriteSingle(stream, instance.wallpaperRotation2);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class WallpaperTool : IDisposable, IPooled, IProto<WallpaperTool>, IProto
{
	[NonSerialized]
	public ulong wallSkinID;

	[NonSerialized]
	public ulong flooringSkinID;

	[NonSerialized]
	public ulong ceilingSkinID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(WallpaperTool instance)
	{
		if (instance.ShouldPool)
		{
			instance.wallSkinID = 0uL;
			instance.flooringSkinID = 0uL;
			instance.ceilingSkinID = 0uL;
			Pool.Free<WallpaperTool>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose WallpaperTool with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(WallpaperTool instance)
	{
		instance.wallSkinID = wallSkinID;
		instance.flooringSkinID = flooringSkinID;
		instance.ceilingSkinID = ceilingSkinID;
	}

	public WallpaperTool Copy()
	{
		WallpaperTool wallpaperTool = Pool.Get<WallpaperTool>();
		CopyTo(wallpaperTool);
		return wallpaperTool;
	}

	public static WallpaperTool Deserialize(BufferStream stream)
	{
		WallpaperTool wallpaperTool = Pool.Get<WallpaperTool>();
		Deserialize(stream, wallpaperTool, isDelta: false);
		return wallpaperTool;
	}

	public static WallpaperTool DeserializeLengthDelimited(BufferStream stream)
	{
		WallpaperTool wallpaperTool = Pool.Get<WallpaperTool>();
		DeserializeLengthDelimited(stream, wallpaperTool, isDelta: false);
		return wallpaperTool;
	}

	public static WallpaperTool DeserializeLength(BufferStream stream, int length)
	{
		WallpaperTool wallpaperTool = Pool.Get<WallpaperTool>();
		DeserializeLength(stream, length, wallpaperTool, isDelta: false);
		return wallpaperTool;
	}

	public static WallpaperTool Deserialize(byte[] buffer)
	{
		WallpaperTool wallpaperTool = Pool.Get<WallpaperTool>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, wallpaperTool, isDelta: false);
		return wallpaperTool;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, WallpaperTool previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static WallpaperTool Deserialize(BufferStream stream, WallpaperTool instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.wallSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.flooringSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.ceilingSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static WallpaperTool DeserializeLengthDelimited(BufferStream stream, WallpaperTool instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.wallSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.flooringSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.ceilingSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static WallpaperTool DeserializeLength(BufferStream stream, int length, WallpaperTool instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.wallSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.flooringSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.ceilingSkinID = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, WallpaperTool instance, WallpaperTool previous)
	{
		if (instance.wallSkinID != previous.wallSkinID)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.wallSkinID);
		}
		if (instance.flooringSkinID != previous.flooringSkinID)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.flooringSkinID);
		}
		if (instance.ceilingSkinID != previous.ceilingSkinID)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.ceilingSkinID);
		}
	}

	public static void Serialize(BufferStream stream, WallpaperTool instance)
	{
		if (instance.wallSkinID != 0L)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.wallSkinID);
		}
		if (instance.flooringSkinID != 0L)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.flooringSkinID);
		}
		if (instance.ceilingSkinID != 0L)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.ceilingSkinID);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class WorldItem : IDisposable, IPooled, IProto<WorldItem>, IProto
{
	[NonSerialized]
	public Item item;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(WorldItem instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.item != null)
			{
				instance.item.ResetToPool();
				instance.item = null;
			}
			Pool.Free<WorldItem>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose WorldItem with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(WorldItem instance)
	{
		if (item != null)
		{
			if (instance.item == null)
			{
				instance.item = item.Copy();
			}
			else
			{
				item.CopyTo(instance.item);
			}
		}
		else
		{
			instance.item = null;
		}
	}

	public WorldItem Copy()
	{
		WorldItem worldItem = Pool.Get<WorldItem>();
		CopyTo(worldItem);
		return worldItem;
	}

	public static WorldItem Deserialize(BufferStream stream)
	{
		WorldItem worldItem = Pool.Get<WorldItem>();
		Deserialize(stream, worldItem, isDelta: false);
		return worldItem;
	}

	public static WorldItem DeserializeLengthDelimited(BufferStream stream)
	{
		WorldItem worldItem = Pool.Get<WorldItem>();
		DeserializeLengthDelimited(stream, worldItem, isDelta: false);
		return worldItem;
	}

	public static WorldItem DeserializeLength(BufferStream stream, int length)
	{
		WorldItem worldItem = Pool.Get<WorldItem>();
		DeserializeLength(stream, length, worldItem, isDelta: false);
		return worldItem;
	}

	public static WorldItem Deserialize(byte[] buffer)
	{
		WorldItem worldItem = Pool.Get<WorldItem>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, worldItem, isDelta: false);
		return worldItem;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, WorldItem previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static WorldItem Deserialize(BufferStream stream, WorldItem instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.item == null)
				{
					instance.item = Item.DeserializeLengthDelimited(stream);
				}
				else
				{
					Item.DeserializeLengthDelimited(stream, instance.item, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static WorldItem DeserializeLengthDelimited(BufferStream stream, WorldItem instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.item == null)
				{
					instance.item = Item.DeserializeLengthDelimited(stream);
				}
				else
				{
					Item.DeserializeLengthDelimited(stream, instance.item, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static WorldItem DeserializeLength(BufferStream stream, int length, WorldItem instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.item == null)
				{
					instance.item = Item.DeserializeLengthDelimited(stream);
				}
				else
				{
					Item.DeserializeLengthDelimited(stream, instance.item, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, WorldItem instance, WorldItem previous)
	{
		if (instance.item == null)
		{
			return;
		}
		stream.WriteByte(10);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		Item.SerializeDelta(stream, instance.item, previous.item);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public static void Serialize(BufferStream stream, WorldItem instance)
	{
		if (instance.item == null)
		{
			return;
		}
		stream.WriteByte(10);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		Item.Serialize(stream, instance.item);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		item?.InspectUids(action);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class KeyLock : IDisposable, IPooled, IProto<KeyLock>, IProto
{
	[NonSerialized]
	public int code;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(KeyLock instance)
	{
		if (instance.ShouldPool)
		{
			instance.code = 0;
			Pool.Free<KeyLock>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose KeyLock with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(KeyLock instance)
	{
		instance.code = code;
	}

	public KeyLock Copy()
	{
		KeyLock keyLock = Pool.Get<KeyLock>();
		CopyTo(keyLock);
		return keyLock;
	}

	public static KeyLock Deserialize(BufferStream stream)
	{
		KeyLock keyLock = Pool.Get<KeyLock>();
		Deserialize(stream, keyLock, isDelta: false);
		return keyLock;
	}

	public static KeyLock DeserializeLengthDelimited(BufferStream stream)
	{
		KeyLock keyLock = Pool.Get<KeyLock>();
		DeserializeLengthDelimited(stream, keyLock, isDelta: false);
		return keyLock;
	}

	public static KeyLock DeserializeLength(BufferStream stream, int length)
	{
		KeyLock keyLock = Pool.Get<KeyLock>();
		DeserializeLength(stream, length, keyLock, isDelta: false);
		return keyLock;
	}

	public static KeyLock Deserialize(byte[] buffer)
	{
		KeyLock keyLock = Pool.Get<KeyLock>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, keyLock, isDelta: false);
		return keyLock;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, KeyLock previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static KeyLock Deserialize(BufferStream stream, KeyLock instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.code = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static KeyLock DeserializeLengthDelimited(BufferStream stream, KeyLock instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.code = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static KeyLock DeserializeLength(BufferStream stream, int length, KeyLock instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.code = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, KeyLock instance, KeyLock previous)
	{
		if (instance.code != previous.code)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.code);
		}
	}

	public static void Serialize(BufferStream stream, KeyLock instance)
	{
		if (instance.code != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.code);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class CodeLock : IDisposable, IPooled, IProto<CodeLock>, IProto
{
	public class Private : IDisposable, IPooled, IProto<Private>, IProto
	{
		[NonSerialized]
		public string code;

		[NonSerialized]
		public List<ulong> users;

		[NonSerialized]
		public string guestCode;

		[NonSerialized]
		public List<ulong> guestUsers;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(Private instance)
		{
			if (instance.ShouldPool)
			{
				instance.code = string.Empty;
				if (instance.users != null)
				{
					List<ulong> list = instance.users;
					Pool.FreeUnmanaged<ulong>(ref list);
					instance.users = list;
				}
				instance.guestCode = string.Empty;
				if (instance.guestUsers != null)
				{
					List<ulong> list2 = instance.guestUsers;
					Pool.FreeUnmanaged<ulong>(ref list2);
					instance.guestUsers = list2;
				}
				Pool.Free<Private>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose Private with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(Private instance)
		{
			instance.code = code;
			if (users != null)
			{
				instance.users = Pool.Get<List<ulong>>();
				for (int i = 0; i < users.Count; i++)
				{
					ulong item = users[i];
					instance.users.Add(item);
				}
			}
			else
			{
				instance.users = null;
			}
			instance.guestCode = guestCode;
			if (guestUsers != null)
			{
				instance.guestUsers = Pool.Get<List<ulong>>();
				for (int j = 0; j < guestUsers.Count; j++)
				{
					ulong item2 = guestUsers[j];
					instance.guestUsers.Add(item2);
				}
			}
			else
			{
				instance.guestUsers = null;
			}
		}

		public Private Copy()
		{
			Private @private = Pool.Get<Private>();
			CopyTo(@private);
			return @private;
		}

		public static Private Deserialize(BufferStream stream)
		{
			Private @private = Pool.Get<Private>();
			Deserialize(stream, @private, isDelta: false);
			return @private;
		}

		public static Private DeserializeLengthDelimited(BufferStream stream)
		{
			Private @private = Pool.Get<Private>();
			DeserializeLengthDelimited(stream, @private, isDelta: false);
			return @private;
		}

		public static Private DeserializeLength(BufferStream stream, int length)
		{
			Private @private = Pool.Get<Private>();
			DeserializeLength(stream, length, @private, isDelta: false);
			return @private;
		}

		public static Private Deserialize(byte[] buffer)
		{
			Private @private = Pool.Get<Private>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, @private, isDelta: false);
			return @private;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, Private previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static Private Deserialize(BufferStream stream, Private instance, bool isDelta)
		{
			if (!isDelta)
			{
				if (instance.users == null)
				{
					instance.users = Pool.Get<List<ulong>>();
				}
				if (instance.guestUsers == null)
				{
					instance.guestUsers = Pool.Get<List<ulong>>();
				}
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.code = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.users.Add(ProtocolParser.ReadUInt64(stream));
					continue;
				case 34:
					instance.guestCode = ProtocolParser.ReadString(stream);
					continue;
				case 40:
					instance.guestUsers.Add(ProtocolParser.ReadUInt64(stream));
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static Private DeserializeLengthDelimited(BufferStream stream, Private instance, bool isDelta)
		{
			if (!isDelta)
			{
				if (instance.users == null)
				{
					instance.users = Pool.Get<List<ulong>>();
				}
				if (instance.guestUsers == null)
				{
					instance.guestUsers = Pool.Get<List<ulong>>();
				}
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.code = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.users.Add(ProtocolParser.ReadUInt64(stream));
					continue;
				case 34:
					instance.guestCode = ProtocolParser.ReadString(stream);
					continue;
				case 40:
					instance.guestUsers.Add(ProtocolParser.ReadUInt64(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static Private DeserializeLength(BufferStream stream, int length, Private instance, bool isDelta)
		{
			if (!isDelta)
			{
				if (instance.users == null)
				{
					instance.users = Pool.Get<List<ulong>>();
				}
				if (instance.guestUsers == null)
				{
					instance.guestUsers = Pool.Get<List<ulong>>();
				}
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.code = ProtocolParser.ReadString(stream);
					continue;
				case 16:
					instance.users.Add(ProtocolParser.ReadUInt64(stream));
					continue;
				case 34:
					instance.guestCode = ProtocolParser.ReadString(stream);
					continue;
				case 40:
					instance.guestUsers.Add(ProtocolParser.ReadUInt64(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, Private instance, Private previous)
		{
			if (instance.code != null && instance.code != previous.code)
			{
				stream.WriteByte(10);
				ProtocolParser.WriteString(stream, instance.code);
			}
			if (instance.users != null)
			{
				for (int i = 0; i < instance.users.Count; i++)
				{
					ulong val = instance.users[i];
					stream.WriteByte(16);
					ProtocolParser.WriteUInt64(stream, val);
				}
			}
			if (instance.guestCode != null && instance.guestCode != previous.guestCode)
			{
				stream.WriteByte(34);
				ProtocolParser.WriteString(stream, instance.guestCode);
			}
			if (instance.guestUsers != null)
			{
				for (int j = 0; j < instance.guestUsers.Count; j++)
				{
					ulong val2 = instance.guestUsers[j];
					stream.WriteByte(40);
					ProtocolParser.WriteUInt64(stream, val2);
				}
			}
		}

		public static void Serialize(BufferStream stream, Private instance)
		{
			if (instance.code != null)
			{
				stream.WriteByte(10);
				ProtocolParser.WriteString(stream, instance.code);
			}
			if (instance.users != null)
			{
				for (int i = 0; i < instance.users.Count; i++)
				{
					ulong val = instance.users[i];
					stream.WriteByte(16);
					ProtocolParser.WriteUInt64(stream, val);
				}
			}
			if (instance.guestCode != null)
			{
				stream.WriteByte(34);
				ProtocolParser.WriteString(stream, instance.guestCode);
			}
			if (instance.guestUsers != null)
			{
				for (int j = 0; j < instance.guestUsers.Count; j++)
				{
					ulong val2 = instance.guestUsers[j];
					stream.WriteByte(40);
					ProtocolParser.WriteUInt64(stream, val2);
				}
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	[NonSerialized]
	public Private pv;

	[NonSerialized]
	public bool hasCode;

	[NonSerialized]
	public bool hasGuestCode;

	[NonSerialized]
	public bool hasAuth;

	[NonSerialized]
	public bool hasGuestAuth;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(CodeLock instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.pv != null)
			{
				instance.pv.ResetToPool();
				instance.pv = null;
			}
			instance.hasCode = false;
			instance.hasGuestCode = false;
			instance.hasAuth = false;
			instance.hasGuestAuth = false;
			Pool.Free<CodeLock>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose CodeLock with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(CodeLock instance)
	{
		if (pv != null)
		{
			if (instance.pv == null)
			{
				instance.pv = pv.Copy();
			}
			else
			{
				pv.CopyTo(instance.pv);
			}
		}
		else
		{
			instance.pv = null;
		}
		instance.hasCode = hasCode;
		instance.hasGuestCode = hasGuestCode;
		instance.hasAuth = hasAuth;
		instance.hasGuestAuth = hasGuestAuth;
	}

	public CodeLock Copy()
	{
		CodeLock codeLock = Pool.Get<CodeLock>();
		CopyTo(codeLock);
		return codeLock;
	}

	public static CodeLock Deserialize(BufferStream stream)
	{
		CodeLock codeLock = Pool.Get<CodeLock>();
		Deserialize(stream, codeLock, isDelta: false);
		return codeLock;
	}

	public static CodeLock DeserializeLengthDelimited(BufferStream stream)
	{
		CodeLock codeLock = Pool.Get<CodeLock>();
		DeserializeLengthDelimited(stream, codeLock, isDelta: false);
		return codeLock;
	}

	public static CodeLock DeserializeLength(BufferStream stream, int length)
	{
		CodeLock codeLock = Pool.Get<CodeLock>();
		DeserializeLength(stream, length, codeLock, isDelta: false);
		return codeLock;
	}

	public static CodeLock Deserialize(byte[] buffer)
	{
		CodeLock codeLock = Pool.Get<CodeLock>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, codeLock, isDelta: false);
		return codeLock;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, CodeLock previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static CodeLock Deserialize(BufferStream stream, CodeLock instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.pv == null)
				{
					instance.pv = Private.DeserializeLengthDelimited(stream);
				}
				else
				{
					Private.DeserializeLengthDelimited(stream, instance.pv, isDelta);
				}
				break;
			case 16:
				instance.hasCode = ProtocolParser.ReadBool(stream);
				break;
			case 24:
				instance.hasGuestCode = ProtocolParser.ReadBool(stream);
				break;
			case 32:
				instance.hasAuth = ProtocolParser.ReadBool(stream);
				break;
			case 40:
				instance.hasGuestAuth = ProtocolParser.ReadBool(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static CodeLock DeserializeLengthDelimited(BufferStream stream, CodeLock instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.pv == null)
				{
					instance.pv = Private.DeserializeLengthDelimited(stream);
				}
				else
				{
					Private.DeserializeLengthDelimited(stream, instance.pv, isDelta);
				}
				break;
			case 16:
				instance.hasCode = ProtocolParser.ReadBool(stream);
				break;
			case 24:
				instance.hasGuestCode = ProtocolParser.ReadBool(stream);
				break;
			case 32:
				instance.hasAuth = ProtocolParser.ReadBool(stream);
				break;
			case 40:
				instance.hasGuestAuth = ProtocolParser.ReadBool(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static CodeLock DeserializeLength(BufferStream stream, int length, CodeLock instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.pv == null)
				{
					instance.pv = Private.DeserializeLengthDelimited(stream);
				}
				else
				{
					Private.DeserializeLengthDelimited(stream, instance.pv, isDelta);
				}
				break;
			case 16:
				instance.hasCode = ProtocolParser.ReadBool(stream);
				break;
			case 24:
				instance.hasGuestCode = ProtocolParser.ReadBool(stream);
				break;
			case 32:
				instance.hasAuth = ProtocolParser.ReadBool(stream);
				break;
			case 40:
				instance.hasGuestAuth = ProtocolParser.ReadBool(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, CodeLock instance, CodeLock previous)
	{
		if (instance.pv != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Private.SerializeDelta(stream, instance.pv, previous.pv);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		stream.WriteByte(16);
		ProtocolParser.WriteBool(stream, instance.hasCode);
		stream.WriteByte(24);
		ProtocolParser.WriteBool(stream, instance.hasGuestCode);
		stream.WriteByte(32);
		ProtocolParser.WriteBool(stream, instance.hasAuth);
		stream.WriteByte(40);
		ProtocolParser.WriteBool(stream, instance.hasGuestAuth);
	}

	public static void Serialize(BufferStream stream, CodeLock instance)
	{
		if (instance.pv != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			Private.Serialize(stream, instance.pv);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.hasCode)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteBool(stream, instance.hasCode);
		}
		if (instance.hasGuestCode)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteBool(stream, instance.hasGuestCode);
		}
		if (instance.hasAuth)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteBool(stream, instance.hasAuth);
		}
		if (instance.hasGuestAuth)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteBool(stream, instance.hasGuestAuth);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		pv?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Whitelist : IDisposable, IPooled, IProto<Whitelist>, IProto
{
	[NonSerialized]
	public List<ulong> users;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Whitelist instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.users != null)
			{
				List<ulong> list = instance.users;
				Pool.FreeUnmanaged<ulong>(ref list);
				instance.users = list;
			}
			Pool.Free<Whitelist>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Whitelist with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Whitelist instance)
	{
		if (users != null)
		{
			instance.users = Pool.Get<List<ulong>>();
			for (int i = 0; i < users.Count; i++)
			{
				ulong item = users[i];
				instance.users.Add(item);
			}
		}
		else
		{
			instance.users = null;
		}
	}

	public Whitelist Copy()
	{
		Whitelist whitelist = Pool.Get<Whitelist>();
		CopyTo(whitelist);
		return whitelist;
	}

	public static Whitelist Deserialize(BufferStream stream)
	{
		Whitelist whitelist = Pool.Get<Whitelist>();
		Deserialize(stream, whitelist, isDelta: false);
		return whitelist;
	}

	public static Whitelist DeserializeLengthDelimited(BufferStream stream)
	{
		Whitelist whitelist = Pool.Get<Whitelist>();
		DeserializeLengthDelimited(stream, whitelist, isDelta: false);
		return whitelist;
	}

	public static Whitelist DeserializeLength(BufferStream stream, int length)
	{
		Whitelist whitelist = Pool.Get<Whitelist>();
		DeserializeLength(stream, length, whitelist, isDelta: false);
		return whitelist;
	}

	public static Whitelist Deserialize(byte[] buffer)
	{
		Whitelist whitelist = Pool.Get<Whitelist>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, whitelist, isDelta: false);
		return whitelist;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Whitelist previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Whitelist Deserialize(BufferStream stream, Whitelist instance, bool isDelta)
	{
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<ulong>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.users.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Whitelist DeserializeLengthDelimited(BufferStream stream, Whitelist instance, bool isDelta)
	{
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<ulong>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.users.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Whitelist DeserializeLength(BufferStream stream, int length, Whitelist instance, bool isDelta)
	{
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<ulong>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.users.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Whitelist instance, Whitelist previous)
	{
		if (instance.users != null)
		{
			for (int i = 0; i < instance.users.Count; i++)
			{
				ulong val = instance.users[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, val);
			}
		}
	}

	public static void Serialize(BufferStream stream, Whitelist instance)
	{
		if (instance.users != null)
		{
			for (int i = 0; i < instance.users.Count; i++)
			{
				ulong val = instance.users[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, val);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class WeaponRackItem : IDisposable, IPooled, IProto<WeaponRackItem>, IProto
{
	[NonSerialized]
	public int itemID;

	[NonSerialized]
	public ulong skinid;

	[NonSerialized]
	public int gridSlotIndex;

	[NonSerialized]
	public int inventorySlot;

	[NonSerialized]
	public int ammoCount;

	[NonSerialized]
	public int ammoMax;

	[NonSerialized]
	public int ammoID;

	[NonSerialized]
	public float condition;

	[NonSerialized]
	public int rotation;

	[NonSerialized]
	public int ammoTypes;

	[NonSerialized]
	public float reloadTime;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(WeaponRackItem instance)
	{
		if (instance.ShouldPool)
		{
			instance.itemID = 0;
			instance.skinid = 0uL;
			instance.gridSlotIndex = 0;
			instance.inventorySlot = 0;
			instance.ammoCount = 0;
			instance.ammoMax = 0;
			instance.ammoID = 0;
			instance.condition = 0f;
			instance.rotation = 0;
			instance.ammoTypes = 0;
			instance.reloadTime = 0f;
			Pool.Free<WeaponRackItem>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose WeaponRackItem with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(WeaponRackItem instance)
	{
		instance.itemID = itemID;
		instance.skinid = skinid;
		instance.gridSlotIndex = gridSlotIndex;
		instance.inventorySlot = inventorySlot;
		instance.ammoCount = ammoCount;
		instance.ammoMax = ammoMax;
		instance.ammoID = ammoID;
		instance.condition = condition;
		instance.rotation = rotation;
		instance.ammoTypes = ammoTypes;
		instance.reloadTime = reloadTime;
	}

	public WeaponRackItem Copy()
	{
		WeaponRackItem weaponRackItem = Pool.Get<WeaponRackItem>();
		CopyTo(weaponRackItem);
		return weaponRackItem;
	}

	public static WeaponRackItem Deserialize(BufferStream stream)
	{
		WeaponRackItem weaponRackItem = Pool.Get<WeaponRackItem>();
		Deserialize(stream, weaponRackItem, isDelta: false);
		return weaponRackItem;
	}

	public static WeaponRackItem DeserializeLengthDelimited(BufferStream stream)
	{
		WeaponRackItem weaponRackItem = Pool.Get<WeaponRackItem>();
		DeserializeLengthDelimited(stream, weaponRackItem, isDelta: false);
		return weaponRackItem;
	}

	public static WeaponRackItem DeserializeLength(BufferStream stream, int length)
	{
		WeaponRackItem weaponRackItem = Pool.Get<WeaponRackItem>();
		DeserializeLength(stream, length, weaponRackItem, isDelta: false);
		return weaponRackItem;
	}

	public static WeaponRackItem Deserialize(byte[] buffer)
	{
		WeaponRackItem weaponRackItem = Pool.Get<WeaponRackItem>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, weaponRackItem, isDelta: false);
		return weaponRackItem;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, WeaponRackItem previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static WeaponRackItem Deserialize(BufferStream stream, WeaponRackItem instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.gridSlotIndex = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.inventorySlot = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.ammoMax = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.ammoID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 69:
				instance.condition = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.rotation = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 80:
				instance.ammoTypes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 93:
				instance.reloadTime = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static WeaponRackItem DeserializeLengthDelimited(BufferStream stream, WeaponRackItem instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.gridSlotIndex = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.inventorySlot = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.ammoMax = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.ammoID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 69:
				instance.condition = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.rotation = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 80:
				instance.ammoTypes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 93:
				instance.reloadTime = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static WeaponRackItem DeserializeLength(BufferStream stream, int length, WeaponRackItem instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.gridSlotIndex = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.inventorySlot = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 40:
				instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 48:
				instance.ammoMax = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 56:
				instance.ammoID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 69:
				instance.condition = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.rotation = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 80:
				instance.ammoTypes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 93:
				instance.reloadTime = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, WeaponRackItem instance, WeaponRackItem previous)
	{
		if (instance.itemID != previous.itemID)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.itemID);
		}
		if (instance.skinid != previous.skinid)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
		if (instance.gridSlotIndex != previous.gridSlotIndex)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.gridSlotIndex);
		}
		if (instance.inventorySlot != previous.inventorySlot)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.inventorySlot);
		}
		if (instance.ammoCount != previous.ammoCount)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoCount);
		}
		if (instance.ammoMax != previous.ammoMax)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoMax);
		}
		if (instance.ammoID != previous.ammoID)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoID);
		}
		if (instance.condition != previous.condition)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.condition);
		}
		if (instance.rotation != previous.rotation)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.rotation);
		}
		if (instance.ammoTypes != previous.ammoTypes)
		{
			stream.WriteByte(80);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoTypes);
		}
		if (instance.reloadTime != previous.reloadTime)
		{
			stream.WriteByte(93);
			ProtocolParser.WriteSingle(stream, instance.reloadTime);
		}
	}

	public static void Serialize(BufferStream stream, WeaponRackItem instance)
	{
		if (instance.itemID != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.itemID);
		}
		if (instance.skinid != 0L)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
		if (instance.gridSlotIndex != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.gridSlotIndex);
		}
		if (instance.inventorySlot != 0)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.inventorySlot);
		}
		if (instance.ammoCount != 0)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoCount);
		}
		if (instance.ammoMax != 0)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoMax);
		}
		if (instance.ammoID != 0)
		{
			stream.WriteByte(56);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoID);
		}
		if (instance.condition != 0f)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.condition);
		}
		if (instance.rotation != 0)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.rotation);
		}
		if (instance.ammoTypes != 0)
		{
			stream.WriteByte(80);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoTypes);
		}
		if (instance.reloadTime != 0f)
		{
			stream.WriteByte(93);
			ProtocolParser.WriteSingle(stream, instance.reloadTime);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class WeaponRack : IDisposable, IPooled, IProto<WeaponRack>, IProto
{
	[NonSerialized]
	public List<WeaponRackItem> items;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(WeaponRack instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.items != null)
		{
			for (int i = 0; i < instance.items.Count; i++)
			{
				if (instance.items[i] != null)
				{
					instance.items[i].ResetToPool();
					instance.items[i] = null;
				}
			}
			List<WeaponRackItem> list = instance.items;
			Pool.Free<WeaponRackItem>(ref list, false);
			instance.items = list;
		}
		Pool.Free<WeaponRack>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose WeaponRack with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(WeaponRack instance)
	{
		if (items != null)
		{
			instance.items = Pool.Get<List<WeaponRackItem>>();
			for (int i = 0; i < items.Count; i++)
			{
				WeaponRackItem item = items[i].Copy();
				instance.items.Add(item);
			}
		}
		else
		{
			instance.items = null;
		}
	}

	public WeaponRack Copy()
	{
		WeaponRack weaponRack = Pool.Get<WeaponRack>();
		CopyTo(weaponRack);
		return weaponRack;
	}

	public static WeaponRack Deserialize(BufferStream stream)
	{
		WeaponRack weaponRack = Pool.Get<WeaponRack>();
		Deserialize(stream, weaponRack, isDelta: false);
		return weaponRack;
	}

	public static WeaponRack DeserializeLengthDelimited(BufferStream stream)
	{
		WeaponRack weaponRack = Pool.Get<WeaponRack>();
		DeserializeLengthDelimited(stream, weaponRack, isDelta: false);
		return weaponRack;
	}

	public static WeaponRack DeserializeLength(BufferStream stream, int length)
	{
		WeaponRack weaponRack = Pool.Get<WeaponRack>();
		DeserializeLength(stream, length, weaponRack, isDelta: false);
		return weaponRack;
	}

	public static WeaponRack Deserialize(byte[] buffer)
	{
		WeaponRack weaponRack = Pool.Get<WeaponRack>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, weaponRack, isDelta: false);
		return weaponRack;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, WeaponRack previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static WeaponRack Deserialize(BufferStream stream, WeaponRack instance, bool isDelta)
	{
		if (!isDelta && instance.items == null)
		{
			instance.items = Pool.Get<List<WeaponRackItem>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.items.Add(WeaponRackItem.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static WeaponRack DeserializeLengthDelimited(BufferStream stream, WeaponRack instance, bool isDelta)
	{
		if (!isDelta && instance.items == null)
		{
			instance.items = Pool.Get<List<WeaponRackItem>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.items.Add(WeaponRackItem.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static WeaponRack DeserializeLength(BufferStream stream, int length, WeaponRack instance, bool isDelta)
	{
		if (!isDelta && instance.items == null)
		{
			instance.items = Pool.Get<List<WeaponRackItem>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.items.Add(WeaponRackItem.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, WeaponRack instance, WeaponRack previous)
	{
		if (instance.items == null)
		{
			return;
		}
		for (int i = 0; i < instance.items.Count; i++)
		{
			WeaponRackItem weaponRackItem = instance.items[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			WeaponRackItem.SerializeDelta(stream, weaponRackItem, weaponRackItem);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field items (ProtoBuf.WeaponRackItem)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, WeaponRack instance)
	{
		if (instance.items == null)
		{
			return;
		}
		for (int i = 0; i < instance.items.Count; i++)
		{
			WeaponRackItem instance2 = instance.items[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			WeaponRackItem.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field items (ProtoBuf.WeaponRackItem)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (items != null)
		{
			for (int i = 0; i < items.Count; i++)
			{
				items[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class FrankensteinTable : IDisposable, IPooled, IProto<FrankensteinTable>, IProto
{
	[NonSerialized]
	public List<int> itemIds;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(FrankensteinTable instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.itemIds != null)
			{
				List<int> list = instance.itemIds;
				Pool.FreeUnmanaged<int>(ref list);
				instance.itemIds = list;
			}
			Pool.Free<FrankensteinTable>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose FrankensteinTable with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(FrankensteinTable instance)
	{
		if (itemIds != null)
		{
			instance.itemIds = Pool.Get<List<int>>();
			for (int i = 0; i < itemIds.Count; i++)
			{
				int item = itemIds[i];
				instance.itemIds.Add(item);
			}
		}
		else
		{
			instance.itemIds = null;
		}
	}

	public FrankensteinTable Copy()
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		CopyTo(frankensteinTable);
		return frankensteinTable;
	}

	public static FrankensteinTable Deserialize(BufferStream stream)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		Deserialize(stream, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public static FrankensteinTable DeserializeLengthDelimited(BufferStream stream)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		DeserializeLengthDelimited(stream, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public static FrankensteinTable DeserializeLength(BufferStream stream, int length)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		DeserializeLength(stream, length, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public static FrankensteinTable Deserialize(byte[] buffer)
	{
		FrankensteinTable frankensteinTable = Pool.Get<FrankensteinTable>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, frankensteinTable, isDelta: false);
		return frankensteinTable;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, FrankensteinTable previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static FrankensteinTable Deserialize(BufferStream stream, FrankensteinTable instance, bool isDelta)
	{
		if (!isDelta && instance.itemIds == null)
		{
			instance.itemIds = Pool.Get<List<int>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemIds.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static FrankensteinTable DeserializeLengthDelimited(BufferStream stream, FrankensteinTable instance, bool isDelta)
	{
		if (!isDelta && instance.itemIds == null)
		{
			instance.itemIds = Pool.Get<List<int>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemIds.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static FrankensteinTable DeserializeLength(BufferStream stream, int length, FrankensteinTable instance, bool isDelta)
	{
		if (!isDelta && instance.itemIds == null)
		{
			instance.itemIds = Pool.Get<List<int>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemIds.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, FrankensteinTable instance, FrankensteinTable previous)
	{
		if (instance.itemIds != null)
		{
			for (int i = 0; i < instance.itemIds.Count; i++)
			{
				int num = instance.itemIds[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
	}

	public static void Serialize(BufferStream stream, FrankensteinTable instance)
	{
		if (instance.itemIds != null)
		{
			for (int i = 0; i < instance.itemIds.Count; i++)
			{
				int num = instance.itemIds[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)num);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BuildingPrivilege : IDisposable, IPooled, IProto<BuildingPrivilege>, IProto
{
	[NonSerialized]
	public List<PlayerNameID> users;

	[NonSerialized]
	public float upkeepPeriodMinutes;

	[NonSerialized]
	public float costFraction;

	[NonSerialized]
	public float protectedMinutes;

	[NonSerialized]
	public bool clientAuthed;

	[NonSerialized]
	public bool clientAnyAuthed;

	[NonSerialized]
	public float doorCostFraction;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BuildingPrivilege instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.users != null)
		{
			for (int i = 0; i < instance.users.Count; i++)
			{
				if (instance.users[i] != null)
				{
					instance.users[i].ResetToPool();
					instance.users[i] = null;
				}
			}
			List<PlayerNameID> list = instance.users;
			Pool.Free<PlayerNameID>(ref list, false);
			instance.users = list;
		}
		instance.upkeepPeriodMinutes = 0f;
		instance.costFraction = 0f;
		instance.protectedMinutes = 0f;
		instance.clientAuthed = false;
		instance.clientAnyAuthed = false;
		instance.doorCostFraction = 0f;
		Pool.Free<BuildingPrivilege>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BuildingPrivilege with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BuildingPrivilege instance)
	{
		if (users != null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
			for (int i = 0; i < users.Count; i++)
			{
				PlayerNameID item = users[i].Copy();
				instance.users.Add(item);
			}
		}
		else
		{
			instance.users = null;
		}
		instance.upkeepPeriodMinutes = upkeepPeriodMinutes;
		instance.costFraction = costFraction;
		instance.protectedMinutes = protectedMinutes;
		instance.clientAuthed = clientAuthed;
		instance.clientAnyAuthed = clientAnyAuthed;
		instance.doorCostFraction = doorCostFraction;
	}

	public BuildingPrivilege Copy()
	{
		BuildingPrivilege buildingPrivilege = Pool.Get<BuildingPrivilege>();
		CopyTo(buildingPrivilege);
		return buildingPrivilege;
	}

	public static BuildingPrivilege Deserialize(BufferStream stream)
	{
		BuildingPrivilege buildingPrivilege = Pool.Get<BuildingPrivilege>();
		Deserialize(stream, buildingPrivilege, isDelta: false);
		return buildingPrivilege;
	}

	public static BuildingPrivilege DeserializeLengthDelimited(BufferStream stream)
	{
		BuildingPrivilege buildingPrivilege = Pool.Get<BuildingPrivilege>();
		DeserializeLengthDelimited(stream, buildingPrivilege, isDelta: false);
		return buildingPrivilege;
	}

	public static BuildingPrivilege DeserializeLength(BufferStream stream, int length)
	{
		BuildingPrivilege buildingPrivilege = Pool.Get<BuildingPrivilege>();
		DeserializeLength(stream, length, buildingPrivilege, isDelta: false);
		return buildingPrivilege;
	}

	public static BuildingPrivilege Deserialize(byte[] buffer)
	{
		BuildingPrivilege buildingPrivilege = Pool.Get<BuildingPrivilege>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, buildingPrivilege, isDelta: false);
		return buildingPrivilege;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BuildingPrivilege previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BuildingPrivilege Deserialize(BufferStream stream, BuildingPrivilege instance, bool isDelta)
	{
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.users.Add(PlayerNameID.DeserializeLengthDelimited(stream));
				continue;
			case 21:
				instance.upkeepPeriodMinutes = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.costFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.protectedMinutes = ProtocolParser.ReadSingle(stream);
				continue;
			case 40:
				instance.clientAuthed = ProtocolParser.ReadBool(stream);
				continue;
			case 48:
				instance.clientAnyAuthed = ProtocolParser.ReadBool(stream);
				continue;
			case 61:
				instance.doorCostFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BuildingPrivilege DeserializeLengthDelimited(BufferStream stream, BuildingPrivilege instance, bool isDelta)
	{
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.users.Add(PlayerNameID.DeserializeLengthDelimited(stream));
				continue;
			case 21:
				instance.upkeepPeriodMinutes = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.costFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.protectedMinutes = ProtocolParser.ReadSingle(stream);
				continue;
			case 40:
				instance.clientAuthed = ProtocolParser.ReadBool(stream);
				continue;
			case 48:
				instance.clientAnyAuthed = ProtocolParser.ReadBool(stream);
				continue;
			case 61:
				instance.doorCostFraction = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BuildingPrivilege DeserializeLength(BufferStream stream, int length, BuildingPrivilege instance, bool isDelta)
	{
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.users.Add(PlayerNameID.DeserializeLengthDelimited(stream));
				continue;
			case 21:
				instance.upkeepPeriodMinutes = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.costFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 37:
				instance.protectedMinutes = ProtocolParser.ReadSingle(stream);
				continue;
			case 40:
				instance.clientAuthed = ProtocolParser.ReadBool(stream);
				continue;
			case 48:
				instance.clientAnyAuthed = ProtocolParser.ReadBool(stream);
				continue;
			case 61:
				instance.doorCostFraction = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BuildingPrivilege instance, BuildingPrivilege previous)
	{
		if (instance.users != null)
		{
			for (int i = 0; i < instance.users.Count; i++)
			{
				PlayerNameID playerNameID = instance.users[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				PlayerNameID.SerializeDelta(stream, playerNameID, playerNameID);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
		}
		if (instance.upkeepPeriodMinutes != previous.upkeepPeriodMinutes)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.upkeepPeriodMinutes);
		}
		if (instance.costFraction != previous.costFraction)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.costFraction);
		}
		if (instance.protectedMinutes != previous.protectedMinutes)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.protectedMinutes);
		}
		stream.WriteByte(40);
		ProtocolParser.WriteBool(stream, instance.clientAuthed);
		stream.WriteByte(48);
		ProtocolParser.WriteBool(stream, instance.clientAnyAuthed);
		if (instance.doorCostFraction != previous.doorCostFraction)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.doorCostFraction);
		}
	}

	public static void Serialize(BufferStream stream, BuildingPrivilege instance)
	{
		if (instance.users != null)
		{
			for (int i = 0; i < instance.users.Count; i++)
			{
				PlayerNameID instance2 = instance.users[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(5);
				int position = stream.Position;
				PlayerNameID.Serialize(stream, instance2);
				int val = stream.Position - position;
				Span<byte> span = range.GetSpan();
				int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
				if (num < 5)
				{
					span[num - 1] |= 128;
					while (num < 4)
					{
						span[num++] = 128;
					}
					span[4] = 0;
				}
			}
		}
		if (instance.upkeepPeriodMinutes != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.upkeepPeriodMinutes);
		}
		if (instance.costFraction != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.costFraction);
		}
		if (instance.protectedMinutes != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.protectedMinutes);
		}
		if (instance.clientAuthed)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteBool(stream, instance.clientAuthed);
		}
		if (instance.clientAnyAuthed)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteBool(stream, instance.clientAnyAuthed);
		}
		if (instance.doorCostFraction != 0f)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.doorCostFraction);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (users != null)
		{
			for (int i = 0; i < users.Count; i++)
			{
				users[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BuildingPrivilegeRetro : IDisposable, IPooled, IProto<BuildingPrivilegeRetro>, IProto
{
	[NonSerialized]
	public List<float> resources;

	[NonSerialized]
	public List<BuildingPrivilegeRetroTool> tools;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BuildingPrivilegeRetro instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.resources != null)
		{
			List<float> list = instance.resources;
			Pool.FreeUnmanaged<float>(ref list);
			instance.resources = list;
		}
		if (instance.tools != null)
		{
			for (int i = 0; i < instance.tools.Count; i++)
			{
				if (instance.tools[i] != null)
				{
					instance.tools[i].ResetToPool();
					instance.tools[i] = null;
				}
			}
			List<BuildingPrivilegeRetroTool> list2 = instance.tools;
			Pool.Free<BuildingPrivilegeRetroTool>(ref list2, false);
			instance.tools = list2;
		}
		Pool.Free<BuildingPrivilegeRetro>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BuildingPrivilegeRetro with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BuildingPrivilegeRetro instance)
	{
		if (resources != null)
		{
			instance.resources = Pool.Get<List<float>>();
			for (int i = 0; i < resources.Count; i++)
			{
				float item = resources[i];
				instance.resources.Add(item);
			}
		}
		else
		{
			instance.resources = null;
		}
		if (tools != null)
		{
			instance.tools = Pool.Get<List<BuildingPrivilegeRetroTool>>();
			for (int j = 0; j < tools.Count; j++)
			{
				BuildingPrivilegeRetroTool item2 = tools[j].Copy();
				instance.tools.Add(item2);
			}
		}
		else
		{
			instance.tools = null;
		}
	}

	public BuildingPrivilegeRetro Copy()
	{
		BuildingPrivilegeRetro buildingPrivilegeRetro = Pool.Get<BuildingPrivilegeRetro>();
		CopyTo(buildingPrivilegeRetro);
		return buildingPrivilegeRetro;
	}

	public static BuildingPrivilegeRetro Deserialize(BufferStream stream)
	{
		BuildingPrivilegeRetro buildingPrivilegeRetro = Pool.Get<BuildingPrivilegeRetro>();
		Deserialize(stream, buildingPrivilegeRetro, isDelta: false);
		return buildingPrivilegeRetro;
	}

	public static BuildingPrivilegeRetro DeserializeLengthDelimited(BufferStream stream)
	{
		BuildingPrivilegeRetro buildingPrivilegeRetro = Pool.Get<BuildingPrivilegeRetro>();
		DeserializeLengthDelimited(stream, buildingPrivilegeRetro, isDelta: false);
		return buildingPrivilegeRetro;
	}

	public static BuildingPrivilegeRetro DeserializeLength(BufferStream stream, int length)
	{
		BuildingPrivilegeRetro buildingPrivilegeRetro = Pool.Get<BuildingPrivilegeRetro>();
		DeserializeLength(stream, length, buildingPrivilegeRetro, isDelta: false);
		return buildingPrivilegeRetro;
	}

	public static BuildingPrivilegeRetro Deserialize(byte[] buffer)
	{
		BuildingPrivilegeRetro buildingPrivilegeRetro = Pool.Get<BuildingPrivilegeRetro>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, buildingPrivilegeRetro, isDelta: false);
		return buildingPrivilegeRetro;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BuildingPrivilegeRetro previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BuildingPrivilegeRetro Deserialize(BufferStream stream, BuildingPrivilegeRetro instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.resources == null)
			{
				instance.resources = Pool.Get<List<float>>();
			}
			if (instance.tools == null)
			{
				instance.tools = Pool.Get<List<BuildingPrivilegeRetroTool>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.resources.Add(ProtocolParser.ReadSingle(stream));
				continue;
			case 18:
				instance.tools.Add(BuildingPrivilegeRetroTool.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BuildingPrivilegeRetro DeserializeLengthDelimited(BufferStream stream, BuildingPrivilegeRetro instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.resources == null)
			{
				instance.resources = Pool.Get<List<float>>();
			}
			if (instance.tools == null)
			{
				instance.tools = Pool.Get<List<BuildingPrivilegeRetroTool>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.resources.Add(ProtocolParser.ReadSingle(stream));
				continue;
			case 18:
				instance.tools.Add(BuildingPrivilegeRetroTool.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BuildingPrivilegeRetro DeserializeLength(BufferStream stream, int length, BuildingPrivilegeRetro instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.resources == null)
			{
				instance.resources = Pool.Get<List<float>>();
			}
			if (instance.tools == null)
			{
				instance.tools = Pool.Get<List<BuildingPrivilegeRetroTool>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.resources.Add(ProtocolParser.ReadSingle(stream));
				continue;
			case 18:
				instance.tools.Add(BuildingPrivilegeRetroTool.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BuildingPrivilegeRetro instance, BuildingPrivilegeRetro previous)
	{
		if (instance.resources != null)
		{
			for (int i = 0; i < instance.resources.Count; i++)
			{
				float f = instance.resources[i];
				stream.WriteByte(13);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
		if (instance.tools == null)
		{
			return;
		}
		for (int j = 0; j < instance.tools.Count; j++)
		{
			BuildingPrivilegeRetroTool buildingPrivilegeRetroTool = instance.tools[j];
			stream.WriteByte(18);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			BuildingPrivilegeRetroTool.SerializeDelta(stream, buildingPrivilegeRetroTool, buildingPrivilegeRetroTool);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tools (ProtoBuf.BuildingPrivilegeRetroTool)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, BuildingPrivilegeRetro instance)
	{
		if (instance.resources != null)
		{
			for (int i = 0; i < instance.resources.Count; i++)
			{
				float f = instance.resources[i];
				stream.WriteByte(13);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
		if (instance.tools == null)
		{
			return;
		}
		for (int j = 0; j < instance.tools.Count; j++)
		{
			BuildingPrivilegeRetroTool instance2 = instance.tools[j];
			stream.WriteByte(18);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			BuildingPrivilegeRetroTool.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tools (ProtoBuf.BuildingPrivilegeRetroTool)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (tools != null)
		{
			for (int i = 0; i < tools.Count; i++)
			{
				tools[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BuildingPrivilegeRetroTool : IDisposable, IPooled, IProto<BuildingPrivilegeRetroTool>, IProto
{
	[NonSerialized]
	public int itemID;

	[NonSerialized]
	public ulong skinid;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BuildingPrivilegeRetroTool instance)
	{
		if (instance.ShouldPool)
		{
			instance.itemID = 0;
			instance.skinid = 0uL;
			Pool.Free<BuildingPrivilegeRetroTool>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BuildingPrivilegeRetroTool with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BuildingPrivilegeRetroTool instance)
	{
		instance.itemID = itemID;
		instance.skinid = skinid;
	}

	public BuildingPrivilegeRetroTool Copy()
	{
		BuildingPrivilegeRetroTool buildingPrivilegeRetroTool = Pool.Get<BuildingPrivilegeRetroTool>();
		CopyTo(buildingPrivilegeRetroTool);
		return buildingPrivilegeRetroTool;
	}

	public static BuildingPrivilegeRetroTool Deserialize(BufferStream stream)
	{
		BuildingPrivilegeRetroTool buildingPrivilegeRetroTool = Pool.Get<BuildingPrivilegeRetroTool>();
		Deserialize(stream, buildingPrivilegeRetroTool, isDelta: false);
		return buildingPrivilegeRetroTool;
	}

	public static BuildingPrivilegeRetroTool DeserializeLengthDelimited(BufferStream stream)
	{
		BuildingPrivilegeRetroTool buildingPrivilegeRetroTool = Pool.Get<BuildingPrivilegeRetroTool>();
		DeserializeLengthDelimited(stream, buildingPrivilegeRetroTool, isDelta: false);
		return buildingPrivilegeRetroTool;
	}

	public static BuildingPrivilegeRetroTool DeserializeLength(BufferStream stream, int length)
	{
		BuildingPrivilegeRetroTool buildingPrivilegeRetroTool = Pool.Get<BuildingPrivilegeRetroTool>();
		DeserializeLength(stream, length, buildingPrivilegeRetroTool, isDelta: false);
		return buildingPrivilegeRetroTool;
	}

	public static BuildingPrivilegeRetroTool Deserialize(byte[] buffer)
	{
		BuildingPrivilegeRetroTool buildingPrivilegeRetroTool = Pool.Get<BuildingPrivilegeRetroTool>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, buildingPrivilegeRetroTool, isDelta: false);
		return buildingPrivilegeRetroTool;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BuildingPrivilegeRetroTool previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BuildingPrivilegeRetroTool Deserialize(BufferStream stream, BuildingPrivilegeRetroTool instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BuildingPrivilegeRetroTool DeserializeLengthDelimited(BufferStream stream, BuildingPrivilegeRetroTool instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BuildingPrivilegeRetroTool DeserializeLength(BufferStream stream, int length, BuildingPrivilegeRetroTool instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemID = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.skinid = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BuildingPrivilegeRetroTool instance, BuildingPrivilegeRetroTool previous)
	{
		if (instance.itemID != previous.itemID)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.itemID);
		}
		if (instance.skinid != previous.skinid)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
	}

	public static void Serialize(BufferStream stream, BuildingPrivilegeRetroTool instance)
	{
		if (instance.itemID != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.itemID);
		}
		if (instance.skinid != 0L)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.skinid);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class StorageBox : IDisposable, IPooled, IProto<StorageBox>, IProto
{
	[NonSerialized]
	public ItemContainer contents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(StorageBox instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.contents != null)
			{
				instance.contents.ResetToPool();
				instance.contents = null;
			}
			Pool.Free<StorageBox>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose StorageBox with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(StorageBox instance)
	{
		if (contents != null)
		{
			if (instance.contents == null)
			{
				instance.contents = contents.Copy();
			}
			else
			{
				contents.CopyTo(instance.contents);
			}
		}
		else
		{
			instance.contents = null;
		}
	}

	public StorageBox Copy()
	{
		StorageBox storageBox = Pool.Get<StorageBox>();
		CopyTo(storageBox);
		return storageBox;
	}

	public static StorageBox Deserialize(BufferStream stream)
	{
		StorageBox storageBox = Pool.Get<StorageBox>();
		Deserialize(stream, storageBox, isDelta: false);
		return storageBox;
	}

	public static StorageBox DeserializeLengthDelimited(BufferStream stream)
	{
		StorageBox storageBox = Pool.Get<StorageBox>();
		DeserializeLengthDelimited(stream, storageBox, isDelta: false);
		return storageBox;
	}

	public static StorageBox DeserializeLength(BufferStream stream, int length)
	{
		StorageBox storageBox = Pool.Get<StorageBox>();
		DeserializeLength(stream, length, storageBox, isDelta: false);
		return storageBox;
	}

	public static StorageBox Deserialize(byte[] buffer)
	{
		StorageBox storageBox = Pool.Get<StorageBox>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, storageBox, isDelta: false);
		return storageBox;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, StorageBox previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static StorageBox Deserialize(BufferStream stream, StorageBox instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.contents == null)
				{
					instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static StorageBox DeserializeLengthDelimited(BufferStream stream, StorageBox instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.contents == null)
				{
					instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static StorageBox DeserializeLength(BufferStream stream, int length, StorageBox instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.contents == null)
				{
					instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, StorageBox instance, StorageBox previous)
	{
		if (instance.contents == null)
		{
			return;
		}
		stream.WriteByte(10);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		ItemContainer.SerializeDelta(stream, instance.contents, previous.contents);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public static void Serialize(BufferStream stream, StorageBox instance)
	{
		if (instance.contents == null)
		{
			return;
		}
		stream.WriteByte(10);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		ItemContainer.Serialize(stream, instance.contents);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		contents?.InspectUids(action);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class HeldEntity : IDisposable, IPooled, IProto<HeldEntity>, IProto
{
	[NonSerialized]
	public ItemId itemUID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HeldEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.itemUID = default(ItemId);
			Pool.Free<HeldEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HeldEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HeldEntity instance)
	{
		instance.itemUID = itemUID;
	}

	public HeldEntity Copy()
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		CopyTo(heldEntity);
		return heldEntity;
	}

	public static HeldEntity Deserialize(BufferStream stream)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		Deserialize(stream, heldEntity, isDelta: false);
		return heldEntity;
	}

	public static HeldEntity DeserializeLengthDelimited(BufferStream stream)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		DeserializeLengthDelimited(stream, heldEntity, isDelta: false);
		return heldEntity;
	}

	public static HeldEntity DeserializeLength(BufferStream stream, int length)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		DeserializeLength(stream, length, heldEntity, isDelta: false);
		return heldEntity;
	}

	public static HeldEntity Deserialize(byte[] buffer)
	{
		HeldEntity heldEntity = Pool.Get<HeldEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, heldEntity, isDelta: false);
		return heldEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HeldEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HeldEntity Deserialize(BufferStream stream, HeldEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.itemUID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HeldEntity DeserializeLengthDelimited(BufferStream stream, HeldEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemUID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HeldEntity DeserializeLength(BufferStream stream, int length, HeldEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.itemUID = new ItemId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HeldEntity instance, HeldEntity previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.itemUID.Value);
	}

	public static void Serialize(BufferStream stream, HeldEntity instance)
	{
		if (instance.itemUID != default(ItemId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.itemUID.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.ItemId, ref itemUID.Value);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Loot : IDisposable, IPooled, IProto<Loot>, IProto
{
	[NonSerialized]
	public ItemContainer contents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Loot instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.contents != null)
			{
				instance.contents.ResetToPool();
				instance.contents = null;
			}
			Pool.Free<Loot>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Loot with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Loot instance)
	{
		if (contents != null)
		{
			if (instance.contents == null)
			{
				instance.contents = contents.Copy();
			}
			else
			{
				contents.CopyTo(instance.contents);
			}
		}
		else
		{
			instance.contents = null;
		}
	}

	public Loot Copy()
	{
		Loot loot = Pool.Get<Loot>();
		CopyTo(loot);
		return loot;
	}

	public static Loot Deserialize(BufferStream stream)
	{
		Loot loot = Pool.Get<Loot>();
		Deserialize(stream, loot, isDelta: false);
		return loot;
	}

	public static Loot DeserializeLengthDelimited(BufferStream stream)
	{
		Loot loot = Pool.Get<Loot>();
		DeserializeLengthDelimited(stream, loot, isDelta: false);
		return loot;
	}

	public static Loot DeserializeLength(BufferStream stream, int length)
	{
		Loot loot = Pool.Get<Loot>();
		DeserializeLength(stream, length, loot, isDelta: false);
		return loot;
	}

	public static Loot Deserialize(byte[] buffer)
	{
		Loot loot = Pool.Get<Loot>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, loot, isDelta: false);
		return loot;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Loot previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Loot Deserialize(BufferStream stream, Loot instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.contents == null)
				{
					instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static Loot DeserializeLengthDelimited(BufferStream stream, Loot instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.contents == null)
				{
					instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Loot DeserializeLength(BufferStream stream, int length, Loot instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.contents == null)
				{
					instance.contents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.contents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Loot instance, Loot previous)
	{
		if (instance.contents == null)
		{
			return;
		}
		stream.WriteByte(10);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		ItemContainer.SerializeDelta(stream, instance.contents, previous.contents);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public static void Serialize(BufferStream stream, Loot instance)
	{
		if (instance.contents == null)
		{
			return;
		}
		stream.WriteByte(10);
		BufferStream.RangeHandle range = stream.GetRange(5);
		int position = stream.Position;
		ItemContainer.Serialize(stream, instance.contents);
		int val = stream.Position - position;
		Span<byte> span = range.GetSpan();
		int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
		if (num < 5)
		{
			span[num - 1] |= 128;
			while (num < 4)
			{
				span[num++] = 128;
			}
			span[4] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		contents?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GenericSpawner : IDisposable, IPooled, IProto<GenericSpawner>, IProto
{
	public class SpawnedEnt : IDisposable, IPooled, IProto<SpawnedEnt>, IProto
	{
		[NonSerialized]
		public uint uid;

		[NonSerialized]
		public uint spawnPointIndex;

		[NonSerialized]
		public bool mobile;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(SpawnedEnt instance)
		{
			if (instance.ShouldPool)
			{
				instance.uid = 0u;
				instance.spawnPointIndex = 0u;
				instance.mobile = false;
				Pool.Free<SpawnedEnt>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose SpawnedEnt with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(SpawnedEnt instance)
		{
			instance.uid = uid;
			instance.spawnPointIndex = spawnPointIndex;
			instance.mobile = mobile;
		}

		public SpawnedEnt Copy()
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			CopyTo(spawnedEnt);
			return spawnedEnt;
		}

		public static SpawnedEnt Deserialize(BufferStream stream)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			Deserialize(stream, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public static SpawnedEnt DeserializeLengthDelimited(BufferStream stream)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			DeserializeLengthDelimited(stream, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public static SpawnedEnt DeserializeLength(BufferStream stream, int length)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			DeserializeLength(stream, length, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public static SpawnedEnt Deserialize(byte[] buffer)
		{
			SpawnedEnt spawnedEnt = Pool.Get<SpawnedEnt>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, spawnedEnt, isDelta: false);
			return spawnedEnt;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, SpawnedEnt previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static SpawnedEnt Deserialize(BufferStream stream, SpawnedEnt instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.uid = ProtocolParser.ReadUInt32(stream);
					continue;
				case 16:
					instance.spawnPointIndex = ProtocolParser.ReadUInt32(stream);
					continue;
				case 24:
					instance.mobile = ProtocolParser.ReadBool(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static SpawnedEnt DeserializeLengthDelimited(BufferStream stream, SpawnedEnt instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.uid = ProtocolParser.ReadUInt32(stream);
					continue;
				case 16:
					instance.spawnPointIndex = ProtocolParser.ReadUInt32(stream);
					continue;
				case 24:
					instance.mobile = ProtocolParser.ReadBool(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static SpawnedEnt DeserializeLength(BufferStream stream, int length, SpawnedEnt instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.uid = ProtocolParser.ReadUInt32(stream);
					continue;
				case 16:
					instance.spawnPointIndex = ProtocolParser.ReadUInt32(stream);
					continue;
				case 24:
					instance.mobile = ProtocolParser.ReadBool(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, SpawnedEnt instance, SpawnedEnt previous)
		{
			if (instance.uid != previous.uid)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt32(stream, instance.uid);
			}
			if (instance.spawnPointIndex != previous.spawnPointIndex)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt32(stream, instance.spawnPointIndex);
			}
			stream.WriteByte(24);
			ProtocolParser.WriteBool(stream, instance.mobile);
		}

		public static void Serialize(BufferStream stream, SpawnedEnt instance)
		{
			if (instance.uid != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt32(stream, instance.uid);
			}
			if (instance.spawnPointIndex != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt32(stream, instance.spawnPointIndex);
			}
			if (instance.mobile)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteBool(stream, instance.mobile);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	[NonSerialized]
	public List<SpawnedEnt> ents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GenericSpawner instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.ents != null)
		{
			for (int i = 0; i < instance.ents.Count; i++)
			{
				if (instance.ents[i] != null)
				{
					instance.ents[i].ResetToPool();
					instance.ents[i] = null;
				}
			}
			List<SpawnedEnt> list = instance.ents;
			Pool.Free<SpawnedEnt>(ref list, false);
			instance.ents = list;
		}
		Pool.Free<GenericSpawner>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GenericSpawner with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GenericSpawner instance)
	{
		if (ents != null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
			for (int i = 0; i < ents.Count; i++)
			{
				SpawnedEnt item = ents[i].Copy();
				instance.ents.Add(item);
			}
		}
		else
		{
			instance.ents = null;
		}
	}

	public GenericSpawner Copy()
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		CopyTo(genericSpawner);
		return genericSpawner;
	}

	public static GenericSpawner Deserialize(BufferStream stream)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		Deserialize(stream, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public static GenericSpawner DeserializeLengthDelimited(BufferStream stream)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		DeserializeLengthDelimited(stream, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public static GenericSpawner DeserializeLength(BufferStream stream, int length)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		DeserializeLength(stream, length, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public static GenericSpawner Deserialize(byte[] buffer)
	{
		GenericSpawner genericSpawner = Pool.Get<GenericSpawner>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, genericSpawner, isDelta: false);
		return genericSpawner;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GenericSpawner previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GenericSpawner Deserialize(BufferStream stream, GenericSpawner instance, bool isDelta)
	{
		if (!isDelta && instance.ents == null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.ents.Add(SpawnedEnt.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static GenericSpawner DeserializeLengthDelimited(BufferStream stream, GenericSpawner instance, bool isDelta)
	{
		if (!isDelta && instance.ents == null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.ents.Add(SpawnedEnt.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GenericSpawner DeserializeLength(BufferStream stream, int length, GenericSpawner instance, bool isDelta)
	{
		if (!isDelta && instance.ents == null)
		{
			instance.ents = Pool.Get<List<SpawnedEnt>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.ents.Add(SpawnedEnt.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GenericSpawner instance, GenericSpawner previous)
	{
		if (instance.ents == null)
		{
			return;
		}
		for (int i = 0; i < instance.ents.Count; i++)
		{
			SpawnedEnt spawnedEnt = instance.ents[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			SpawnedEnt.SerializeDelta(stream, spawnedEnt, spawnedEnt);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ents (ProtoBuf.GenericSpawner.SpawnedEnt)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, GenericSpawner instance)
	{
		if (instance.ents == null)
		{
			return;
		}
		for (int i = 0; i < instance.ents.Count; i++)
		{
			SpawnedEnt instance2 = instance.ents[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			SpawnedEnt.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field ents (ProtoBuf.GenericSpawner.SpawnedEnt)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (ents != null)
		{
			for (int i = 0; i < ents.Count; i++)
			{
				ents[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class SleepingBag : IDisposable, IPooled, IProto<SleepingBag>, IProto
{
	[NonSerialized]
	public string name;

	[NonSerialized]
	public ulong deployerID;

	[NonSerialized]
	public bool clientAssigned;

	[NonSerialized]
	public bool isAssigned;

	[NonSerialized]
	public string teamMemberName;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(SleepingBag instance)
	{
		if (instance.ShouldPool)
		{
			instance.name = string.Empty;
			instance.deployerID = 0uL;
			instance.clientAssigned = false;
			instance.isAssigned = false;
			instance.teamMemberName = string.Empty;
			Pool.Free<SleepingBag>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose SleepingBag with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(SleepingBag instance)
	{
		instance.name = name;
		instance.deployerID = deployerID;
		instance.clientAssigned = clientAssigned;
		instance.isAssigned = isAssigned;
		instance.teamMemberName = teamMemberName;
	}

	public SleepingBag Copy()
	{
		SleepingBag sleepingBag = Pool.Get<SleepingBag>();
		CopyTo(sleepingBag);
		return sleepingBag;
	}

	public static SleepingBag Deserialize(BufferStream stream)
	{
		SleepingBag sleepingBag = Pool.Get<SleepingBag>();
		Deserialize(stream, sleepingBag, isDelta: false);
		return sleepingBag;
	}

	public static SleepingBag DeserializeLengthDelimited(BufferStream stream)
	{
		SleepingBag sleepingBag = Pool.Get<SleepingBag>();
		DeserializeLengthDelimited(stream, sleepingBag, isDelta: false);
		return sleepingBag;
	}

	public static SleepingBag DeserializeLength(BufferStream stream, int length)
	{
		SleepingBag sleepingBag = Pool.Get<SleepingBag>();
		DeserializeLength(stream, length, sleepingBag, isDelta: false);
		return sleepingBag;
	}

	public static SleepingBag Deserialize(byte[] buffer)
	{
		SleepingBag sleepingBag = Pool.Get<SleepingBag>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, sleepingBag, isDelta: false);
		return sleepingBag;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, SleepingBag previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static SleepingBag Deserialize(BufferStream stream, SleepingBag instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.name = ProtocolParser.ReadString(stream);
				continue;
			case 24:
				instance.deployerID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.clientAssigned = ProtocolParser.ReadBool(stream);
				continue;
			case 40:
				instance.isAssigned = ProtocolParser.ReadBool(stream);
				continue;
			case 50:
				instance.teamMemberName = ProtocolParser.ReadString(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static SleepingBag DeserializeLengthDelimited(BufferStream stream, SleepingBag instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.name = ProtocolParser.ReadString(stream);
				continue;
			case 24:
				instance.deployerID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.clientAssigned = ProtocolParser.ReadBool(stream);
				continue;
			case 40:
				instance.isAssigned = ProtocolParser.ReadBool(stream);
				continue;
			case 50:
				instance.teamMemberName = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static SleepingBag DeserializeLength(BufferStream stream, int length, SleepingBag instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.name = ProtocolParser.ReadString(stream);
				continue;
			case 24:
				instance.deployerID = ProtocolParser.ReadUInt64(stream);
				continue;
			case 32:
				instance.clientAssigned = ProtocolParser.ReadBool(stream);
				continue;
			case 40:
				instance.isAssigned = ProtocolParser.ReadBool(stream);
				continue;
			case 50:
				instance.teamMemberName = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, SleepingBag instance, SleepingBag previous)
	{
		if (instance.name != null && instance.name != previous.name)
		{
			stream.WriteByte(10);
			ProtocolParser.WriteString(stream, instance.name);
		}
		if (instance.deployerID != previous.deployerID)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.deployerID);
		}
		stream.WriteByte(32);
		ProtocolParser.WriteBool(stream, instance.clientAssigned);
		stream.WriteByte(40);
		ProtocolParser.WriteBool(stream, instance.isAssigned);
		if (instance.teamMemberName != null && instance.teamMemberName != previous.teamMemberName)
		{
			stream.WriteByte(50);
			ProtocolParser.WriteString(stream, instance.teamMemberName);
		}
	}

	public static void Serialize(BufferStream stream, SleepingBag instance)
	{
		if (instance.name != null)
		{
			stream.WriteByte(10);
			ProtocolParser.WriteString(stream, instance.name);
		}
		if (instance.deployerID != 0L)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, instance.deployerID);
		}
		if (instance.clientAssigned)
		{
			stream.WriteByte(32);
			ProtocolParser.WriteBool(stream, instance.clientAssigned);
		}
		if (instance.isAssigned)
		{
			stream.WriteByte(40);
			ProtocolParser.WriteBool(stream, instance.isAssigned);
		}
		if (instance.teamMemberName != null)
		{
			stream.WriteByte(50);
			ProtocolParser.WriteString(stream, instance.teamMemberName);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Magazine : IDisposable, IPooled, IProto<Magazine>, IProto
{
	[NonSerialized]
	public int capacity;

	[NonSerialized]
	public int contents;

	[NonSerialized]
	public int ammoType;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Magazine instance)
	{
		if (instance.ShouldPool)
		{
			instance.capacity = 0;
			instance.contents = 0;
			instance.ammoType = 0;
			Pool.Free<Magazine>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Magazine with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Magazine instance)
	{
		instance.capacity = capacity;
		instance.contents = contents;
		instance.ammoType = ammoType;
	}

	public Magazine Copy()
	{
		Magazine magazine = Pool.Get<Magazine>();
		CopyTo(magazine);
		return magazine;
	}

	public static Magazine Deserialize(BufferStream stream)
	{
		Magazine magazine = Pool.Get<Magazine>();
		Deserialize(stream, magazine, isDelta: false);
		return magazine;
	}

	public static Magazine DeserializeLengthDelimited(BufferStream stream)
	{
		Magazine magazine = Pool.Get<Magazine>();
		DeserializeLengthDelimited(stream, magazine, isDelta: false);
		return magazine;
	}

	public static Magazine DeserializeLength(BufferStream stream, int length)
	{
		Magazine magazine = Pool.Get<Magazine>();
		DeserializeLength(stream, length, magazine, isDelta: false);
		return magazine;
	}

	public static Magazine Deserialize(byte[] buffer)
	{
		Magazine magazine = Pool.Get<Magazine>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, magazine, isDelta: false);
		return magazine;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Magazine previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Magazine Deserialize(BufferStream stream, Magazine instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.capacity = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.contents = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.ammoType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Magazine DeserializeLengthDelimited(BufferStream stream, Magazine instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.capacity = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.contents = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.ammoType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Magazine DeserializeLength(BufferStream stream, int length, Magazine instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.capacity = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 16:
				instance.contents = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 24:
				instance.ammoType = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Magazine instance, Magazine previous)
	{
		if (instance.capacity != previous.capacity)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.capacity);
		}
		if (instance.contents != previous.contents)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.contents);
		}
		if (instance.ammoType != previous.ammoType)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoType);
		}
	}

	public static void Serialize(BufferStream stream, Magazine instance)
	{
		if (instance.capacity != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.capacity);
		}
		if (instance.contents != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.contents);
		}
		if (instance.ammoType != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoType);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BaseProjectile : IDisposable, IPooled, IProto<BaseProjectile>, IProto
{
	[NonSerialized]
	public Magazine primaryMagazine;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseProjectile instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.primaryMagazine != null)
			{
				instance.primaryMagazine.ResetToPool();
				instance.primaryMagazine = null;
			}
			Pool.Free<BaseProjectile>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseProjectile with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseProjectile instance)
	{
		if (primaryMagazine != null)
		{
			if (instance.primaryMagazine == null)
			{
				instance.primaryMagazine = primaryMagazine.Copy();
			}
			else
			{
				primaryMagazine.CopyTo(instance.primaryMagazine);
			}
		}
		else
		{
			instance.primaryMagazine = null;
		}
	}

	public BaseProjectile Copy()
	{
		BaseProjectile baseProjectile = Pool.Get<BaseProjectile>();
		CopyTo(baseProjectile);
		return baseProjectile;
	}

	public static BaseProjectile Deserialize(BufferStream stream)
	{
		BaseProjectile baseProjectile = Pool.Get<BaseProjectile>();
		Deserialize(stream, baseProjectile, isDelta: false);
		return baseProjectile;
	}

	public static BaseProjectile DeserializeLengthDelimited(BufferStream stream)
	{
		BaseProjectile baseProjectile = Pool.Get<BaseProjectile>();
		DeserializeLengthDelimited(stream, baseProjectile, isDelta: false);
		return baseProjectile;
	}

	public static BaseProjectile DeserializeLength(BufferStream stream, int length)
	{
		BaseProjectile baseProjectile = Pool.Get<BaseProjectile>();
		DeserializeLength(stream, length, baseProjectile, isDelta: false);
		return baseProjectile;
	}

	public static BaseProjectile Deserialize(byte[] buffer)
	{
		BaseProjectile baseProjectile = Pool.Get<BaseProjectile>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseProjectile, isDelta: false);
		return baseProjectile;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseProjectile previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseProjectile Deserialize(BufferStream stream, BaseProjectile instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.primaryMagazine == null)
				{
					instance.primaryMagazine = Magazine.DeserializeLengthDelimited(stream);
				}
				else
				{
					Magazine.DeserializeLengthDelimited(stream, instance.primaryMagazine, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static BaseProjectile DeserializeLengthDelimited(BufferStream stream, BaseProjectile instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.primaryMagazine == null)
				{
					instance.primaryMagazine = Magazine.DeserializeLengthDelimited(stream);
				}
				else
				{
					Magazine.DeserializeLengthDelimited(stream, instance.primaryMagazine, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseProjectile DeserializeLength(BufferStream stream, int length, BaseProjectile instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.primaryMagazine == null)
				{
					instance.primaryMagazine = Magazine.DeserializeLengthDelimited(stream);
				}
				else
				{
					Magazine.DeserializeLengthDelimited(stream, instance.primaryMagazine, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseProjectile instance, BaseProjectile previous)
	{
		if (instance.primaryMagazine != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Magazine.SerializeDelta(stream, instance.primaryMagazine, previous.primaryMagazine);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field primaryMagazine (ProtoBuf.Magazine)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, BaseProjectile instance)
	{
		if (instance.primaryMagazine != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Magazine.Serialize(stream, instance.primaryMagazine);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field primaryMagazine (ProtoBuf.Magazine)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		primaryMagazine?.InspectUids(action);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Sign : IDisposable, IPooled, IProto<Sign>, IProto
{
	[NonSerialized]
	public uint imageid;

	[NonSerialized]
	public List<uint> imageIds;

	[NonSerialized]
	public List<ulong> editHistory;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Sign instance)
	{
		if (instance.ShouldPool)
		{
			instance.imageid = 0u;
			if (instance.imageIds != null)
			{
				List<uint> list = instance.imageIds;
				Pool.FreeUnmanaged<uint>(ref list);
				instance.imageIds = list;
			}
			if (instance.editHistory != null)
			{
				List<ulong> list2 = instance.editHistory;
				Pool.FreeUnmanaged<ulong>(ref list2);
				instance.editHistory = list2;
			}
			Pool.Free<Sign>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Sign with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Sign instance)
	{
		instance.imageid = imageid;
		if (imageIds != null)
		{
			instance.imageIds = Pool.Get<List<uint>>();
			for (int i = 0; i < imageIds.Count; i++)
			{
				uint item = imageIds[i];
				instance.imageIds.Add(item);
			}
		}
		else
		{
			instance.imageIds = null;
		}
		if (editHistory != null)
		{
			instance.editHistory = Pool.Get<List<ulong>>();
			for (int j = 0; j < editHistory.Count; j++)
			{
				ulong item2 = editHistory[j];
				instance.editHistory.Add(item2);
			}
		}
		else
		{
			instance.editHistory = null;
		}
	}

	public Sign Copy()
	{
		Sign sign = Pool.Get<Sign>();
		CopyTo(sign);
		return sign;
	}

	public static Sign Deserialize(BufferStream stream)
	{
		Sign sign = Pool.Get<Sign>();
		Deserialize(stream, sign, isDelta: false);
		return sign;
	}

	public static Sign DeserializeLengthDelimited(BufferStream stream)
	{
		Sign sign = Pool.Get<Sign>();
		DeserializeLengthDelimited(stream, sign, isDelta: false);
		return sign;
	}

	public static Sign DeserializeLength(BufferStream stream, int length)
	{
		Sign sign = Pool.Get<Sign>();
		DeserializeLength(stream, length, sign, isDelta: false);
		return sign;
	}

	public static Sign Deserialize(byte[] buffer)
	{
		Sign sign = Pool.Get<Sign>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, sign, isDelta: false);
		return sign;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Sign previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Sign Deserialize(BufferStream stream, Sign instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.imageIds == null)
			{
				instance.imageIds = Pool.Get<List<uint>>();
			}
			if (instance.editHistory == null)
			{
				instance.editHistory = Pool.Get<List<ulong>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 24:
				instance.imageid = ProtocolParser.ReadUInt32(stream);
				continue;
			case 32:
				instance.imageIds.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case 40:
				instance.editHistory.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Sign DeserializeLengthDelimited(BufferStream stream, Sign instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.imageIds == null)
			{
				instance.imageIds = Pool.Get<List<uint>>();
			}
			if (instance.editHistory == null)
			{
				instance.editHistory = Pool.Get<List<ulong>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 24:
				instance.imageid = ProtocolParser.ReadUInt32(stream);
				continue;
			case 32:
				instance.imageIds.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case 40:
				instance.editHistory.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Sign DeserializeLength(BufferStream stream, int length, Sign instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.imageIds == null)
			{
				instance.imageIds = Pool.Get<List<uint>>();
			}
			if (instance.editHistory == null)
			{
				instance.editHistory = Pool.Get<List<ulong>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 24:
				instance.imageid = ProtocolParser.ReadUInt32(stream);
				continue;
			case 32:
				instance.imageIds.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case 40:
				instance.editHistory.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Sign instance, Sign previous)
	{
		if (instance.imageid != previous.imageid)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.imageid);
		}
		if (instance.imageIds != null)
		{
			for (int i = 0; i < instance.imageIds.Count; i++)
			{
				uint val = instance.imageIds[i];
				stream.WriteByte(32);
				ProtocolParser.WriteUInt32(stream, val);
			}
		}
		if (instance.editHistory != null)
		{
			for (int j = 0; j < instance.editHistory.Count; j++)
			{
				ulong val2 = instance.editHistory[j];
				stream.WriteByte(40);
				ProtocolParser.WriteUInt64(stream, val2);
			}
		}
	}

	public static void Serialize(BufferStream stream, Sign instance)
	{
		if (instance.imageid != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.imageid);
		}
		if (instance.imageIds != null)
		{
			for (int i = 0; i < instance.imageIds.Count; i++)
			{
				uint val = instance.imageIds[i];
				stream.WriteByte(32);
				ProtocolParser.WriteUInt32(stream, val);
			}
		}
		if (instance.editHistory != null)
		{
			for (int j = 0; j < instance.editHistory.Count; j++)
			{
				ulong val2 = instance.editHistory[j];
				stream.WriteByte(40);
				ProtocolParser.WriteUInt64(stream, val2);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class MapEntity : IDisposable, IPooled, IProto<MapEntity>, IProto
{
	[NonSerialized]
	public List<uint> fogImages;

	[NonSerialized]
	public List<uint> paintImages;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(MapEntity instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.fogImages != null)
			{
				List<uint> list = instance.fogImages;
				Pool.FreeUnmanaged<uint>(ref list);
				instance.fogImages = list;
			}
			if (instance.paintImages != null)
			{
				List<uint> list2 = instance.paintImages;
				Pool.FreeUnmanaged<uint>(ref list2);
				instance.paintImages = list2;
			}
			Pool.Free<MapEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose MapEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(MapEntity instance)
	{
		if (fogImages != null)
		{
			instance.fogImages = Pool.Get<List<uint>>();
			for (int i = 0; i < fogImages.Count; i++)
			{
				uint item = fogImages[i];
				instance.fogImages.Add(item);
			}
		}
		else
		{
			instance.fogImages = null;
		}
		if (paintImages != null)
		{
			instance.paintImages = Pool.Get<List<uint>>();
			for (int j = 0; j < paintImages.Count; j++)
			{
				uint item2 = paintImages[j];
				instance.paintImages.Add(item2);
			}
		}
		else
		{
			instance.paintImages = null;
		}
	}

	public MapEntity Copy()
	{
		MapEntity mapEntity = Pool.Get<MapEntity>();
		CopyTo(mapEntity);
		return mapEntity;
	}

	public static MapEntity Deserialize(BufferStream stream)
	{
		MapEntity mapEntity = Pool.Get<MapEntity>();
		Deserialize(stream, mapEntity, isDelta: false);
		return mapEntity;
	}

	public static MapEntity DeserializeLengthDelimited(BufferStream stream)
	{
		MapEntity mapEntity = Pool.Get<MapEntity>();
		DeserializeLengthDelimited(stream, mapEntity, isDelta: false);
		return mapEntity;
	}

	public static MapEntity DeserializeLength(BufferStream stream, int length)
	{
		MapEntity mapEntity = Pool.Get<MapEntity>();
		DeserializeLength(stream, length, mapEntity, isDelta: false);
		return mapEntity;
	}

	public static MapEntity Deserialize(byte[] buffer)
	{
		MapEntity mapEntity = Pool.Get<MapEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, mapEntity, isDelta: false);
		return mapEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, MapEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static MapEntity Deserialize(BufferStream stream, MapEntity instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.fogImages == null)
			{
				instance.fogImages = Pool.Get<List<uint>>();
			}
			if (instance.paintImages == null)
			{
				instance.paintImages = Pool.Get<List<uint>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.fogImages.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case 16:
				instance.paintImages.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static MapEntity DeserializeLengthDelimited(BufferStream stream, MapEntity instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.fogImages == null)
			{
				instance.fogImages = Pool.Get<List<uint>>();
			}
			if (instance.paintImages == null)
			{
				instance.paintImages = Pool.Get<List<uint>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.fogImages.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case 16:
				instance.paintImages.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static MapEntity DeserializeLength(BufferStream stream, int length, MapEntity instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.fogImages == null)
			{
				instance.fogImages = Pool.Get<List<uint>>();
			}
			if (instance.paintImages == null)
			{
				instance.paintImages = Pool.Get<List<uint>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.fogImages.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			case 16:
				instance.paintImages.Add(ProtocolParser.ReadUInt32(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, MapEntity instance, MapEntity previous)
	{
		if (instance.fogImages != null)
		{
			for (int i = 0; i < instance.fogImages.Count; i++)
			{
				uint val = instance.fogImages[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt32(stream, val);
			}
		}
		if (instance.paintImages != null)
		{
			for (int j = 0; j < instance.paintImages.Count; j++)
			{
				uint val2 = instance.paintImages[j];
				stream.WriteByte(16);
				ProtocolParser.WriteUInt32(stream, val2);
			}
		}
	}

	public static void Serialize(BufferStream stream, MapEntity instance)
	{
		if (instance.fogImages != null)
		{
			for (int i = 0; i < instance.fogImages.Count; i++)
			{
				uint val = instance.fogImages[i];
				stream.WriteByte(8);
				ProtocolParser.WriteUInt32(stream, val);
			}
		}
		if (instance.paintImages != null)
		{
			for (int j = 0; j < instance.paintImages.Count; j++)
			{
				uint val2 = instance.paintImages[j];
				stream.WriteByte(16);
				ProtocolParser.WriteUInt32(stream, val2);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class ResearchTable : IDisposable, IPooled, IProto<ResearchTable>, IProto
{
	[NonSerialized]
	public float researchTimeLeft;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ResearchTable instance)
	{
		if (instance.ShouldPool)
		{
			instance.researchTimeLeft = 0f;
			Pool.Free<ResearchTable>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose ResearchTable with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ResearchTable instance)
	{
		instance.researchTimeLeft = researchTimeLeft;
	}

	public ResearchTable Copy()
	{
		ResearchTable researchTable = Pool.Get<ResearchTable>();
		CopyTo(researchTable);
		return researchTable;
	}

	public static ResearchTable Deserialize(BufferStream stream)
	{
		ResearchTable researchTable = Pool.Get<ResearchTable>();
		Deserialize(stream, researchTable, isDelta: false);
		return researchTable;
	}

	public static ResearchTable DeserializeLengthDelimited(BufferStream stream)
	{
		ResearchTable researchTable = Pool.Get<ResearchTable>();
		DeserializeLengthDelimited(stream, researchTable, isDelta: false);
		return researchTable;
	}

	public static ResearchTable DeserializeLength(BufferStream stream, int length)
	{
		ResearchTable researchTable = Pool.Get<ResearchTable>();
		DeserializeLength(stream, length, researchTable, isDelta: false);
		return researchTable;
	}

	public static ResearchTable Deserialize(byte[] buffer)
	{
		ResearchTable researchTable = Pool.Get<ResearchTable>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, researchTable, isDelta: false);
		return researchTable;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ResearchTable previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ResearchTable Deserialize(BufferStream stream, ResearchTable instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.researchTimeLeft = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static ResearchTable DeserializeLengthDelimited(BufferStream stream, ResearchTable instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.researchTimeLeft = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ResearchTable DeserializeLength(BufferStream stream, int length, ResearchTable instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.researchTimeLeft = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ResearchTable instance, ResearchTable previous)
	{
		if (instance.researchTimeLeft != previous.researchTimeLeft)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.researchTimeLeft);
		}
	}

	public static void Serialize(BufferStream stream, ResearchTable instance)
	{
		if (instance.researchTimeLeft != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.researchTimeLeft);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class DudExplosive : IDisposable, IPooled, IProto<DudExplosive>, IProto
{
	[NonSerialized]
	public float fuseTimeLeft;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(DudExplosive instance)
	{
		if (instance.ShouldPool)
		{
			instance.fuseTimeLeft = 0f;
			Pool.Free<DudExplosive>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose DudExplosive with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(DudExplosive instance)
	{
		instance.fuseTimeLeft = fuseTimeLeft;
	}

	public DudExplosive Copy()
	{
		DudExplosive dudExplosive = Pool.Get<DudExplosive>();
		CopyTo(dudExplosive);
		return dudExplosive;
	}

	public static DudExplosive Deserialize(BufferStream stream)
	{
		DudExplosive dudExplosive = Pool.Get<DudExplosive>();
		Deserialize(stream, dudExplosive, isDelta: false);
		return dudExplosive;
	}

	public static DudExplosive DeserializeLengthDelimited(BufferStream stream)
	{
		DudExplosive dudExplosive = Pool.Get<DudExplosive>();
		DeserializeLengthDelimited(stream, dudExplosive, isDelta: false);
		return dudExplosive;
	}

	public static DudExplosive DeserializeLength(BufferStream stream, int length)
	{
		DudExplosive dudExplosive = Pool.Get<DudExplosive>();
		DeserializeLength(stream, length, dudExplosive, isDelta: false);
		return dudExplosive;
	}

	public static DudExplosive Deserialize(byte[] buffer)
	{
		DudExplosive dudExplosive = Pool.Get<DudExplosive>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, dudExplosive, isDelta: false);
		return dudExplosive;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, DudExplosive previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static DudExplosive Deserialize(BufferStream stream, DudExplosive instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.fuseTimeLeft = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static DudExplosive DeserializeLengthDelimited(BufferStream stream, DudExplosive instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.fuseTimeLeft = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static DudExplosive DeserializeLength(BufferStream stream, int length, DudExplosive instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.fuseTimeLeft = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, DudExplosive instance, DudExplosive previous)
	{
		if (instance.fuseTimeLeft != previous.fuseTimeLeft)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.fuseTimeLeft);
		}
	}

	public static void Serialize(BufferStream stream, DudExplosive instance)
	{
		if (instance.fuseTimeLeft != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.fuseTimeLeft);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class ResourceExtractor : IDisposable, IPooled, IProto<ResourceExtractor>, IProto
{
	[NonSerialized]
	public ItemContainer fuelContents;

	[NonSerialized]
	public ItemContainer outputContents;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ResourceExtractor instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.fuelContents != null)
			{
				instance.fuelContents.ResetToPool();
				instance.fuelContents = null;
			}
			if (instance.outputContents != null)
			{
				instance.outputContents.ResetToPool();
				instance.outputContents = null;
			}
			Pool.Free<ResourceExtractor>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose ResourceExtractor with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ResourceExtractor instance)
	{
		if (fuelContents != null)
		{
			if (instance.fuelContents == null)
			{
				instance.fuelContents = fuelContents.Copy();
			}
			else
			{
				fuelContents.CopyTo(instance.fuelContents);
			}
		}
		else
		{
			instance.fuelContents = null;
		}
		if (outputContents != null)
		{
			if (instance.outputContents == null)
			{
				instance.outputContents = outputContents.Copy();
			}
			else
			{
				outputContents.CopyTo(instance.outputContents);
			}
		}
		else
		{
			instance.outputContents = null;
		}
	}

	public ResourceExtractor Copy()
	{
		ResourceExtractor resourceExtractor = Pool.Get<ResourceExtractor>();
		CopyTo(resourceExtractor);
		return resourceExtractor;
	}

	public static ResourceExtractor Deserialize(BufferStream stream)
	{
		ResourceExtractor resourceExtractor = Pool.Get<ResourceExtractor>();
		Deserialize(stream, resourceExtractor, isDelta: false);
		return resourceExtractor;
	}

	public static ResourceExtractor DeserializeLengthDelimited(BufferStream stream)
	{
		ResourceExtractor resourceExtractor = Pool.Get<ResourceExtractor>();
		DeserializeLengthDelimited(stream, resourceExtractor, isDelta: false);
		return resourceExtractor;
	}

	public static ResourceExtractor DeserializeLength(BufferStream stream, int length)
	{
		ResourceExtractor resourceExtractor = Pool.Get<ResourceExtractor>();
		DeserializeLength(stream, length, resourceExtractor, isDelta: false);
		return resourceExtractor;
	}

	public static ResourceExtractor Deserialize(byte[] buffer)
	{
		ResourceExtractor resourceExtractor = Pool.Get<ResourceExtractor>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, resourceExtractor, isDelta: false);
		return resourceExtractor;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ResourceExtractor previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ResourceExtractor Deserialize(BufferStream stream, ResourceExtractor instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.fuelContents == null)
				{
					instance.fuelContents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.fuelContents, isDelta);
				}
				break;
			case 18:
				if (instance.outputContents == null)
				{
					instance.outputContents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.outputContents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static ResourceExtractor DeserializeLengthDelimited(BufferStream stream, ResourceExtractor instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.fuelContents == null)
				{
					instance.fuelContents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.fuelContents, isDelta);
				}
				break;
			case 18:
				if (instance.outputContents == null)
				{
					instance.outputContents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.outputContents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ResourceExtractor DeserializeLength(BufferStream stream, int length, ResourceExtractor instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.fuelContents == null)
				{
					instance.fuelContents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.fuelContents, isDelta);
				}
				break;
			case 18:
				if (instance.outputContents == null)
				{
					instance.outputContents = ItemContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					ItemContainer.DeserializeLengthDelimited(stream, instance.outputContents, isDelta);
				}
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ResourceExtractor instance, ResourceExtractor previous)
	{
		if (instance.fuelContents != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			ItemContainer.SerializeDelta(stream, instance.fuelContents, previous.fuelContents);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.outputContents == null)
		{
			return;
		}
		stream.WriteByte(18);
		BufferStream.RangeHandle range2 = stream.GetRange(5);
		int position2 = stream.Position;
		ItemContainer.SerializeDelta(stream, instance.outputContents, previous.outputContents);
		int val2 = stream.Position - position2;
		Span<byte> span2 = range2.GetSpan();
		int num2 = ProtocolParser.WriteUInt32((uint)val2, span2, 0);
		if (num2 < 5)
		{
			span2[num2 - 1] |= 128;
			while (num2 < 4)
			{
				span2[num2++] = 128;
			}
			span2[4] = 0;
		}
	}

	public static void Serialize(BufferStream stream, ResourceExtractor instance)
	{
		if (instance.fuelContents != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			ItemContainer.Serialize(stream, instance.fuelContents);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.outputContents == null)
		{
			return;
		}
		stream.WriteByte(18);
		BufferStream.RangeHandle range2 = stream.GetRange(5);
		int position2 = stream.Position;
		ItemContainer.Serialize(stream, instance.outputContents);
		int val2 = stream.Position - position2;
		Span<byte> span2 = range2.GetSpan();
		int num2 = ProtocolParser.WriteUInt32((uint)val2, span2, 0);
		if (num2 < 5)
		{
			span2[num2 - 1] |= 128;
			while (num2 < 4)
			{
				span2[num2++] = 128;
			}
			span2[4] = 0;
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		fuelContents?.InspectUids(action);
		outputContents?.InspectUids(action);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class MiningQuarry : IDisposable, IPooled, IProto<MiningQuarry>, IProto
{
	[NonSerialized]
	public ResourceExtractor extractor;

	[NonSerialized]
	public int staticType;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(MiningQuarry instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.extractor != null)
			{
				instance.extractor.ResetToPool();
				instance.extractor = null;
			}
			instance.staticType = 0;
			Pool.Free<MiningQuarry>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose MiningQuarry with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(MiningQuarry instance)
	{
		if (extractor != null)
		{
			if (instance.extractor == null)
			{
				instance.extractor = extractor.Copy();
			}
			else
			{
				extractor.CopyTo(instance.extractor);
			}
		}
		else
		{
			instance.extractor = null;
		}
		instance.staticType = staticType;
	}

	public MiningQuarry Copy()
	{
		MiningQuarry miningQuarry = Pool.Get<MiningQuarry>();
		CopyTo(miningQuarry);
		return miningQuarry;
	}

	public static MiningQuarry Deserialize(BufferStream stream)
	{
		MiningQuarry miningQuarry = Pool.Get<MiningQuarry>();
		Deserialize(stream, miningQuarry, isDelta: false);
		return miningQuarry;
	}

	public static MiningQuarry DeserializeLengthDelimited(BufferStream stream)
	{
		MiningQuarry miningQuarry = Pool.Get<MiningQuarry>();
		DeserializeLengthDelimited(stream, miningQuarry, isDelta: false);
		return miningQuarry;
	}

	public static MiningQuarry DeserializeLength(BufferStream stream, int length)
	{
		MiningQuarry miningQuarry = Pool.Get<MiningQuarry>();
		DeserializeLength(stream, length, miningQuarry, isDelta: false);
		return miningQuarry;
	}

	public static MiningQuarry Deserialize(byte[] buffer)
	{
		MiningQuarry miningQuarry = Pool.Get<MiningQuarry>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, miningQuarry, isDelta: false);
		return miningQuarry;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, MiningQuarry previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static MiningQuarry Deserialize(BufferStream stream, MiningQuarry instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.extractor == null)
				{
					instance.extractor = ResourceExtractor.DeserializeLengthDelimited(stream);
				}
				else
				{
					ResourceExtractor.DeserializeLengthDelimited(stream, instance.extractor, isDelta);
				}
				break;
			case 16:
				instance.staticType = (int)ProtocolParser.ReadUInt64(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static MiningQuarry DeserializeLengthDelimited(BufferStream stream, MiningQuarry instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.extractor == null)
				{
					instance.extractor = ResourceExtractor.DeserializeLengthDelimited(stream);
				}
				else
				{
					ResourceExtractor.DeserializeLengthDelimited(stream, instance.extractor, isDelta);
				}
				break;
			case 16:
				instance.staticType = (int)ProtocolParser.ReadUInt64(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static MiningQuarry DeserializeLength(BufferStream stream, int length, MiningQuarry instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.extractor == null)
				{
					instance.extractor = ResourceExtractor.DeserializeLengthDelimited(stream);
				}
				else
				{
					ResourceExtractor.DeserializeLengthDelimited(stream, instance.extractor, isDelta);
				}
				break;
			case 16:
				instance.staticType = (int)ProtocolParser.ReadUInt64(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, MiningQuarry instance, MiningQuarry previous)
	{
		if (instance.extractor != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			ResourceExtractor.SerializeDelta(stream, instance.extractor, previous.extractor);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.staticType != previous.staticType)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.staticType);
		}
	}

	public static void Serialize(BufferStream stream, MiningQuarry instance)
	{
		if (instance.extractor != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			ResourceExtractor.Serialize(stream, instance.extractor);
			int val = stream.Position - position;
			Span<byte> span = range.GetSpan();
			int num = ProtocolParser.WriteUInt32((uint)val, span, 0);
			if (num < 5)
			{
				span[num - 1] |= 128;
				while (num < 4)
				{
					span[num++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.staticType != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.staticType);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		extractor?.InspectUids(action);
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class GrowableEntity : IDisposable, IPooled, IProto<GrowableEntity>, IProto
{
	[NonSerialized]
	public int state;

	[NonSerialized]
	public float age;

	[NonSerialized]
	public int water;

	[NonSerialized]
	public float healthy;

	[NonSerialized]
	public float totalAge;

	[NonSerialized]
	public float growthAge;

	[NonSerialized]
	public float yieldFraction;

	[NonSerialized]
	public float stageAge;

	[NonSerialized]
	public int genes;

	[NonSerialized]
	public float lightModifier;

	[NonSerialized]
	public float waterModifier;

	[NonSerialized]
	public float groundModifier;

	[NonSerialized]
	public float happiness;

	[NonSerialized]
	public float temperatureModifier;

	[NonSerialized]
	public float waterConsumption;

	[NonSerialized]
	public float yieldPool;

	[NonSerialized]
	public bool fertilized;

	[NonSerialized]
	public int previousGenes;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(GrowableEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.state = 0;
			instance.age = 0f;
			instance.water = 0;
			instance.healthy = 0f;
			instance.totalAge = 0f;
			instance.growthAge = 0f;
			instance.yieldFraction = 0f;
			instance.stageAge = 0f;
			instance.genes = 0;
			instance.lightModifier = 0f;
			instance.waterModifier = 0f;
			instance.groundModifier = 0f;
			instance.happiness = 0f;
			instance.temperatureModifier = 0f;
			instance.waterConsumption = 0f;
			instance.yieldPool = 0f;
			instance.fertilized = false;
			instance.previousGenes = 0;
			Pool.Free<GrowableEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose GrowableEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(GrowableEntity instance)
	{
		instance.state = state;
		instance.age = age;
		instance.water = water;
		instance.healthy = healthy;
		instance.totalAge = totalAge;
		instance.growthAge = growthAge;
		instance.yieldFraction = yieldFraction;
		instance.stageAge = stageAge;
		instance.genes = genes;
		instance.lightModifier = lightModifier;
		instance.waterModifier = waterModifier;
		instance.groundModifier = groundModifier;
		instance.happiness = happiness;
		instance.temperatureModifier = temperatureModifier;
		instance.waterConsumption = waterConsumption;
		instance.yieldPool = yieldPool;
		instance.fertilized = fertilized;
		instance.previousGenes = previousGenes;
	}

	public GrowableEntity Copy()
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		CopyTo(growableEntity);
		return growableEntity;
	}

	public static GrowableEntity Deserialize(BufferStream stream)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		Deserialize(stream, growableEntity, isDelta: false);
		return growableEntity;
	}

	public static GrowableEntity DeserializeLengthDelimited(BufferStream stream)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		DeserializeLengthDelimited(stream, growableEntity, isDelta: false);
		return growableEntity;
	}

	public static GrowableEntity DeserializeLength(BufferStream stream, int length)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		DeserializeLength(stream, length, growableEntity, isDelta: false);
		return growableEntity;
	}

	public static GrowableEntity Deserialize(byte[] buffer)
	{
		GrowableEntity growableEntity = Pool.Get<GrowableEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, growableEntity, isDelta: false);
		return growableEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, GrowableEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static GrowableEntity Deserialize(BufferStream stream, GrowableEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.age = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.water = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.healthy = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.totalAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.growthAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.yieldFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.stageAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.genes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 85:
				instance.lightModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 93:
				instance.waterModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 101:
				instance.groundModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 109:
				instance.happiness = ProtocolParser.ReadSingle(stream);
				continue;
			case 117:
				instance.temperatureModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 125:
				instance.waterConsumption = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.yieldPool = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Varint)
				{
					instance.fertilized = ProtocolParser.ReadBool(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.Varint)
				{
					instance.previousGenes = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
	}

	public static GrowableEntity DeserializeLengthDelimited(BufferStream stream, GrowableEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.age = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.water = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.healthy = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.totalAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.growthAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.yieldFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.stageAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.genes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 85:
				instance.lightModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 93:
				instance.waterModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 101:
				instance.groundModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 109:
				instance.happiness = ProtocolParser.ReadSingle(stream);
				continue;
			case 117:
				instance.temperatureModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 125:
				instance.waterConsumption = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.yieldPool = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Varint)
				{
					instance.fertilized = ProtocolParser.ReadBool(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.Varint)
				{
					instance.previousGenes = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static GrowableEntity DeserializeLength(BufferStream stream, int length, GrowableEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.state = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 21:
				instance.age = ProtocolParser.ReadSingle(stream);
				continue;
			case 24:
				instance.water = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 37:
				instance.healthy = ProtocolParser.ReadSingle(stream);
				continue;
			case 45:
				instance.totalAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 53:
				instance.growthAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 61:
				instance.yieldFraction = ProtocolParser.ReadSingle(stream);
				continue;
			case 69:
				instance.stageAge = ProtocolParser.ReadSingle(stream);
				continue;
			case 72:
				instance.genes = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case 85:
				instance.lightModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 93:
				instance.waterModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 101:
				instance.groundModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 109:
				instance.happiness = ProtocolParser.ReadSingle(stream);
				continue;
			case 117:
				instance.temperatureModifier = ProtocolParser.ReadSingle(stream);
				continue;
			case 125:
				instance.waterConsumption = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			switch (key.Field)
			{
			case 16u:
				if (key.WireType == Wire.Fixed32)
				{
					instance.yieldPool = ProtocolParser.ReadSingle(stream);
				}
				break;
			case 17u:
				if (key.WireType == Wire.Varint)
				{
					instance.fertilized = ProtocolParser.ReadBool(stream);
				}
				break;
			case 18u:
				if (key.WireType == Wire.Varint)
				{
					instance.previousGenes = (int)ProtocolParser.ReadUInt64(stream);
				}
				break;
			default:
				ProtocolParser.SkipKey(stream, key);
				break;
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, GrowableEntity instance, GrowableEntity previous)
	{
		if (instance.state != previous.state)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.state);
		}
		if (instance.age != previous.age)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.age);
		}
		if (instance.water != previous.water)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.water);
		}
		if (instance.healthy != previous.healthy)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.healthy);
		}
		if (instance.totalAge != previous.totalAge)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.totalAge);
		}
		if (instance.growthAge != previous.growthAge)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.growthAge);
		}
		if (instance.yieldFraction != previous.yieldFraction)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.yieldFraction);
		}
		if (instance.stageAge != previous.stageAge)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.stageAge);
		}
		if (instance.genes != previous.genes)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genes);
		}
		if (instance.lightModifier != previous.lightModifier)
		{
			stream.WriteByte(85);
			ProtocolParser.WriteSingle(stream, instance.lightModifier);
		}
		if (instance.waterModifier != previous.waterModifier)
		{
			stream.WriteByte(93);
			ProtocolParser.WriteSingle(stream, instance.waterModifier);
		}
		if (instance.groundModifier != previous.groundModifier)
		{
			stream.WriteByte(101);
			ProtocolParser.WriteSingle(stream, instance.groundModifier);
		}
		if (instance.happiness != previous.happiness)
		{
			stream.WriteByte(109);
			ProtocolParser.WriteSingle(stream, instance.happiness);
		}
		if (instance.temperatureModifier != previous.temperatureModifier)
		{
			stream.WriteByte(117);
			ProtocolParser.WriteSingle(stream, instance.temperatureModifier);
		}
		if (instance.waterConsumption != previous.waterConsumption)
		{
			stream.WriteByte(125);
			ProtocolParser.WriteSingle(stream, instance.waterConsumption);
		}
		if (instance.yieldPool != previous.yieldPool)
		{
			stream.WriteByte(133);
			stream.WriteByte(1);
			ProtocolParser.WriteSingle(stream, instance.yieldPool);
		}
		stream.WriteByte(136);
		stream.WriteByte(1);
		ProtocolParser.WriteBool(stream, instance.fertilized);
		if (instance.previousGenes != previous.previousGenes)
		{
			stream.WriteByte(144);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.previousGenes);
		}
	}

	public static void Serialize(BufferStream stream, GrowableEntity instance)
	{
		if (instance.state != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.state);
		}
		if (instance.age != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.age);
		}
		if (instance.water != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.water);
		}
		if (instance.healthy != 0f)
		{
			stream.WriteByte(37);
			ProtocolParser.WriteSingle(stream, instance.healthy);
		}
		if (instance.totalAge != 0f)
		{
			stream.WriteByte(45);
			ProtocolParser.WriteSingle(stream, instance.totalAge);
		}
		if (instance.growthAge != 0f)
		{
			stream.WriteByte(53);
			ProtocolParser.WriteSingle(stream, instance.growthAge);
		}
		if (instance.yieldFraction != 0f)
		{
			stream.WriteByte(61);
			ProtocolParser.WriteSingle(stream, instance.yieldFraction);
		}
		if (instance.stageAge != 0f)
		{
			stream.WriteByte(69);
			ProtocolParser.WriteSingle(stream, instance.stageAge);
		}
		if (instance.genes != 0)
		{
			stream.WriteByte(72);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.genes);
		}
		if (instance.lightModifier != 0f)
		{
			stream.WriteByte(85);
			ProtocolParser.WriteSingle(stream, instance.lightModifier);
		}
		if (instance.waterModifier != 0f)
		{
			stream.WriteByte(93);
			ProtocolParser.WriteSingle(stream, instance.waterModifier);
		}
		if (instance.groundModifier != 0f)
		{
			stream.WriteByte(101);
			ProtocolParser.WriteSingle(stream, instance.groundModifier);
		}
		if (instance.happiness != 0f)
		{
			stream.WriteByte(109);
			ProtocolParser.WriteSingle(stream, instance.happiness);
		}
		if (instance.temperatureModifier != 0f)
		{
			stream.WriteByte(117);
			ProtocolParser.WriteSingle(stream, instance.temperatureModifier);
		}
		if (instance.waterConsumption != 0f)
		{
			stream.WriteByte(125);
			ProtocolParser.WriteSingle(stream, instance.waterConsumption);
		}
		if (instance.yieldPool != 0f)
		{
			stream.WriteByte(133);
			stream.WriteByte(1);
			ProtocolParser.WriteSingle(stream, instance.yieldPool);
		}
		if (instance.fertilized)
		{
			stream.WriteByte(136);
			stream.WriteByte(1);
			ProtocolParser.WriteBool(stream, instance.fertilized);
		}
		if (instance.previousGenes != 0)
		{
			stream.WriteByte(144);
			stream.WriteByte(1);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.previousGenes);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Landmine : IDisposable, IPooled, IProto<Landmine>, IProto
{
	[NonSerialized]
	public ulong triggeredID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Landmine instance)
	{
		if (instance.ShouldPool)
		{
			instance.triggeredID = 0uL;
			Pool.Free<Landmine>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Landmine with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Landmine instance)
	{
		instance.triggeredID = triggeredID;
	}

	public Landmine Copy()
	{
		Landmine landmine = Pool.Get<Landmine>();
		CopyTo(landmine);
		return landmine;
	}

	public static Landmine Deserialize(BufferStream stream)
	{
		Landmine landmine = Pool.Get<Landmine>();
		Deserialize(stream, landmine, isDelta: false);
		return landmine;
	}

	public static Landmine DeserializeLengthDelimited(BufferStream stream)
	{
		Landmine landmine = Pool.Get<Landmine>();
		DeserializeLengthDelimited(stream, landmine, isDelta: false);
		return landmine;
	}

	public static Landmine DeserializeLength(BufferStream stream, int length)
	{
		Landmine landmine = Pool.Get<Landmine>();
		DeserializeLength(stream, length, landmine, isDelta: false);
		return landmine;
	}

	public static Landmine Deserialize(byte[] buffer)
	{
		Landmine landmine = Pool.Get<Landmine>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, landmine, isDelta: false);
		return landmine;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Landmine previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Landmine Deserialize(BufferStream stream, Landmine instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.triggeredID = ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Landmine DeserializeLengthDelimited(BufferStream stream, Landmine instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.triggeredID = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Landmine DeserializeLength(BufferStream stream, int length, Landmine instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.triggeredID = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Landmine instance, Landmine previous)
	{
		if (instance.triggeredID != previous.triggeredID)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.triggeredID);
		}
	}

	public static void Serialize(BufferStream stream, Landmine instance)
	{
		if (instance.triggeredID != 0L)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.triggeredID);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class BaseVehicle : IDisposable, IPooled, IProto<BaseVehicle>, IProto
{
	public class MountPoint : IDisposable, IPooled, IProto<MountPoint>, IProto
	{
		[NonSerialized]
		public int index;

		[NonSerialized]
		public NetworkableId mountableId;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(MountPoint instance)
		{
			if (instance.ShouldPool)
			{
				instance.index = 0;
				instance.mountableId = default(NetworkableId);
				Pool.Free<MountPoint>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose MountPoint with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(MountPoint instance)
		{
			instance.index = index;
			instance.mountableId = mountableId;
		}

		public MountPoint Copy()
		{
			MountPoint mountPoint = Pool.Get<MountPoint>();
			CopyTo(mountPoint);
			return mountPoint;
		}

		public static MountPoint Deserialize(BufferStream stream)
		{
			MountPoint mountPoint = Pool.Get<MountPoint>();
			Deserialize(stream, mountPoint, isDelta: false);
			return mountPoint;
		}

		public static MountPoint DeserializeLengthDelimited(BufferStream stream)
		{
			MountPoint mountPoint = Pool.Get<MountPoint>();
			DeserializeLengthDelimited(stream, mountPoint, isDelta: false);
			return mountPoint;
		}

		public static MountPoint DeserializeLength(BufferStream stream, int length)
		{
			MountPoint mountPoint = Pool.Get<MountPoint>();
			DeserializeLength(stream, length, mountPoint, isDelta: false);
			return mountPoint;
		}

		public static MountPoint Deserialize(byte[] buffer)
		{
			MountPoint mountPoint = Pool.Get<MountPoint>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, mountPoint, isDelta: false);
			return mountPoint;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, MountPoint previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static MountPoint Deserialize(BufferStream stream, MountPoint instance, bool isDelta)
		{
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.index = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.mountableId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static MountPoint DeserializeLengthDelimited(BufferStream stream, MountPoint instance, bool isDelta)
		{
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.index = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.mountableId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static MountPoint DeserializeLength(BufferStream stream, int length, MountPoint instance, bool isDelta)
		{
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.index = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.mountableId = new NetworkableId(ProtocolParser.ReadUInt64(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, MountPoint instance, MountPoint previous)
		{
			if (instance.index != previous.index)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.index);
			}
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.mountableId.Value);
		}

		public static void Serialize(BufferStream stream, MountPoint instance)
		{
			if (instance.index != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.index);
			}
			if (instance.mountableId != default(NetworkableId))
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, instance.mountableId.Value);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			action(UidType.NetworkableId, ref mountableId.Value);
		}
	}

	[NonSerialized]
	public List<MountPoint> mountPoints;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BaseVehicle instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.mountPoints != null)
		{
			for (int i = 0; i < instance.mountPoints.Count; i++)
			{
				if (instance.mountPoints[i] != null)
				{
					instance.mountPoints[i].ResetToPool();
					instance.mountPoints[i] = null;
				}
			}
			List<MountPoint> list = instance.mountPoints;
			Pool.Free<MountPoint>(ref list, false);
			instance.mountPoints = list;
		}
		Pool.Free<BaseVehicle>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BaseVehicle with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BaseVehicle instance)
	{
		if (mountPoints != null)
		{
			instance.mountPoints = Pool.Get<List<MountPoint>>();
			for (int i = 0; i < mountPoints.Count; i++)
			{
				MountPoint item = mountPoints[i].Copy();
				instance.mountPoints.Add(item);
			}
		}
		else
		{
			instance.mountPoints = null;
		}
	}

	public BaseVehicle Copy()
	{
		BaseVehicle baseVehicle = Pool.Get<BaseVehicle>();
		CopyTo(baseVehicle);
		return baseVehicle;
	}

	public static BaseVehicle Deserialize(BufferStream stream)
	{
		BaseVehicle baseVehicle = Pool.Get<BaseVehicle>();
		Deserialize(stream, baseVehicle, isDelta: false);
		return baseVehicle;
	}

	public static BaseVehicle DeserializeLengthDelimited(BufferStream stream)
	{
		BaseVehicle baseVehicle = Pool.Get<BaseVehicle>();
		DeserializeLengthDelimited(stream, baseVehicle, isDelta: false);
		return baseVehicle;
	}

	public static BaseVehicle DeserializeLength(BufferStream stream, int length)
	{
		BaseVehicle baseVehicle = Pool.Get<BaseVehicle>();
		DeserializeLength(stream, length, baseVehicle, isDelta: false);
		return baseVehicle;
	}

	public static BaseVehicle Deserialize(byte[] buffer)
	{
		BaseVehicle baseVehicle = Pool.Get<BaseVehicle>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, baseVehicle, isDelta: false);
		return baseVehicle;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BaseVehicle previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BaseVehicle Deserialize(BufferStream stream, BaseVehicle instance, bool isDelta)
	{
		if (!isDelta && instance.mountPoints == null)
		{
			instance.mountPoints = Pool.Get<List<MountPoint>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.mountPoints.Add(MountPoint.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BaseVehicle DeserializeLengthDelimited(BufferStream stream, BaseVehicle instance, bool isDelta)
	{
		if (!isDelta && instance.mountPoints == null)
		{
			instance.mountPoints = Pool.Get<List<MountPoint>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.mountPoints.Add(MountPoint.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BaseVehicle DeserializeLength(BufferStream stream, int length, BaseVehicle instance, bool isDelta)
	{
		if (!isDelta && instance.mountPoints == null)
		{
			instance.mountPoints = Pool.Get<List<MountPoint>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.mountPoints.Add(MountPoint.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BaseVehicle instance, BaseVehicle previous)
	{
		if (instance.mountPoints == null)
		{
			return;
		}
		for (int i = 0; i < instance.mountPoints.Count; i++)
		{
			MountPoint mountPoint = instance.mountPoints[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			MountPoint.SerializeDelta(stream, mountPoint, mountPoint);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mountPoints (ProtoBuf.BaseVehicle.MountPoint)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, BaseVehicle instance)
	{
		if (instance.mountPoints == null)
		{
			return;
		}
		for (int i = 0; i < instance.mountPoints.Count; i++)
		{
			MountPoint instance2 = instance.mountPoints[i];
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			MountPoint.Serialize(stream, instance2);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mountPoints (ProtoBuf.BaseVehicle.MountPoint)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (mountPoints != null)
		{
			for (int i = 0; i < mountPoints.Count; i++)
			{
				mountPoints[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class Helicopter : IDisposable, IPooled, IProto<Helicopter>, IProto
{
	[NonSerialized]
	public Vector3 tiltRot;

	[NonSerialized]
	public Vector3 leftGun;

	[NonSerialized]
	public Vector3 rightGun;

	[NonSerialized]
	public Vector3 spotlightVec;

	[NonSerialized]
	public List<float> weakspothealths;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Helicopter instance)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		//IL_001b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0027: Unknown result type (might be due to invalid IL or missing references)
		//IL_0033: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.tiltRot = default(Vector3);
			instance.leftGun = default(Vector3);
			instance.rightGun = default(Vector3);
			instance.spotlightVec = default(Vector3);
			if (instance.weakspothealths != null)
			{
				List<float> list = instance.weakspothealths;
				Pool.FreeUnmanaged<float>(ref list);
				instance.weakspothealths = list;
			}
			Pool.Free<Helicopter>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Helicopter with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Helicopter instance)
	{
		//IL_0002: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0013: Unknown result type (might be due to invalid IL or missing references)
		//IL_001a: Unknown result type (might be due to invalid IL or missing references)
		//IL_001f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0026: Unknown result type (might be due to invalid IL or missing references)
		//IL_002b: Unknown result type (might be due to invalid IL or missing references)
		instance.tiltRot = tiltRot;
		instance.leftGun = leftGun;
		instance.rightGun = rightGun;
		instance.spotlightVec = spotlightVec;
		if (weakspothealths != null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
			for (int i = 0; i < weakspothealths.Count; i++)
			{
				float item = weakspothealths[i];
				instance.weakspothealths.Add(item);
			}
		}
		else
		{
			instance.weakspothealths = null;
		}
	}

	public Helicopter Copy()
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		CopyTo(helicopter);
		return helicopter;
	}

	public static Helicopter Deserialize(BufferStream stream)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		Deserialize(stream, helicopter, isDelta: false);
		return helicopter;
	}

	public static Helicopter DeserializeLengthDelimited(BufferStream stream)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		DeserializeLengthDelimited(stream, helicopter, isDelta: false);
		return helicopter;
	}

	public static Helicopter DeserializeLength(BufferStream stream, int length)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		DeserializeLength(stream, length, helicopter, isDelta: false);
		return helicopter;
	}

	public static Helicopter Deserialize(byte[] buffer)
	{
		Helicopter helicopter = Pool.Get<Helicopter>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, helicopter, isDelta: false);
		return helicopter;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Helicopter previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Helicopter Deserialize(BufferStream stream, Helicopter instance, bool isDelta)
	{
		//IL_0074: Unknown result type (might be due to invalid IL or missing references)
		//IL_0054: Unknown result type (might be due to invalid IL or missing references)
		//IL_0084: Unknown result type (might be due to invalid IL or missing references)
		//IL_0064: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.weakspothealths == null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.tiltRot, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftGun, isDelta);
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightGun, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spotlightVec, isDelta);
				continue;
			case 45:
				instance.weakspothealths.Add(ProtocolParser.ReadSingle(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Helicopter DeserializeLengthDelimited(BufferStream stream, Helicopter instance, bool isDelta)
	{
		//IL_00a5: Unknown result type (might be due to invalid IL or missing references)
		//IL_0085: Unknown result type (might be due to invalid IL or missing references)
		//IL_00b8: Unknown result type (might be due to invalid IL or missing references)
		//IL_0095: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.weakspothealths == null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.tiltRot, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftGun, isDelta);
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightGun, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spotlightVec, isDelta);
				continue;
			case 45:
				instance.weakspothealths.Add(ProtocolParser.ReadSingle(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Helicopter DeserializeLength(BufferStream stream, int length, Helicopter instance, bool isDelta)
	{
		//IL_009d: Unknown result type (might be due to invalid IL or missing references)
		//IL_007d: Unknown result type (might be due to invalid IL or missing references)
		//IL_00b0: Unknown result type (might be due to invalid IL or missing references)
		//IL_008d: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.weakspothealths == null)
		{
			instance.weakspothealths = Pool.Get<List<float>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.tiltRot, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftGun, isDelta);
				continue;
			case 26:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightGun, isDelta);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spotlightVec, isDelta);
				continue;
			case 45:
				instance.weakspothealths.Add(ProtocolParser.ReadSingle(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Helicopter instance, Helicopter previous)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_0065: Unknown result type (might be due to invalid IL or missing references)
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		//IL_002c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cd: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d3: Unknown result type (might be due to invalid IL or missing references)
		//IL_0091: Unknown result type (might be due to invalid IL or missing references)
		//IL_0097: Unknown result type (might be due to invalid IL or missing references)
		//IL_0136: Unknown result type (might be due to invalid IL or missing references)
		//IL_013c: Unknown result type (might be due to invalid IL or missing references)
		//IL_00fa: Unknown result type (might be due to invalid IL or missing references)
		//IL_0100: Unknown result type (might be due to invalid IL or missing references)
		//IL_0163: Unknown result type (might be due to invalid IL or missing references)
		//IL_0169: Unknown result type (might be due to invalid IL or missing references)
		if (instance.tiltRot != previous.tiltRot)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.tiltRot, previous.tiltRot);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tiltRot (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.leftGun != previous.leftGun)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.leftGun, previous.leftGun);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftGun (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.rightGun != previous.rightGun)
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(1);
			int position3 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rightGun, previous.rightGun);
			int num3 = stream.Position - position3;
			if (num3 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightGun (UnityEngine.Vector3)");
			}
			Span<byte> span3 = range3.GetSpan();
			ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		}
		if (instance.spotlightVec != previous.spotlightVec)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(1);
			int position4 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.spotlightVec, previous.spotlightVec);
			int num4 = stream.Position - position4;
			if (num4 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spotlightVec (UnityEngine.Vector3)");
			}
			Span<byte> span4 = range4.GetSpan();
			ProtocolParser.WriteUInt32((uint)num4, span4, 0);
		}
		if (instance.weakspothealths != null)
		{
			for (int i = 0; i < instance.weakspothealths.Count; i++)
			{
				float f = instance.weakspothealths[i];
				stream.WriteByte(45);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
	}

	public static void Serialize(BufferStream stream, Helicopter instance)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0008: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0062: Unknown result type (might be due to invalid IL or missing references)
		//IL_0069: Unknown result type (might be due to invalid IL or missing references)
		//IL_006f: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		//IL_00c8: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cf: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d5: Unknown result type (might be due to invalid IL or missing references)
		//IL_0092: Unknown result type (might be due to invalid IL or missing references)
		//IL_012e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0135: Unknown result type (might be due to invalid IL or missing references)
		//IL_013b: Unknown result type (might be due to invalid IL or missing references)
		//IL_00f8: Unknown result type (might be due to invalid IL or missing references)
		//IL_015e: Unknown result type (might be due to invalid IL or missing references)
		if (instance.tiltRot != default(Vector3))
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.tiltRot);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field tiltRot (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.leftGun != default(Vector3))
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.leftGun);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftGun (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.rightGun != default(Vector3))
		{
			stream.WriteByte(26);
			BufferStream.RangeHandle range3 = stream.GetRange(1);
			int position3 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rightGun);
			int num3 = stream.Position - position3;
			if (num3 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightGun (UnityEngine.Vector3)");
			}
			Span<byte> span3 = range3.GetSpan();
			ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		}
		if (instance.spotlightVec != default(Vector3))
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range4 = stream.GetRange(1);
			int position4 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.spotlightVec);
			int num4 = stream.Position - position4;
			if (num4 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spotlightVec (UnityEngine.Vector3)");
			}
			Span<byte> span4 = range4.GetSpan();
			ProtocolParser.WriteUInt32((uint)num4, span4, 0);
		}
		if (instance.weakspothealths != null)
		{
			for (int i = 0; i < instance.weakspothealths.Count; i++)
			{
				float f = instance.weakspothealths[i];
				stream.WriteByte(45);
				ProtocolParser.WriteSingle(stream, f);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class ServerGib : IDisposable, IPooled, IProto<ServerGib>, IProto
{
	[NonSerialized]
	public string gibName;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(ServerGib instance)
	{
		if (instance.ShouldPool)
		{
			instance.gibName = string.Empty;
			Pool.Free<ServerGib>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose ServerGib with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(ServerGib instance)
	{
		instance.gibName = gibName;
	}

	public ServerGib Copy()
	{
		ServerGib serverGib = Pool.Get<ServerGib>();
		CopyTo(serverGib);
		return serverGib;
	}

	public static ServerGib Deserialize(BufferStream stream)
	{
		ServerGib serverGib = Pool.Get<ServerGib>();
		Deserialize(stream, serverGib, isDelta: false);
		return serverGib;
	}

	public static ServerGib DeserializeLengthDelimited(BufferStream stream)
	{
		ServerGib serverGib = Pool.Get<ServerGib>();
		DeserializeLengthDelimited(stream, serverGib, isDelta: false);
		return serverGib;
	}

	public static ServerGib DeserializeLength(BufferStream stream, int length)
	{
		ServerGib serverGib = Pool.Get<ServerGib>();
		DeserializeLength(stream, length, serverGib, isDelta: false);
		return serverGib;
	}

	public static ServerGib Deserialize(byte[] buffer)
	{
		ServerGib serverGib = Pool.Get<ServerGib>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, serverGib, isDelta: false);
		return serverGib;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, ServerGib previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static ServerGib Deserialize(BufferStream stream, ServerGib instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.gibName = ProtocolParser.ReadString(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static ServerGib DeserializeLengthDelimited(BufferStream stream, ServerGib instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.gibName = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static ServerGib DeserializeLength(BufferStream stream, int length, ServerGib instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.gibName = ProtocolParser.ReadString(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, ServerGib instance, ServerGib previous)
	{
		if (instance.gibName != null && instance.gibName != previous.gibName)
		{
			stream.WriteByte(10);
			ProtocolParser.WriteString(stream, instance.gibName);
		}
	}

	public static void Serialize(BufferStream stream, ServerGib instance)
	{
		if (instance.gibName != null)
		{
			stream.WriteByte(10);
			ProtocolParser.WriteString(stream, instance.gibName);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class AutoTurret : IDisposable, IPooled, IProto<AutoTurret>, IProto
{
	[NonSerialized]
	public Vector3 aimPos;

	[NonSerialized]
	public Vector3 aimDir;

	[NonSerialized]
	public uint targetID;

	[NonSerialized]
	public List<PlayerNameID> users;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(AutoTurret instance)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		//IL_001b: Unknown result type (might be due to invalid IL or missing references)
		if (!instance.ShouldPool)
		{
			return;
		}
		instance.aimPos = default(Vector3);
		instance.aimDir = default(Vector3);
		instance.targetID = 0u;
		if (instance.users != null)
		{
			for (int i = 0; i < instance.users.Count; i++)
			{
				if (instance.users[i] != null)
				{
					instance.users[i].ResetToPool();
					instance.users[i] = null;
				}
			}
			List<PlayerNameID> list = instance.users;
			Pool.Free<PlayerNameID>(ref list, false);
			instance.users = list;
		}
		Pool.Free<AutoTurret>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose AutoTurret with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(AutoTurret instance)
	{
		//IL_0002: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0013: Unknown result type (might be due to invalid IL or missing references)
		instance.aimPos = aimPos;
		instance.aimDir = aimDir;
		instance.targetID = targetID;
		if (users != null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
			for (int i = 0; i < users.Count; i++)
			{
				PlayerNameID item = users[i].Copy();
				instance.users.Add(item);
			}
		}
		else
		{
			instance.users = null;
		}
	}

	public AutoTurret Copy()
	{
		AutoTurret autoTurret = Pool.Get<AutoTurret>();
		CopyTo(autoTurret);
		return autoTurret;
	}

	public static AutoTurret Deserialize(BufferStream stream)
	{
		AutoTurret autoTurret = Pool.Get<AutoTurret>();
		Deserialize(stream, autoTurret, isDelta: false);
		return autoTurret;
	}

	public static AutoTurret DeserializeLengthDelimited(BufferStream stream)
	{
		AutoTurret autoTurret = Pool.Get<AutoTurret>();
		DeserializeLengthDelimited(stream, autoTurret, isDelta: false);
		return autoTurret;
	}

	public static AutoTurret DeserializeLength(BufferStream stream, int length)
	{
		AutoTurret autoTurret = Pool.Get<AutoTurret>();
		DeserializeLength(stream, length, autoTurret, isDelta: false);
		return autoTurret;
	}

	public static AutoTurret Deserialize(byte[] buffer)
	{
		AutoTurret autoTurret = Pool.Get<AutoTurret>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, autoTurret, isDelta: false);
		return autoTurret;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, AutoTurret previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static AutoTurret Deserialize(BufferStream stream, AutoTurret instance, bool isDelta)
	{
		//IL_0049: Unknown result type (might be due to invalid IL or missing references)
		//IL_0059: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimPos, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimDir, isDelta);
				continue;
			case 24:
				instance.targetID = ProtocolParser.ReadUInt32(stream);
				continue;
			case 34:
				instance.users.Add(PlayerNameID.DeserializeLengthDelimited(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static AutoTurret DeserializeLengthDelimited(BufferStream stream, AutoTurret instance, bool isDelta)
	{
		//IL_0080: Unknown result type (might be due to invalid IL or missing references)
		//IL_0090: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimPos, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimDir, isDelta);
				continue;
			case 24:
				instance.targetID = ProtocolParser.ReadUInt32(stream);
				continue;
			case 34:
				instance.users.Add(PlayerNameID.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static AutoTurret DeserializeLength(BufferStream stream, int length, AutoTurret instance, bool isDelta)
	{
		//IL_0078: Unknown result type (might be due to invalid IL or missing references)
		//IL_0088: Unknown result type (might be due to invalid IL or missing references)
		if (!isDelta && instance.users == null)
		{
			instance.users = Pool.Get<List<PlayerNameID>>();
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimPos, isDelta);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimDir, isDelta);
				continue;
			case 24:
				instance.targetID = ProtocolParser.ReadUInt32(stream);
				continue;
			case 34:
				instance.users.Add(PlayerNameID.DeserializeLengthDelimited(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, AutoTurret instance, AutoTurret previous)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_0065: Unknown result type (might be due to invalid IL or missing references)
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		//IL_002c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		//IL_0091: Unknown result type (might be due to invalid IL or missing references)
		//IL_0097: Unknown result type (might be due to invalid IL or missing references)
		if (instance.aimPos != previous.aimPos)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.aimPos, previous.aimPos);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field aimPos (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.aimDir != previous.aimDir)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.aimDir, previous.aimDir);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field aimDir (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.targetID != previous.targetID)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.targetID);
		}
		if (instance.users == null)
		{
			return;
		}
		for (int i = 0; i < instance.users.Count; i++)
		{
			PlayerNameID playerNameID = instance.users[i];
			stream.WriteByte(34);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			PlayerNameID.SerializeDelta(stream, playerNameID, playerNameID);
			int val = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
	}

	public static void Serialize(BufferStream stream, AutoTurret instance)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0008: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0062: Unknown result type (might be due to invalid IL or missing references)
		//IL_0069: Unknown result type (might be due to invalid IL or missing references)
		//IL_006f: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0092: Unknown result type (might be due to invalid IL or missing references)
		if (instance.aimPos != default(Vector3))
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.aimPos);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field aimPos (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.aimDir != default(Vector3))
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.aimDir);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field aimDir (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.targetID != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt32(stream, instance.targetID);
		}
		if (instance.users == null)
		{
			return;
		}
		for (int i = 0; i < instance.users.Count; i++)
		{
			PlayerNameID instance2 = instance.users[i];
			stream.WriteByte(34);
			BufferStream.RangeHandle range3 = stream.GetRange(5);
			int position3 = stream.Position;
			PlayerNameID.Serialize(stream, instance2);
			int val = stream.Position - position3;
			Span<byte> span3 = range3.GetSpan();
			int num3 = ProtocolParser.WriteUInt32((uint)val, span3, 0);
			if (num3 < 5)
			{
				span3[num3 - 1] |= 128;
				while (num3 < 4)
				{
					span3[num3++] = 128;
				}
				span3[4] = 0;
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (users != null)
		{
			for (int i = 0; i < users.Count; i++)
			{
				users[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class SphereEntity : IDisposable, IPooled, IProto<SphereEntity>, IProto
{
	[NonSerialized]
	public float radius;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(SphereEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.radius = 0f;
			Pool.Free<SphereEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose SphereEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(SphereEntity instance)
	{
		instance.radius = radius;
	}

	public SphereEntity Copy()
	{
		SphereEntity sphereEntity = Pool.Get<SphereEntity>();
		CopyTo(sphereEntity);
		return sphereEntity;
	}

	public static SphereEntity Deserialize(BufferStream stream)
	{
		SphereEntity sphereEntity = Pool.Get<SphereEntity>();
		Deserialize(stream, sphereEntity, isDelta: false);
		return sphereEntity;
	}

	public static SphereEntity DeserializeLengthDelimited(BufferStream stream)
	{
		SphereEntity sphereEntity = Pool.Get<SphereEntity>();
		DeserializeLengthDelimited(stream, sphereEntity, isDelta: false);
		return sphereEntity;
	}

	public static SphereEntity DeserializeLength(BufferStream stream, int length)
	{
		SphereEntity sphereEntity = Pool.Get<SphereEntity>();
		DeserializeLength(stream, length, sphereEntity, isDelta: false);
		return sphereEntity;
	}

	public static SphereEntity Deserialize(byte[] buffer)
	{
		SphereEntity sphereEntity = Pool.Get<SphereEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, sphereEntity, isDelta: false);
		return sphereEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, SphereEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static SphereEntity Deserialize(BufferStream stream, SphereEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.radius = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static SphereEntity DeserializeLengthDelimited(BufferStream stream, SphereEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.radius = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static SphereEntity DeserializeLength(BufferStream stream, int length, SphereEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.radius = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, SphereEntity instance, SphereEntity previous)
	{
		if (instance.radius != previous.radius)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.radius);
		}
	}

	public static void Serialize(BufferStream stream, SphereEntity instance)
	{
		if (instance.radius != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.radius);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class StabilityEntity : IDisposable, IPooled, IProto<StabilityEntity>, IProto
{
	[NonSerialized]
	public float stability;

	[NonSerialized]
	public int distanceFromGround;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(StabilityEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.stability = 0f;
			instance.distanceFromGround = 0;
			Pool.Free<StabilityEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose StabilityEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(StabilityEntity instance)
	{
		instance.stability = stability;
		instance.distanceFromGround = distanceFromGround;
	}

	public StabilityEntity Copy()
	{
		StabilityEntity stabilityEntity = Pool.Get<StabilityEntity>();
		CopyTo(stabilityEntity);
		return stabilityEntity;
	}

	public static StabilityEntity Deserialize(BufferStream stream)
	{
		StabilityEntity stabilityEntity = Pool.Get<StabilityEntity>();
		Deserialize(stream, stabilityEntity, isDelta: false);
		return stabilityEntity;
	}

	public static StabilityEntity DeserializeLengthDelimited(BufferStream stream)
	{
		StabilityEntity stabilityEntity = Pool.Get<StabilityEntity>();
		DeserializeLengthDelimited(stream, stabilityEntity, isDelta: false);
		return stabilityEntity;
	}

	public static StabilityEntity DeserializeLength(BufferStream stream, int length)
	{
		StabilityEntity stabilityEntity = Pool.Get<StabilityEntity>();
		DeserializeLength(stream, length, stabilityEntity, isDelta: false);
		return stabilityEntity;
	}

	public static StabilityEntity Deserialize(byte[] buffer)
	{
		StabilityEntity stabilityEntity = Pool.Get<StabilityEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, stabilityEntity, isDelta: false);
		return stabilityEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, StabilityEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static StabilityEntity Deserialize(BufferStream stream, StabilityEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.stability = ProtocolParser.ReadSingle(stream);
				continue;
			case 16:
				instance.distanceFromGround = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static StabilityEntity DeserializeLengthDelimited(BufferStream stream, StabilityEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.stability = ProtocolParser.ReadSingle(stream);
				continue;
			case 16:
				instance.distanceFromGround = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static StabilityEntity DeserializeLength(BufferStream stream, int length, StabilityEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.stability = ProtocolParser.ReadSingle(stream);
				continue;
			case 16:
				instance.distanceFromGround = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, StabilityEntity instance, StabilityEntity previous)
	{
		if (instance.stability != previous.stability)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.stability);
		}
		if (instance.distanceFromGround != previous.distanceFromGround)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.distanceFromGround);
		}
	}

	public static void Serialize(BufferStream stream, StabilityEntity instance)
	{
		if (instance.stability != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.stability);
		}
		if (instance.distanceFromGround != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.distanceFromGround);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class OwnerInfo : IDisposable, IPooled, IProto<OwnerInfo>, IProto
{
	[NonSerialized]
	public ulong steamid;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(OwnerInfo instance)
	{
		if (instance.ShouldPool)
		{
			instance.steamid = 0uL;
			Pool.Free<OwnerInfo>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose OwnerInfo with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(OwnerInfo instance)
	{
		instance.steamid = steamid;
	}

	public OwnerInfo Copy()
	{
		OwnerInfo ownerInfo = Pool.Get<OwnerInfo>();
		CopyTo(ownerInfo);
		return ownerInfo;
	}

	public static OwnerInfo Deserialize(BufferStream stream)
	{
		OwnerInfo ownerInfo = Pool.Get<OwnerInfo>();
		Deserialize(stream, ownerInfo, isDelta: false);
		return ownerInfo;
	}

	public static OwnerInfo DeserializeLengthDelimited(BufferStream stream)
	{
		OwnerInfo ownerInfo = Pool.Get<OwnerInfo>();
		DeserializeLengthDelimited(stream, ownerInfo, isDelta: false);
		return ownerInfo;
	}

	public static OwnerInfo DeserializeLength(BufferStream stream, int length)
	{
		OwnerInfo ownerInfo = Pool.Get<OwnerInfo>();
		DeserializeLength(stream, length, ownerInfo, isDelta: false);
		return ownerInfo;
	}

	public static OwnerInfo Deserialize(byte[] buffer)
	{
		OwnerInfo ownerInfo = Pool.Get<OwnerInfo>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, ownerInfo, isDelta: false);
		return ownerInfo;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, OwnerInfo previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static OwnerInfo Deserialize(BufferStream stream, OwnerInfo instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.steamid = ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static OwnerInfo DeserializeLengthDelimited(BufferStream stream, OwnerInfo instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.steamid = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static OwnerInfo DeserializeLength(BufferStream stream, int length, OwnerInfo instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.steamid = ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, OwnerInfo instance, OwnerInfo previous)
	{
		if (instance.steamid != previous.steamid)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.steamid);
		}
	}

	public static void Serialize(BufferStream stream, OwnerInfo instance)
	{
		if (instance.steamid != 0L)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.steamid);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class DecayEntity : IDisposable, IPooled, IProto<DecayEntity>, IProto
{
	[NonSerialized]
	public float decayTimer;

	[NonSerialized]
	public uint buildingID;

	[NonSerialized]
	public float upkeepTimer;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(DecayEntity instance)
	{
		if (instance.ShouldPool)
		{
			instance.decayTimer = 0f;
			instance.buildingID = 0u;
			instance.upkeepTimer = 0f;
			Pool.Free<DecayEntity>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose DecayEntity with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(DecayEntity instance)
	{
		instance.decayTimer = decayTimer;
		instance.buildingID = buildingID;
		instance.upkeepTimer = upkeepTimer;
	}

	public DecayEntity Copy()
	{
		DecayEntity decayEntity = Pool.Get<DecayEntity>();
		CopyTo(decayEntity);
		return decayEntity;
	}

	public static DecayEntity Deserialize(BufferStream stream)
	{
		DecayEntity decayEntity = Pool.Get<DecayEntity>();
		Deserialize(stream, decayEntity, isDelta: false);
		return decayEntity;
	}

	public static DecayEntity DeserializeLengthDelimited(BufferStream stream)
	{
		DecayEntity decayEntity = Pool.Get<DecayEntity>();
		DeserializeLengthDelimited(stream, decayEntity, isDelta: false);
		return decayEntity;
	}

	public static DecayEntity DeserializeLength(BufferStream stream, int length)
	{
		DecayEntity decayEntity = Pool.Get<DecayEntity>();
		DeserializeLength(stream, length, decayEntity, isDelta: false);
		return decayEntity;
	}

	public static DecayEntity Deserialize(byte[] buffer)
	{
		DecayEntity decayEntity = Pool.Get<DecayEntity>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, decayEntity, isDelta: false);
		return decayEntity;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, DecayEntity previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static DecayEntity Deserialize(BufferStream stream, DecayEntity instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.decayTimer = ProtocolParser.ReadSingle(stream);
				continue;
			case 16:
				instance.buildingID = ProtocolParser.ReadUInt32(stream);
				continue;
			case 29:
				instance.upkeepTimer = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static DecayEntity DeserializeLengthDelimited(BufferStream stream, DecayEntity instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.decayTimer = ProtocolParser.ReadSingle(stream);
				continue;
			case 16:
				instance.buildingID = ProtocolParser.ReadUInt32(stream);
				continue;
			case 29:
				instance.upkeepTimer = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static DecayEntity DeserializeLength(BufferStream stream, int length, DecayEntity instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.decayTimer = ProtocolParser.ReadSingle(stream);
				continue;
			case 16:
				instance.buildingID = ProtocolParser.ReadUInt32(stream);
				continue;
			case 29:
				instance.upkeepTimer = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, DecayEntity instance, DecayEntity previous)
	{
		if (instance.decayTimer != previous.decayTimer)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.decayTimer);
		}
		if (instance.buildingID != previous.buildingID)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.buildingID);
		}
		if (instance.upkeepTimer != previous.upkeepTimer)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.upkeepTimer);
		}
	}

	public static void Serialize(BufferStream stream, DecayEntity instance)
	{
		if (instance.decayTimer != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.decayTimer);
		}
		if (instance.buildingID != 0)
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt32(stream, instance.buildingID);
		}
		if (instance.upkeepTimer != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.upkeepTimer);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Spawnable : IDisposable, IPooled, IProto<Spawnable>, IProto
{
	[NonSerialized]
	public uint population;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Spawnable instance)
	{
		if (instance.ShouldPool)
		{
			instance.population = 0u;
			Pool.Free<Spawnable>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Spawnable with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Spawnable instance)
	{
		instance.population = population;
	}

	public Spawnable Copy()
	{
		Spawnable spawnable = Pool.Get<Spawnable>();
		CopyTo(spawnable);
		return spawnable;
	}

	public static Spawnable Deserialize(BufferStream stream)
	{
		Spawnable spawnable = Pool.Get<Spawnable>();
		Deserialize(stream, spawnable, isDelta: false);
		return spawnable;
	}

	public static Spawnable DeserializeLengthDelimited(BufferStream stream)
	{
		Spawnable spawnable = Pool.Get<Spawnable>();
		DeserializeLengthDelimited(stream, spawnable, isDelta: false);
		return spawnable;
	}

	public static Spawnable DeserializeLength(BufferStream stream, int length)
	{
		Spawnable spawnable = Pool.Get<Spawnable>();
		DeserializeLength(stream, length, spawnable, isDelta: false);
		return spawnable;
	}

	public static Spawnable Deserialize(byte[] buffer)
	{
		Spawnable spawnable = Pool.Get<Spawnable>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, spawnable, isDelta: false);
		return spawnable;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Spawnable previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Spawnable Deserialize(BufferStream stream, Spawnable instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.population = ProtocolParser.ReadUInt32(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Spawnable DeserializeLengthDelimited(BufferStream stream, Spawnable instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.population = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Spawnable DeserializeLength(BufferStream stream, int length, Spawnable instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.population = ProtocolParser.ReadUInt32(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Spawnable instance, Spawnable previous)
	{
		if (instance.population != previous.population)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.population);
		}
	}

	public static void Serialize(BufferStream stream, Spawnable instance)
	{
		if (instance.population != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt32(stream, instance.population);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class SpinnerWheel : IDisposable, IPooled, IProto<SpinnerWheel>, IProto
{
	[NonSerialized]
	public Vector3 spin;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(SpinnerWheel instance)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.spin = default(Vector3);
			Pool.Free<SpinnerWheel>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose SpinnerWheel with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(SpinnerWheel instance)
	{
		//IL_0002: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		instance.spin = spin;
	}

	public SpinnerWheel Copy()
	{
		SpinnerWheel spinnerWheel = Pool.Get<SpinnerWheel>();
		CopyTo(spinnerWheel);
		return spinnerWheel;
	}

	public static SpinnerWheel Deserialize(BufferStream stream)
	{
		SpinnerWheel spinnerWheel = Pool.Get<SpinnerWheel>();
		Deserialize(stream, spinnerWheel, isDelta: false);
		return spinnerWheel;
	}

	public static SpinnerWheel DeserializeLengthDelimited(BufferStream stream)
	{
		SpinnerWheel spinnerWheel = Pool.Get<SpinnerWheel>();
		DeserializeLengthDelimited(stream, spinnerWheel, isDelta: false);
		return spinnerWheel;
	}

	public static SpinnerWheel DeserializeLength(BufferStream stream, int length)
	{
		SpinnerWheel spinnerWheel = Pool.Get<SpinnerWheel>();
		DeserializeLength(stream, length, spinnerWheel, isDelta: false);
		return spinnerWheel;
	}

	public static SpinnerWheel Deserialize(byte[] buffer)
	{
		SpinnerWheel spinnerWheel = Pool.Get<SpinnerWheel>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, spinnerWheel, isDelta: false);
		return spinnerWheel;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, SpinnerWheel previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static SpinnerWheel Deserialize(BufferStream stream, SpinnerWheel instance, bool isDelta)
	{
		//IL_001d: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spin, isDelta);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static SpinnerWheel DeserializeLengthDelimited(BufferStream stream, SpinnerWheel instance, bool isDelta)
	{
		//IL_0051: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spin, isDelta);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static SpinnerWheel DeserializeLength(BufferStream stream, int length, SpinnerWheel instance, bool isDelta)
	{
		//IL_0049: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.spin, isDelta);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, SpinnerWheel instance, SpinnerWheel previous)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_002c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		if (instance.spin != previous.spin)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.spin, previous.spin);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spin (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, SpinnerWheel instance)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0008: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		if (instance.spin != default(Vector3))
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.spin);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field spin (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Lift : IDisposable, IPooled, IProto<Lift>, IProto
{
	[NonSerialized]
	public int floor;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Lift instance)
	{
		if (instance.ShouldPool)
		{
			instance.floor = 0;
			Pool.Free<Lift>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Lift with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Lift instance)
	{
		instance.floor = floor;
	}

	public Lift Copy()
	{
		Lift lift = Pool.Get<Lift>();
		CopyTo(lift);
		return lift;
	}

	public static Lift Deserialize(BufferStream stream)
	{
		Lift lift = Pool.Get<Lift>();
		Deserialize(stream, lift, isDelta: false);
		return lift;
	}

	public static Lift DeserializeLengthDelimited(BufferStream stream)
	{
		Lift lift = Pool.Get<Lift>();
		DeserializeLengthDelimited(stream, lift, isDelta: false);
		return lift;
	}

	public static Lift DeserializeLength(BufferStream stream, int length)
	{
		Lift lift = Pool.Get<Lift>();
		DeserializeLength(stream, length, lift, isDelta: false);
		return lift;
	}

	public static Lift Deserialize(byte[] buffer)
	{
		Lift lift = Pool.Get<Lift>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, lift, isDelta: false);
		return lift;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Lift previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Lift Deserialize(BufferStream stream, Lift instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.floor = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Lift DeserializeLengthDelimited(BufferStream stream, Lift instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.floor = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Lift DeserializeLength(BufferStream stream, int length, Lift instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.floor = (int)ProtocolParser.ReadUInt64(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Lift instance, Lift previous)
	{
		if (instance.floor != previous.floor)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.floor);
		}
	}

	public static void Serialize(BufferStream stream, Lift instance)
	{
		if (instance.floor != 0)
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.floor);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class VendingMachine : IDisposable, IPooled, IProto<VendingMachine>, IProto
{
	public class SellOrder : IDisposable, IPooled, IProto<SellOrder>, IProto
	{
		[NonSerialized]
		public int itemToSellID;

		[NonSerialized]
		public int itemToSellAmount;

		[NonSerialized]
		public int currencyID;

		[NonSerialized]
		public int currencyAmountPerItem;

		[NonSerialized]
		public int inStock;

		[NonSerialized]
		public bool currencyIsBP;

		[NonSerialized]
		public bool itemToSellIsBP;

		[NonSerialized]
		public float itemCondition;

		[NonSerialized]
		public float itemConditionMax;

		[NonSerialized]
		public int instanceData;

		[NonSerialized]
		public List<int> attachmentsList;

		[NonSerialized]
		public int totalAttachmentSlots;

		[NonSerialized]
		public float priceMultiplier;

		[NonSerialized]
		public int ammoType;

		[NonSerialized]
		public int ammoCount;

		[NonSerialized]
		public float receivedQuantityMultiplier;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(SellOrder instance)
		{
			if (instance.ShouldPool)
			{
				instance.itemToSellID = 0;
				instance.itemToSellAmount = 0;
				instance.currencyID = 0;
				instance.currencyAmountPerItem = 0;
				instance.inStock = 0;
				instance.currencyIsBP = false;
				instance.itemToSellIsBP = false;
				instance.itemCondition = 0f;
				instance.itemConditionMax = 0f;
				instance.instanceData = 0;
				if (instance.attachmentsList != null)
				{
					List<int> list = instance.attachmentsList;
					Pool.FreeUnmanaged<int>(ref list);
					instance.attachmentsList = list;
				}
				instance.totalAttachmentSlots = 0;
				instance.priceMultiplier = 0f;
				instance.ammoType = 0;
				instance.ammoCount = 0;
				instance.receivedQuantityMultiplier = 0f;
				Pool.Free<SellOrder>(ref instance);
			}
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose SellOrder with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(SellOrder instance)
		{
			instance.itemToSellID = itemToSellID;
			instance.itemToSellAmount = itemToSellAmount;
			instance.currencyID = currencyID;
			instance.currencyAmountPerItem = currencyAmountPerItem;
			instance.inStock = inStock;
			instance.currencyIsBP = currencyIsBP;
			instance.itemToSellIsBP = itemToSellIsBP;
			instance.itemCondition = itemCondition;
			instance.itemConditionMax = itemConditionMax;
			instance.instanceData = instanceData;
			if (attachmentsList != null)
			{
				instance.attachmentsList = Pool.Get<List<int>>();
				for (int i = 0; i < attachmentsList.Count; i++)
				{
					int item = attachmentsList[i];
					instance.attachmentsList.Add(item);
				}
			}
			else
			{
				instance.attachmentsList = null;
			}
			instance.totalAttachmentSlots = totalAttachmentSlots;
			instance.priceMultiplier = priceMultiplier;
			instance.ammoType = ammoType;
			instance.ammoCount = ammoCount;
			instance.receivedQuantityMultiplier = receivedQuantityMultiplier;
		}

		public SellOrder Copy()
		{
			SellOrder sellOrder = Pool.Get<SellOrder>();
			CopyTo(sellOrder);
			return sellOrder;
		}

		public static SellOrder Deserialize(BufferStream stream)
		{
			SellOrder sellOrder = Pool.Get<SellOrder>();
			Deserialize(stream, sellOrder, isDelta: false);
			return sellOrder;
		}

		public static SellOrder DeserializeLengthDelimited(BufferStream stream)
		{
			SellOrder sellOrder = Pool.Get<SellOrder>();
			DeserializeLengthDelimited(stream, sellOrder, isDelta: false);
			return sellOrder;
		}

		public static SellOrder DeserializeLength(BufferStream stream, int length)
		{
			SellOrder sellOrder = Pool.Get<SellOrder>();
			DeserializeLength(stream, length, sellOrder, isDelta: false);
			return sellOrder;
		}

		public static SellOrder Deserialize(byte[] buffer)
		{
			SellOrder sellOrder = Pool.Get<SellOrder>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, sellOrder, isDelta: false);
			return sellOrder;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, SellOrder previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static SellOrder Deserialize(BufferStream stream, SellOrder instance, bool isDelta)
		{
			if (!isDelta && instance.attachmentsList == null)
			{
				instance.attachmentsList = Pool.Get<List<int>>();
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 8:
					instance.itemToSellID = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.itemToSellAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.currencyID = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.currencyAmountPerItem = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.inStock = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 48:
					instance.currencyIsBP = ProtocolParser.ReadBool(stream);
					continue;
				case 56:
					instance.itemToSellIsBP = ProtocolParser.ReadBool(stream);
					continue;
				case 69:
					instance.itemCondition = ProtocolParser.ReadSingle(stream);
					continue;
				case 77:
					instance.itemConditionMax = ProtocolParser.ReadSingle(stream);
					continue;
				case 80:
					instance.instanceData = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 88:
					instance.attachmentsList.Add((int)ProtocolParser.ReadUInt64(stream));
					continue;
				case 96:
					instance.totalAttachmentSlots = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 109:
					instance.priceMultiplier = ProtocolParser.ReadSingle(stream);
					continue;
				case 112:
					instance.ammoType = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 120:
					instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				if (key.Field == 16)
				{
					if (key.WireType == Wire.Fixed32)
					{
						instance.receivedQuantityMultiplier = ProtocolParser.ReadSingle(stream);
					}
				}
				else
				{
					ProtocolParser.SkipKey(stream, key);
				}
			}
		}

		public static SellOrder DeserializeLengthDelimited(BufferStream stream, SellOrder instance, bool isDelta)
		{
			if (!isDelta && instance.attachmentsList == null)
			{
				instance.attachmentsList = Pool.Get<List<int>>();
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemToSellID = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.itemToSellAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.currencyID = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.currencyAmountPerItem = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.inStock = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 48:
					instance.currencyIsBP = ProtocolParser.ReadBool(stream);
					continue;
				case 56:
					instance.itemToSellIsBP = ProtocolParser.ReadBool(stream);
					continue;
				case 69:
					instance.itemCondition = ProtocolParser.ReadSingle(stream);
					continue;
				case 77:
					instance.itemConditionMax = ProtocolParser.ReadSingle(stream);
					continue;
				case 80:
					instance.instanceData = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 88:
					instance.attachmentsList.Add((int)ProtocolParser.ReadUInt64(stream));
					continue;
				case 96:
					instance.totalAttachmentSlots = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 109:
					instance.priceMultiplier = ProtocolParser.ReadSingle(stream);
					continue;
				case 112:
					instance.ammoType = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 120:
					instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				if (key.Field == 16)
				{
					if (key.WireType == Wire.Fixed32)
					{
						instance.receivedQuantityMultiplier = ProtocolParser.ReadSingle(stream);
					}
				}
				else
				{
					ProtocolParser.SkipKey(stream, key);
				}
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static SellOrder DeserializeLength(BufferStream stream, int length, SellOrder instance, bool isDelta)
		{
			if (!isDelta && instance.attachmentsList == null)
			{
				instance.attachmentsList = Pool.Get<List<int>>();
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 8:
					instance.itemToSellID = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 16:
					instance.itemToSellAmount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 24:
					instance.currencyID = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 32:
					instance.currencyAmountPerItem = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 40:
					instance.inStock = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 48:
					instance.currencyIsBP = ProtocolParser.ReadBool(stream);
					continue;
				case 56:
					instance.itemToSellIsBP = ProtocolParser.ReadBool(stream);
					continue;
				case 69:
					instance.itemCondition = ProtocolParser.ReadSingle(stream);
					continue;
				case 77:
					instance.itemConditionMax = ProtocolParser.ReadSingle(stream);
					continue;
				case 80:
					instance.instanceData = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 88:
					instance.attachmentsList.Add((int)ProtocolParser.ReadUInt64(stream));
					continue;
				case 96:
					instance.totalAttachmentSlots = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 109:
					instance.priceMultiplier = ProtocolParser.ReadSingle(stream);
					continue;
				case 112:
					instance.ammoType = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				case 120:
					instance.ammoCount = (int)ProtocolParser.ReadUInt64(stream);
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				if (key.Field == 16)
				{
					if (key.WireType == Wire.Fixed32)
					{
						instance.receivedQuantityMultiplier = ProtocolParser.ReadSingle(stream);
					}
				}
				else
				{
					ProtocolParser.SkipKey(stream, key);
				}
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, SellOrder instance, SellOrder previous)
		{
			if (instance.itemToSellID != previous.itemToSellID)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemToSellID);
			}
			if (instance.itemToSellAmount != previous.itemToSellAmount)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemToSellAmount);
			}
			if (instance.currencyID != previous.currencyID)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.currencyID);
			}
			if (instance.currencyAmountPerItem != previous.currencyAmountPerItem)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.currencyAmountPerItem);
			}
			if (instance.inStock != previous.inStock)
			{
				stream.WriteByte(40);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.inStock);
			}
			stream.WriteByte(48);
			ProtocolParser.WriteBool(stream, instance.currencyIsBP);
			stream.WriteByte(56);
			ProtocolParser.WriteBool(stream, instance.itemToSellIsBP);
			if (instance.itemCondition != previous.itemCondition)
			{
				stream.WriteByte(69);
				ProtocolParser.WriteSingle(stream, instance.itemCondition);
			}
			if (instance.itemConditionMax != previous.itemConditionMax)
			{
				stream.WriteByte(77);
				ProtocolParser.WriteSingle(stream, instance.itemConditionMax);
			}
			if (instance.instanceData != previous.instanceData)
			{
				stream.WriteByte(80);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.instanceData);
			}
			if (instance.attachmentsList != null)
			{
				for (int i = 0; i < instance.attachmentsList.Count; i++)
				{
					int num = instance.attachmentsList[i];
					stream.WriteByte(88);
					ProtocolParser.WriteUInt64(stream, (ulong)num);
				}
			}
			if (instance.totalAttachmentSlots != previous.totalAttachmentSlots)
			{
				stream.WriteByte(96);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.totalAttachmentSlots);
			}
			if (instance.priceMultiplier != previous.priceMultiplier)
			{
				stream.WriteByte(109);
				ProtocolParser.WriteSingle(stream, instance.priceMultiplier);
			}
			if (instance.ammoType != previous.ammoType)
			{
				stream.WriteByte(112);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoType);
			}
			if (instance.ammoCount != previous.ammoCount)
			{
				stream.WriteByte(120);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoCount);
			}
			if (instance.receivedQuantityMultiplier != previous.receivedQuantityMultiplier)
			{
				stream.WriteByte(133);
				stream.WriteByte(1);
				ProtocolParser.WriteSingle(stream, instance.receivedQuantityMultiplier);
			}
		}

		public static void Serialize(BufferStream stream, SellOrder instance)
		{
			if (instance.itemToSellID != 0)
			{
				stream.WriteByte(8);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemToSellID);
			}
			if (instance.itemToSellAmount != 0)
			{
				stream.WriteByte(16);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.itemToSellAmount);
			}
			if (instance.currencyID != 0)
			{
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.currencyID);
			}
			if (instance.currencyAmountPerItem != 0)
			{
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.currencyAmountPerItem);
			}
			if (instance.inStock != 0)
			{
				stream.WriteByte(40);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.inStock);
			}
			if (instance.currencyIsBP)
			{
				stream.WriteByte(48);
				ProtocolParser.WriteBool(stream, instance.currencyIsBP);
			}
			if (instance.itemToSellIsBP)
			{
				stream.WriteByte(56);
				ProtocolParser.WriteBool(stream, instance.itemToSellIsBP);
			}
			if (instance.itemCondition != 0f)
			{
				stream.WriteByte(69);
				ProtocolParser.WriteSingle(stream, instance.itemCondition);
			}
			if (instance.itemConditionMax != 0f)
			{
				stream.WriteByte(77);
				ProtocolParser.WriteSingle(stream, instance.itemConditionMax);
			}
			if (instance.instanceData != 0)
			{
				stream.WriteByte(80);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.instanceData);
			}
			if (instance.attachmentsList != null)
			{
				for (int i = 0; i < instance.attachmentsList.Count; i++)
				{
					int num = instance.attachmentsList[i];
					stream.WriteByte(88);
					ProtocolParser.WriteUInt64(stream, (ulong)num);
				}
			}
			if (instance.totalAttachmentSlots != 0)
			{
				stream.WriteByte(96);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.totalAttachmentSlots);
			}
			if (instance.priceMultiplier != 0f)
			{
				stream.WriteByte(109);
				ProtocolParser.WriteSingle(stream, instance.priceMultiplier);
			}
			if (instance.ammoType != 0)
			{
				stream.WriteByte(112);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoType);
			}
			if (instance.ammoCount != 0)
			{
				stream.WriteByte(120);
				ProtocolParser.WriteUInt64(stream, (ulong)instance.ammoCount);
			}
			if (instance.receivedQuantityMultiplier != 0f)
			{
				stream.WriteByte(133);
				stream.WriteByte(1);
				ProtocolParser.WriteSingle(stream, instance.receivedQuantityMultiplier);
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
		}
	}

	public class SellOrderContainer : IDisposable, IPooled, IProto<SellOrderContainer>, IProto
	{
		[NonSerialized]
		public List<SellOrder> sellOrders;

		public bool ShouldPool = true;

		private bool _disposed;

		public static void ResetToPool(SellOrderContainer instance)
		{
			if (!instance.ShouldPool)
			{
				return;
			}
			if (instance.sellOrders != null)
			{
				for (int i = 0; i < instance.sellOrders.Count; i++)
				{
					if (instance.sellOrders[i] != null)
					{
						instance.sellOrders[i].ResetToPool();
						instance.sellOrders[i] = null;
					}
				}
				List<SellOrder> list = instance.sellOrders;
				Pool.Free<SellOrder>(ref list, false);
				instance.sellOrders = list;
			}
			Pool.Free<SellOrderContainer>(ref instance);
		}

		public void ResetToPool()
		{
			ResetToPool(this);
		}

		public virtual void Dispose()
		{
			if (!ShouldPool)
			{
				throw new Exception("Trying to dispose SellOrderContainer with ShouldPool set to false!");
			}
			if (!_disposed)
			{
				ResetToPool();
				_disposed = true;
			}
		}

		public virtual void EnterPool()
		{
			_disposed = true;
		}

		public virtual void LeavePool()
		{
			_disposed = false;
		}

		public void CopyTo(SellOrderContainer instance)
		{
			if (sellOrders != null)
			{
				instance.sellOrders = Pool.Get<List<SellOrder>>();
				for (int i = 0; i < sellOrders.Count; i++)
				{
					SellOrder item = sellOrders[i].Copy();
					instance.sellOrders.Add(item);
				}
			}
			else
			{
				instance.sellOrders = null;
			}
		}

		public SellOrderContainer Copy()
		{
			SellOrderContainer sellOrderContainer = Pool.Get<SellOrderContainer>();
			CopyTo(sellOrderContainer);
			return sellOrderContainer;
		}

		public static SellOrderContainer Deserialize(BufferStream stream)
		{
			SellOrderContainer sellOrderContainer = Pool.Get<SellOrderContainer>();
			Deserialize(stream, sellOrderContainer, isDelta: false);
			return sellOrderContainer;
		}

		public static SellOrderContainer DeserializeLengthDelimited(BufferStream stream)
		{
			SellOrderContainer sellOrderContainer = Pool.Get<SellOrderContainer>();
			DeserializeLengthDelimited(stream, sellOrderContainer, isDelta: false);
			return sellOrderContainer;
		}

		public static SellOrderContainer DeserializeLength(BufferStream stream, int length)
		{
			SellOrderContainer sellOrderContainer = Pool.Get<SellOrderContainer>();
			DeserializeLength(stream, length, sellOrderContainer, isDelta: false);
			return sellOrderContainer;
		}

		public static SellOrderContainer Deserialize(byte[] buffer)
		{
			SellOrderContainer sellOrderContainer = Pool.Get<SellOrderContainer>();
			using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
			Deserialize(stream, sellOrderContainer, isDelta: false);
			return sellOrderContainer;
		}

		public void FromProto(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void WriteToStream(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public virtual void WriteToStreamDelta(BufferStream stream, SellOrderContainer previous)
		{
			if (previous == null)
			{
				Serialize(stream, this);
			}
			else
			{
				SerializeDelta(stream, this, previous);
			}
		}

		public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
		{
			Deserialize(stream, this, isDelta);
		}

		public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
		{
			DeserializeLength(stream, size, this, isDelta);
		}

		public static SellOrderContainer Deserialize(BufferStream stream, SellOrderContainer instance, bool isDelta)
		{
			if (!isDelta && instance.sellOrders == null)
			{
				instance.sellOrders = Pool.Get<List<SellOrder>>();
			}
			while (true)
			{
				int num = stream.ReadByte();
				switch (num)
				{
				case 10:
					instance.sellOrders.Add(SellOrder.DeserializeLengthDelimited(stream));
					continue;
				case -1:
				case 0:
					return instance;
				}
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
		}

		public static SellOrderContainer DeserializeLengthDelimited(BufferStream stream, SellOrderContainer instance, bool isDelta)
		{
			if (!isDelta && instance.sellOrders == null)
			{
				instance.sellOrders = Pool.Get<List<SellOrder>>();
			}
			long num = ProtocolParser.ReadUInt32(stream);
			num += stream.Position;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.sellOrders.Add(SellOrder.DeserializeLengthDelimited(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static SellOrderContainer DeserializeLength(BufferStream stream, int length, SellOrderContainer instance, bool isDelta)
		{
			if (!isDelta && instance.sellOrders == null)
			{
				instance.sellOrders = Pool.Get<List<SellOrder>>();
			}
			long num = stream.Position + length;
			while (stream.Position < num)
			{
				int num2 = stream.ReadByte();
				switch (num2)
				{
				case -1:
					throw new EndOfStreamException();
				case 10:
					instance.sellOrders.Add(SellOrder.DeserializeLengthDelimited(stream));
					continue;
				}
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
			}
			if (stream.Position != num)
			{
				throw new ProtocolBufferException("Read past max limit");
			}
			return instance;
		}

		public static void SerializeDelta(BufferStream stream, SellOrderContainer instance, SellOrderContainer previous)
		{
			if (instance.sellOrders == null)
			{
				return;
			}
			for (int i = 0; i < instance.sellOrders.Count; i++)
			{
				SellOrder sellOrder = instance.sellOrders[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(3);
				int position = stream.Position;
				SellOrder.SerializeDelta(stream, sellOrder, sellOrder);
				int num = stream.Position - position;
				if (num > 2097151)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sellOrders (ProtoBuf.VendingMachine.SellOrder)");
				}
				Span<byte> span = range.GetSpan();
				int num2 = ProtocolParser.WriteUInt32((uint)num, span, 0);
				if (num2 < 3)
				{
					span[num2 - 1] |= 128;
					while (num2 < 2)
					{
						span[num2++] = 128;
					}
					span[2] = 0;
				}
			}
		}

		public static void Serialize(BufferStream stream, SellOrderContainer instance)
		{
			if (instance.sellOrders == null)
			{
				return;
			}
			for (int i = 0; i < instance.sellOrders.Count; i++)
			{
				SellOrder instance2 = instance.sellOrders[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(3);
				int position = stream.Position;
				SellOrder.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 2097151)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sellOrders (ProtoBuf.VendingMachine.SellOrder)");
				}
				Span<byte> span = range.GetSpan();
				int num2 = ProtocolParser.WriteUInt32((uint)num, span, 0);
				if (num2 < 3)
				{
					span[num2 - 1] |= 128;
					while (num2 < 2)
					{
						span[num2++] = 128;
					}
					span[2] = 0;
				}
			}
		}

		public void ToProto(BufferStream stream)
		{
			Serialize(stream, this);
		}

		public void InspectUids(UidInspector<ulong> action)
		{
			if (sellOrders != null)
			{
				for (int i = 0; i < sellOrders.Count; i++)
				{
					sellOrders[i]?.InspectUids(action);
				}
			}
		}
	}

	[NonSerialized]
	public SellOrderContainer sellOrderContainer;

	[NonSerialized]
	public string shopName;

	[NonSerialized]
	public int vmoIndex;

	[NonSerialized]
	public NetworkableId networkID;

	[NonSerialized]
	public string translationToken;

	[NonSerialized]
	public ulong nameLastEditedBy;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(VendingMachine instance)
	{
		if (instance.ShouldPool)
		{
			if (instance.sellOrderContainer != null)
			{
				instance.sellOrderContainer.ResetToPool();
				instance.sellOrderContainer = null;
			}
			instance.shopName = string.Empty;
			instance.vmoIndex = 0;
			instance.networkID = default(NetworkableId);
			instance.translationToken = string.Empty;
			instance.nameLastEditedBy = 0uL;
			Pool.Free<VendingMachine>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose VendingMachine with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(VendingMachine instance)
	{
		if (sellOrderContainer != null)
		{
			if (instance.sellOrderContainer == null)
			{
				instance.sellOrderContainer = sellOrderContainer.Copy();
			}
			else
			{
				sellOrderContainer.CopyTo(instance.sellOrderContainer);
			}
		}
		else
		{
			instance.sellOrderContainer = null;
		}
		instance.shopName = shopName;
		instance.vmoIndex = vmoIndex;
		instance.networkID = networkID;
		instance.translationToken = translationToken;
		instance.nameLastEditedBy = nameLastEditedBy;
	}

	public VendingMachine Copy()
	{
		VendingMachine vendingMachine = Pool.Get<VendingMachine>();
		CopyTo(vendingMachine);
		return vendingMachine;
	}

	public static VendingMachine Deserialize(BufferStream stream)
	{
		VendingMachine vendingMachine = Pool.Get<VendingMachine>();
		Deserialize(stream, vendingMachine, isDelta: false);
		return vendingMachine;
	}

	public static VendingMachine DeserializeLengthDelimited(BufferStream stream)
	{
		VendingMachine vendingMachine = Pool.Get<VendingMachine>();
		DeserializeLengthDelimited(stream, vendingMachine, isDelta: false);
		return vendingMachine;
	}

	public static VendingMachine DeserializeLength(BufferStream stream, int length)
	{
		VendingMachine vendingMachine = Pool.Get<VendingMachine>();
		DeserializeLength(stream, length, vendingMachine, isDelta: false);
		return vendingMachine;
	}

	public static VendingMachine Deserialize(byte[] buffer)
	{
		VendingMachine vendingMachine = Pool.Get<VendingMachine>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, vendingMachine, isDelta: false);
		return vendingMachine;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, VendingMachine previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static VendingMachine Deserialize(BufferStream stream, VendingMachine instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				if (instance.sellOrderContainer == null)
				{
					instance.sellOrderContainer = SellOrderContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					SellOrderContainer.DeserializeLengthDelimited(stream, instance.sellOrderContainer, isDelta);
				}
				break;
			case 18:
				instance.shopName = ProtocolParser.ReadString(stream);
				break;
			case 24:
				instance.vmoIndex = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 32:
				instance.networkID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 42:
				instance.translationToken = ProtocolParser.ReadString(stream);
				break;
			case 48:
				instance.nameLastEditedBy = ProtocolParser.ReadUInt64(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			case -1:
			case 0:
				return instance;
			}
		}
	}

	public static VendingMachine DeserializeLengthDelimited(BufferStream stream, VendingMachine instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.sellOrderContainer == null)
				{
					instance.sellOrderContainer = SellOrderContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					SellOrderContainer.DeserializeLengthDelimited(stream, instance.sellOrderContainer, isDelta);
				}
				break;
			case 18:
				instance.shopName = ProtocolParser.ReadString(stream);
				break;
			case 24:
				instance.vmoIndex = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 32:
				instance.networkID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 42:
				instance.translationToken = ProtocolParser.ReadString(stream);
				break;
			case 48:
				instance.nameLastEditedBy = ProtocolParser.ReadUInt64(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static VendingMachine DeserializeLength(BufferStream stream, int length, VendingMachine instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				if (instance.sellOrderContainer == null)
				{
					instance.sellOrderContainer = SellOrderContainer.DeserializeLengthDelimited(stream);
				}
				else
				{
					SellOrderContainer.DeserializeLengthDelimited(stream, instance.sellOrderContainer, isDelta);
				}
				break;
			case 18:
				instance.shopName = ProtocolParser.ReadString(stream);
				break;
			case 24:
				instance.vmoIndex = (int)ProtocolParser.ReadUInt64(stream);
				break;
			case 32:
				instance.networkID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				break;
			case 42:
				instance.translationToken = ProtocolParser.ReadString(stream);
				break;
			case 48:
				instance.nameLastEditedBy = ProtocolParser.ReadUInt64(stream);
				break;
			default:
			{
				Key key = ProtocolParser.ReadKey((byte)num2, stream);
				_ = key.Field;
				ProtocolParser.SkipKey(stream, key);
				break;
			}
			}
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, VendingMachine instance, VendingMachine previous)
	{
		if (instance.sellOrderContainer != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			SellOrderContainer.SerializeDelta(stream, instance.sellOrderContainer, previous.sellOrderContainer);
			int num = stream.Position - position;
			if (num > int.MaxValue)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sellOrderContainer (ProtoBuf.VendingMachine.SellOrderContainer)");
			}
			Span<byte> span = range.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)num, span, 0);
			if (num2 < 5)
			{
				span[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span[num2++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.shopName != null && instance.shopName != previous.shopName)
		{
			stream.WriteByte(18);
			ProtocolParser.WriteString(stream, instance.shopName);
		}
		if (instance.vmoIndex != previous.vmoIndex)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.vmoIndex);
		}
		stream.WriteByte(32);
		ProtocolParser.WriteUInt64(stream, instance.networkID.Value);
		if (instance.translationToken != null && instance.translationToken != previous.translationToken)
		{
			stream.WriteByte(42);
			ProtocolParser.WriteString(stream, instance.translationToken);
		}
		if (instance.nameLastEditedBy != previous.nameLastEditedBy)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.nameLastEditedBy);
		}
	}

	public static void Serialize(BufferStream stream, VendingMachine instance)
	{
		if (instance.sellOrderContainer != null)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(5);
			int position = stream.Position;
			SellOrderContainer.Serialize(stream, instance.sellOrderContainer);
			int num = stream.Position - position;
			if (num > int.MaxValue)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field sellOrderContainer (ProtoBuf.VendingMachine.SellOrderContainer)");
			}
			Span<byte> span = range.GetSpan();
			int num2 = ProtocolParser.WriteUInt32((uint)num, span, 0);
			if (num2 < 5)
			{
				span[num2 - 1] |= 128;
				while (num2 < 4)
				{
					span[num2++] = 128;
				}
				span[4] = 0;
			}
		}
		if (instance.shopName != null)
		{
			stream.WriteByte(18);
			ProtocolParser.WriteString(stream, instance.shopName);
		}
		if (instance.vmoIndex != 0)
		{
			stream.WriteByte(24);
			ProtocolParser.WriteUInt64(stream, (ulong)instance.vmoIndex);
		}
		if (instance.networkID != default(NetworkableId))
		{
			stream.WriteByte(32);
			ProtocolParser.WriteUInt64(stream, instance.networkID.Value);
		}
		if (instance.translationToken != null)
		{
			stream.WriteByte(42);
			ProtocolParser.WriteString(stream, instance.translationToken);
		}
		if (instance.nameLastEditedBy != 0L)
		{
			stream.WriteByte(48);
			ProtocolParser.WriteUInt64(stream, instance.nameLastEditedBy);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		sellOrderContainer?.InspectUids(action);
		action(UidType.NetworkableId, ref networkID.Value);
	}
}


using System;
using System.Collections.Generic;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class VendingMachineStats : IDisposable, IPooled, IProto<VendingMachineStats>, IProto
{
	[NonSerialized]
	public List<VendingMachinePurchaseHistoryEntryMessage> purchaseHistory;

	[NonSerialized]
	public List<ulong> customers;

	[NonSerialized]
	public List<int> customersVisits;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(VendingMachineStats instance)
	{
		if (!instance.ShouldPool)
		{
			return;
		}
		if (instance.purchaseHistory != null)
		{
			for (int i = 0; i < instance.purchaseHistory.Count; i++)
			{
				if (instance.purchaseHistory[i] != null)
				{
					instance.purchaseHistory[i].ResetToPool();
					instance.purchaseHistory[i] = null;
				}
			}
			List<VendingMachinePurchaseHistoryEntryMessage> list = instance.purchaseHistory;
			Pool.Free<VendingMachinePurchaseHistoryEntryMessage>(ref list, false);
			instance.purchaseHistory = list;
		}
		if (instance.customers != null)
		{
			List<ulong> list2 = instance.customers;
			Pool.FreeUnmanaged<ulong>(ref list2);
			instance.customers = list2;
		}
		if (instance.customersVisits != null)
		{
			List<int> list3 = instance.customersVisits;
			Pool.FreeUnmanaged<int>(ref list3);
			instance.customersVisits = list3;
		}
		Pool.Free<VendingMachineStats>(ref instance);
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose VendingMachineStats with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(VendingMachineStats instance)
	{
		if (purchaseHistory != null)
		{
			instance.purchaseHistory = Pool.Get<List<VendingMachinePurchaseHistoryEntryMessage>>();
			for (int i = 0; i < purchaseHistory.Count; i++)
			{
				VendingMachinePurchaseHistoryEntryMessage item = purchaseHistory[i].Copy();
				instance.purchaseHistory.Add(item);
			}
		}
		else
		{
			instance.purchaseHistory = null;
		}
		if (customers != null)
		{
			instance.customers = Pool.Get<List<ulong>>();
			for (int j = 0; j < customers.Count; j++)
			{
				ulong item2 = customers[j];
				instance.customers.Add(item2);
			}
		}
		else
		{
			instance.customers = null;
		}
		if (customersVisits != null)
		{
			instance.customersVisits = Pool.Get<List<int>>();
			for (int k = 0; k < customersVisits.Count; k++)
			{
				int item3 = customersVisits[k];
				instance.customersVisits.Add(item3);
			}
		}
		else
		{
			instance.customersVisits = null;
		}
	}

	public VendingMachineStats Copy()
	{
		VendingMachineStats vendingMachineStats = Pool.Get<VendingMachineStats>();
		CopyTo(vendingMachineStats);
		return vendingMachineStats;
	}

	public static VendingMachineStats Deserialize(BufferStream stream)
	{
		VendingMachineStats vendingMachineStats = Pool.Get<VendingMachineStats>();
		Deserialize(stream, vendingMachineStats, isDelta: false);
		return vendingMachineStats;
	}

	public static VendingMachineStats DeserializeLengthDelimited(BufferStream stream)
	{
		VendingMachineStats vendingMachineStats = Pool.Get<VendingMachineStats>();
		DeserializeLengthDelimited(stream, vendingMachineStats, isDelta: false);
		return vendingMachineStats;
	}

	public static VendingMachineStats DeserializeLength(BufferStream stream, int length)
	{
		VendingMachineStats vendingMachineStats = Pool.Get<VendingMachineStats>();
		DeserializeLength(stream, length, vendingMachineStats, isDelta: false);
		return vendingMachineStats;
	}

	public static VendingMachineStats Deserialize(byte[] buffer)
	{
		VendingMachineStats vendingMachineStats = Pool.Get<VendingMachineStats>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, vendingMachineStats, isDelta: false);
		return vendingMachineStats;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, VendingMachineStats previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static VendingMachineStats Deserialize(BufferStream stream, VendingMachineStats instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.purchaseHistory == null)
			{
				instance.purchaseHistory = Pool.Get<List<VendingMachinePurchaseHistoryEntryMessage>>();
			}
			if (instance.customers == null)
			{
				instance.customers = Pool.Get<List<ulong>>();
			}
			if (instance.customersVisits == null)
			{
				instance.customersVisits = Pool.Get<List<int>>();
			}
		}
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				instance.purchaseHistory.Add(VendingMachinePurchaseHistoryEntryMessage.DeserializeLengthDelimited(stream));
				continue;
			case 24:
				instance.customers.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.customersVisits.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static VendingMachineStats DeserializeLengthDelimited(BufferStream stream, VendingMachineStats instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.purchaseHistory == null)
			{
				instance.purchaseHistory = Pool.Get<List<VendingMachinePurchaseHistoryEntryMessage>>();
			}
			if (instance.customers == null)
			{
				instance.customers = Pool.Get<List<ulong>>();
			}
			if (instance.customersVisits == null)
			{
				instance.customersVisits = Pool.Get<List<int>>();
			}
		}
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.purchaseHistory.Add(VendingMachinePurchaseHistoryEntryMessage.DeserializeLengthDelimited(stream));
				continue;
			case 24:
				instance.customers.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.customersVisits.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static VendingMachineStats DeserializeLength(BufferStream stream, int length, VendingMachineStats instance, bool isDelta)
	{
		if (!isDelta)
		{
			if (instance.purchaseHistory == null)
			{
				instance.purchaseHistory = Pool.Get<List<VendingMachinePurchaseHistoryEntryMessage>>();
			}
			if (instance.customers == null)
			{
				instance.customers = Pool.Get<List<ulong>>();
			}
			if (instance.customersVisits == null)
			{
				instance.customersVisits = Pool.Get<List<int>>();
			}
		}
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				instance.purchaseHistory.Add(VendingMachinePurchaseHistoryEntryMessage.DeserializeLengthDelimited(stream));
				continue;
			case 24:
				instance.customers.Add(ProtocolParser.ReadUInt64(stream));
				continue;
			case 32:
				instance.customersVisits.Add((int)ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, VendingMachineStats instance, VendingMachineStats previous)
	{
		if (instance.purchaseHistory != null)
		{
			for (int i = 0; i < instance.purchaseHistory.Count; i++)
			{
				VendingMachinePurchaseHistoryEntryMessage vendingMachinePurchaseHistoryEntryMessage = instance.purchaseHistory[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				VendingMachinePurchaseHistoryEntryMessage.SerializeDelta(stream, vendingMachinePurchaseHistoryEntryMessage, vendingMachinePurchaseHistoryEntryMessage);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field purchaseHistory (ProtoBuf.VendingMachinePurchaseHistoryEntryMessage)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.customers != null)
		{
			for (int j = 0; j < instance.customers.Count; j++)
			{
				ulong val = instance.customers[j];
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, val);
			}
		}
		if (instance.customersVisits != null)
		{
			for (int k = 0; k < instance.customersVisits.Count; k++)
			{
				int num2 = instance.customersVisits[k];
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)num2);
			}
		}
	}

	public static void Serialize(BufferStream stream, VendingMachineStats instance)
	{
		if (instance.purchaseHistory != null)
		{
			for (int i = 0; i < instance.purchaseHistory.Count; i++)
			{
				VendingMachinePurchaseHistoryEntryMessage instance2 = instance.purchaseHistory[i];
				stream.WriteByte(10);
				BufferStream.RangeHandle range = stream.GetRange(1);
				int position = stream.Position;
				VendingMachinePurchaseHistoryEntryMessage.Serialize(stream, instance2);
				int num = stream.Position - position;
				if (num > 127)
				{
					throw new InvalidOperationException("Not enough space was reserved for the length prefix of field purchaseHistory (ProtoBuf.VendingMachinePurchaseHistoryEntryMessage)");
				}
				Span<byte> span = range.GetSpan();
				ProtocolParser.WriteUInt32((uint)num, span, 0);
			}
		}
		if (instance.customers != null)
		{
			for (int j = 0; j < instance.customers.Count; j++)
			{
				ulong val = instance.customers[j];
				stream.WriteByte(24);
				ProtocolParser.WriteUInt64(stream, val);
			}
		}
		if (instance.customersVisits != null)
		{
			for (int k = 0; k < instance.customersVisits.Count; k++)
			{
				int num2 = instance.customersVisits[k];
				stream.WriteByte(32);
				ProtocolParser.WriteUInt64(stream, (ulong)num2);
			}
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		if (purchaseHistory != null)
		{
			for (int i = 0; i < purchaseHistory.Count; i++)
			{
				purchaseHistory[i]?.InspectUids(action);
			}
		}
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class BradleyAPC : IDisposable, IPooled, IProto<BradleyAPC>, IProto
{
	[NonSerialized]
	public float engineThrottle;

	[NonSerialized]
	public float throttleLeft;

	[NonSerialized]
	public float throttleRight;

	[NonSerialized]
	public Vector3 mainGunVec;

	[NonSerialized]
	public Vector3 topTurretVec;

	[NonSerialized]
	public Vector3 rearGunVec;

	[NonSerialized]
	public Vector3 leftSideGun1;

	[NonSerialized]
	public Vector3 leftSideGun2;

	[NonSerialized]
	public Vector3 rightSideGun1;

	[NonSerialized]
	public Vector3 rightSideGun2;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(BradleyAPC instance)
	{
		//IL_0030: Unknown result type (might be due to invalid IL or missing references)
		//IL_003c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0048: Unknown result type (might be due to invalid IL or missing references)
		//IL_0054: Unknown result type (might be due to invalid IL or missing references)
		//IL_0060: Unknown result type (might be due to invalid IL or missing references)
		//IL_006c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0078: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.engineThrottle = 0f;
			instance.throttleLeft = 0f;
			instance.throttleRight = 0f;
			instance.mainGunVec = default(Vector3);
			instance.topTurretVec = default(Vector3);
			instance.rearGunVec = default(Vector3);
			instance.leftSideGun1 = default(Vector3);
			instance.leftSideGun2 = default(Vector3);
			instance.rightSideGun1 = default(Vector3);
			instance.rightSideGun2 = default(Vector3);
			Pool.Free<BradleyAPC>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose BradleyAPC with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(BradleyAPC instance)
	{
		//IL_0026: Unknown result type (might be due to invalid IL or missing references)
		//IL_002b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		//IL_0037: Unknown result type (might be due to invalid IL or missing references)
		//IL_003e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0043: Unknown result type (might be due to invalid IL or missing references)
		//IL_004a: Unknown result type (might be due to invalid IL or missing references)
		//IL_004f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0056: Unknown result type (might be due to invalid IL or missing references)
		//IL_005b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0062: Unknown result type (might be due to invalid IL or missing references)
		//IL_0067: Unknown result type (might be due to invalid IL or missing references)
		//IL_006e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0073: Unknown result type (might be due to invalid IL or missing references)
		instance.engineThrottle = engineThrottle;
		instance.throttleLeft = throttleLeft;
		instance.throttleRight = throttleRight;
		instance.mainGunVec = mainGunVec;
		instance.topTurretVec = topTurretVec;
		instance.rearGunVec = rearGunVec;
		instance.leftSideGun1 = leftSideGun1;
		instance.leftSideGun2 = leftSideGun2;
		instance.rightSideGun1 = rightSideGun1;
		instance.rightSideGun2 = rightSideGun2;
	}

	public BradleyAPC Copy()
	{
		BradleyAPC bradleyAPC = Pool.Get<BradleyAPC>();
		CopyTo(bradleyAPC);
		return bradleyAPC;
	}

	public static BradleyAPC Deserialize(BufferStream stream)
	{
		BradleyAPC bradleyAPC = Pool.Get<BradleyAPC>();
		Deserialize(stream, bradleyAPC, isDelta: false);
		return bradleyAPC;
	}

	public static BradleyAPC DeserializeLengthDelimited(BufferStream stream)
	{
		BradleyAPC bradleyAPC = Pool.Get<BradleyAPC>();
		DeserializeLengthDelimited(stream, bradleyAPC, isDelta: false);
		return bradleyAPC;
	}

	public static BradleyAPC DeserializeLength(BufferStream stream, int length)
	{
		BradleyAPC bradleyAPC = Pool.Get<BradleyAPC>();
		DeserializeLength(stream, length, bradleyAPC, isDelta: false);
		return bradleyAPC;
	}

	public static BradleyAPC Deserialize(byte[] buffer)
	{
		BradleyAPC bradleyAPC = Pool.Get<BradleyAPC>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, bradleyAPC, isDelta: false);
		return bradleyAPC;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, BradleyAPC previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static BradleyAPC Deserialize(BufferStream stream, BradleyAPC instance, bool isDelta)
	{
		//IL_0104: Unknown result type (might be due to invalid IL or missing references)
		//IL_00de: Unknown result type (might be due to invalid IL or missing references)
		//IL_0117: Unknown result type (might be due to invalid IL or missing references)
		//IL_00f1: Unknown result type (might be due to invalid IL or missing references)
		//IL_00b8: Unknown result type (might be due to invalid IL or missing references)
		//IL_012a: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cb: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.engineThrottle = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.throttleLeft = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.throttleRight = ProtocolParser.ReadSingle(stream);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.mainGunVec, isDelta);
				continue;
			case 42:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.topTurretVec, isDelta);
				continue;
			case 50:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rearGunVec, isDelta);
				continue;
			case 58:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftSideGun1, isDelta);
				continue;
			case 66:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftSideGun2, isDelta);
				continue;
			case 74:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightSideGun1, isDelta);
				continue;
			case 82:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightSideGun2, isDelta);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static BradleyAPC DeserializeLengthDelimited(BufferStream stream, BradleyAPC instance, bool isDelta)
	{
		//IL_0135: Unknown result type (might be due to invalid IL or missing references)
		//IL_010f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0148: Unknown result type (might be due to invalid IL or missing references)
		//IL_0122: Unknown result type (might be due to invalid IL or missing references)
		//IL_00e9: Unknown result type (might be due to invalid IL or missing references)
		//IL_015b: Unknown result type (might be due to invalid IL or missing references)
		//IL_00fc: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.engineThrottle = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.throttleLeft = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.throttleRight = ProtocolParser.ReadSingle(stream);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.mainGunVec, isDelta);
				continue;
			case 42:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.topTurretVec, isDelta);
				continue;
			case 50:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rearGunVec, isDelta);
				continue;
			case 58:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftSideGun1, isDelta);
				continue;
			case 66:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftSideGun2, isDelta);
				continue;
			case 74:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightSideGun1, isDelta);
				continue;
			case 82:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightSideGun2, isDelta);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static BradleyAPC DeserializeLength(BufferStream stream, int length, BradleyAPC instance, bool isDelta)
	{
		//IL_012d: Unknown result type (might be due to invalid IL or missing references)
		//IL_0107: Unknown result type (might be due to invalid IL or missing references)
		//IL_0140: Unknown result type (might be due to invalid IL or missing references)
		//IL_011a: Unknown result type (might be due to invalid IL or missing references)
		//IL_00e1: Unknown result type (might be due to invalid IL or missing references)
		//IL_0153: Unknown result type (might be due to invalid IL or missing references)
		//IL_00f4: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.engineThrottle = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.throttleLeft = ProtocolParser.ReadSingle(stream);
				continue;
			case 29:
				instance.throttleRight = ProtocolParser.ReadSingle(stream);
				continue;
			case 34:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.mainGunVec, isDelta);
				continue;
			case 42:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.topTurretVec, isDelta);
				continue;
			case 50:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rearGunVec, isDelta);
				continue;
			case 58:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftSideGun1, isDelta);
				continue;
			case 66:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.leftSideGun2, isDelta);
				continue;
			case 74:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightSideGun1, isDelta);
				continue;
			case 82:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.rightSideGun2, isDelta);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, BradleyAPC instance, BradleyAPC previous)
	{
		//IL_0067: Unknown result type (might be due to invalid IL or missing references)
		//IL_006d: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cb: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d1: Unknown result type (might be due to invalid IL or missing references)
		//IL_0092: Unknown result type (might be due to invalid IL or missing references)
		//IL_0098: Unknown result type (might be due to invalid IL or missing references)
		//IL_0133: Unknown result type (might be due to invalid IL or missing references)
		//IL_0139: Unknown result type (might be due to invalid IL or missing references)
		//IL_00f7: Unknown result type (might be due to invalid IL or missing references)
		//IL_00fd: Unknown result type (might be due to invalid IL or missing references)
		//IL_019c: Unknown result type (might be due to invalid IL or missing references)
		//IL_01a2: Unknown result type (might be due to invalid IL or missing references)
		//IL_0160: Unknown result type (might be due to invalid IL or missing references)
		//IL_0166: Unknown result type (might be due to invalid IL or missing references)
		//IL_0205: Unknown result type (might be due to invalid IL or missing references)
		//IL_020b: Unknown result type (might be due to invalid IL or missing references)
		//IL_01c9: Unknown result type (might be due to invalid IL or missing references)
		//IL_01cf: Unknown result type (might be due to invalid IL or missing references)
		//IL_026e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0274: Unknown result type (might be due to invalid IL or missing references)
		//IL_0232: Unknown result type (might be due to invalid IL or missing references)
		//IL_0238: Unknown result type (might be due to invalid IL or missing references)
		//IL_02d7: Unknown result type (might be due to invalid IL or missing references)
		//IL_02dd: Unknown result type (might be due to invalid IL or missing references)
		//IL_029b: Unknown result type (might be due to invalid IL or missing references)
		//IL_02a1: Unknown result type (might be due to invalid IL or missing references)
		//IL_0304: Unknown result type (might be due to invalid IL or missing references)
		//IL_030a: Unknown result type (might be due to invalid IL or missing references)
		if (instance.engineThrottle != previous.engineThrottle)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.engineThrottle);
		}
		if (instance.throttleLeft != previous.throttleLeft)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.throttleLeft);
		}
		if (instance.throttleRight != previous.throttleRight)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.throttleRight);
		}
		if (instance.mainGunVec != previous.mainGunVec)
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.mainGunVec, previous.mainGunVec);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mainGunVec (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.topTurretVec != previous.topTurretVec)
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.topTurretVec, previous.topTurretVec);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field topTurretVec (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.rearGunVec != previous.rearGunVec)
		{
			stream.WriteByte(50);
			BufferStream.RangeHandle range3 = stream.GetRange(1);
			int position3 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rearGunVec, previous.rearGunVec);
			int num3 = stream.Position - position3;
			if (num3 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rearGunVec (UnityEngine.Vector3)");
			}
			Span<byte> span3 = range3.GetSpan();
			ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		}
		if (instance.leftSideGun1 != previous.leftSideGun1)
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range4 = stream.GetRange(1);
			int position4 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.leftSideGun1, previous.leftSideGun1);
			int num4 = stream.Position - position4;
			if (num4 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftSideGun1 (UnityEngine.Vector3)");
			}
			Span<byte> span4 = range4.GetSpan();
			ProtocolParser.WriteUInt32((uint)num4, span4, 0);
		}
		if (instance.leftSideGun2 != previous.leftSideGun2)
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range5 = stream.GetRange(1);
			int position5 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.leftSideGun2, previous.leftSideGun2);
			int num5 = stream.Position - position5;
			if (num5 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftSideGun2 (UnityEngine.Vector3)");
			}
			Span<byte> span5 = range5.GetSpan();
			ProtocolParser.WriteUInt32((uint)num5, span5, 0);
		}
		if (instance.rightSideGun1 != previous.rightSideGun1)
		{
			stream.WriteByte(74);
			BufferStream.RangeHandle range6 = stream.GetRange(1);
			int position6 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rightSideGun1, previous.rightSideGun1);
			int num6 = stream.Position - position6;
			if (num6 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightSideGun1 (UnityEngine.Vector3)");
			}
			Span<byte> span6 = range6.GetSpan();
			ProtocolParser.WriteUInt32((uint)num6, span6, 0);
		}
		if (instance.rightSideGun2 != previous.rightSideGun2)
		{
			stream.WriteByte(82);
			BufferStream.RangeHandle range7 = stream.GetRange(1);
			int position7 = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.rightSideGun2, previous.rightSideGun2);
			int num7 = stream.Position - position7;
			if (num7 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightSideGun2 (UnityEngine.Vector3)");
			}
			Span<byte> span7 = range7.GetSpan();
			ProtocolParser.WriteUInt32((uint)num7, span7, 0);
		}
	}

	public static void Serialize(BufferStream stream, BradleyAPC instance)
	{
		//IL_0064: Unknown result type (might be due to invalid IL or missing references)
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0071: Unknown result type (might be due to invalid IL or missing references)
		//IL_00c5: Unknown result type (might be due to invalid IL or missing references)
		//IL_00cc: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d2: Unknown result type (might be due to invalid IL or missing references)
		//IL_0092: Unknown result type (might be due to invalid IL or missing references)
		//IL_012b: Unknown result type (might be due to invalid IL or missing references)
		//IL_0132: Unknown result type (might be due to invalid IL or missing references)
		//IL_0138: Unknown result type (might be due to invalid IL or missing references)
		//IL_00f5: Unknown result type (might be due to invalid IL or missing references)
		//IL_0191: Unknown result type (might be due to invalid IL or missing references)
		//IL_0198: Unknown result type (might be due to invalid IL or missing references)
		//IL_019e: Unknown result type (might be due to invalid IL or missing references)
		//IL_015b: Unknown result type (might be due to invalid IL or missing references)
		//IL_01f7: Unknown result type (might be due to invalid IL or missing references)
		//IL_01fe: Unknown result type (might be due to invalid IL or missing references)
		//IL_0204: Unknown result type (might be due to invalid IL or missing references)
		//IL_01c1: Unknown result type (might be due to invalid IL or missing references)
		//IL_025d: Unknown result type (might be due to invalid IL or missing references)
		//IL_0264: Unknown result type (might be due to invalid IL or missing references)
		//IL_026a: Unknown result type (might be due to invalid IL or missing references)
		//IL_0227: Unknown result type (might be due to invalid IL or missing references)
		//IL_02c3: Unknown result type (might be due to invalid IL or missing references)
		//IL_02ca: Unknown result type (might be due to invalid IL or missing references)
		//IL_02d0: Unknown result type (might be due to invalid IL or missing references)
		//IL_028d: Unknown result type (might be due to invalid IL or missing references)
		//IL_02f3: Unknown result type (might be due to invalid IL or missing references)
		if (instance.engineThrottle != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.engineThrottle);
		}
		if (instance.throttleLeft != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.throttleLeft);
		}
		if (instance.throttleRight != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.throttleRight);
		}
		if (instance.mainGunVec != default(Vector3))
		{
			stream.WriteByte(34);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.mainGunVec);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field mainGunVec (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.topTurretVec != default(Vector3))
		{
			stream.WriteByte(42);
			BufferStream.RangeHandle range2 = stream.GetRange(1);
			int position2 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.topTurretVec);
			int num2 = stream.Position - position2;
			if (num2 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field topTurretVec (UnityEngine.Vector3)");
			}
			Span<byte> span2 = range2.GetSpan();
			ProtocolParser.WriteUInt32((uint)num2, span2, 0);
		}
		if (instance.rearGunVec != default(Vector3))
		{
			stream.WriteByte(50);
			BufferStream.RangeHandle range3 = stream.GetRange(1);
			int position3 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rearGunVec);
			int num3 = stream.Position - position3;
			if (num3 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rearGunVec (UnityEngine.Vector3)");
			}
			Span<byte> span3 = range3.GetSpan();
			ProtocolParser.WriteUInt32((uint)num3, span3, 0);
		}
		if (instance.leftSideGun1 != default(Vector3))
		{
			stream.WriteByte(58);
			BufferStream.RangeHandle range4 = stream.GetRange(1);
			int position4 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.leftSideGun1);
			int num4 = stream.Position - position4;
			if (num4 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftSideGun1 (UnityEngine.Vector3)");
			}
			Span<byte> span4 = range4.GetSpan();
			ProtocolParser.WriteUInt32((uint)num4, span4, 0);
		}
		if (instance.leftSideGun2 != default(Vector3))
		{
			stream.WriteByte(66);
			BufferStream.RangeHandle range5 = stream.GetRange(1);
			int position5 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.leftSideGun2);
			int num5 = stream.Position - position5;
			if (num5 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field leftSideGun2 (UnityEngine.Vector3)");
			}
			Span<byte> span5 = range5.GetSpan();
			ProtocolParser.WriteUInt32((uint)num5, span5, 0);
		}
		if (instance.rightSideGun1 != default(Vector3))
		{
			stream.WriteByte(74);
			BufferStream.RangeHandle range6 = stream.GetRange(1);
			int position6 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rightSideGun1);
			int num6 = stream.Position - position6;
			if (num6 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightSideGun1 (UnityEngine.Vector3)");
			}
			Span<byte> span6 = range6.GetSpan();
			ProtocolParser.WriteUInt32((uint)num6, span6, 0);
		}
		if (instance.rightSideGun2 != default(Vector3))
		{
			stream.WriteByte(82);
			BufferStream.RangeHandle range7 = stream.GetRange(1);
			int position7 = stream.Position;
			Vector3Serialized.Serialize(stream, instance.rightSideGun2);
			int num7 = stream.Position - position7;
			if (num7 > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field rightSideGun2 (UnityEngine.Vector3)");
			}
			Span<byte> span7 = range7.GetSpan();
			ProtocolParser.WriteUInt32((uint)num7, span7, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class WaterWell : IDisposable, IPooled, IProto<WaterWell>, IProto
{
	[NonSerialized]
	public float pressure;

	[NonSerialized]
	public float waterLevel;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(WaterWell instance)
	{
		if (instance.ShouldPool)
		{
			instance.pressure = 0f;
			instance.waterLevel = 0f;
			Pool.Free<WaterWell>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose WaterWell with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(WaterWell instance)
	{
		instance.pressure = pressure;
		instance.waterLevel = waterLevel;
	}

	public WaterWell Copy()
	{
		WaterWell waterWell = Pool.Get<WaterWell>();
		CopyTo(waterWell);
		return waterWell;
	}

	public static WaterWell Deserialize(BufferStream stream)
	{
		WaterWell waterWell = Pool.Get<WaterWell>();
		Deserialize(stream, waterWell, isDelta: false);
		return waterWell;
	}

	public static WaterWell DeserializeLengthDelimited(BufferStream stream)
	{
		WaterWell waterWell = Pool.Get<WaterWell>();
		DeserializeLengthDelimited(stream, waterWell, isDelta: false);
		return waterWell;
	}

	public static WaterWell DeserializeLength(BufferStream stream, int length)
	{
		WaterWell waterWell = Pool.Get<WaterWell>();
		DeserializeLength(stream, length, waterWell, isDelta: false);
		return waterWell;
	}

	public static WaterWell Deserialize(byte[] buffer)
	{
		WaterWell waterWell = Pool.Get<WaterWell>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, waterWell, isDelta: false);
		return waterWell;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, WaterWell previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static WaterWell Deserialize(BufferStream stream, WaterWell instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.pressure = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.waterLevel = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static WaterWell DeserializeLengthDelimited(BufferStream stream, WaterWell instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.pressure = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.waterLevel = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static WaterWell DeserializeLength(BufferStream stream, int length, WaterWell instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.pressure = ProtocolParser.ReadSingle(stream);
				continue;
			case 21:
				instance.waterLevel = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, WaterWell instance, WaterWell previous)
	{
		if (instance.pressure != previous.pressure)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.pressure);
		}
		if (instance.waterLevel != previous.waterLevel)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.waterLevel);
		}
	}

	public static void Serialize(BufferStream stream, WaterWell instance)
	{
		if (instance.pressure != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.pressure);
		}
		if (instance.waterLevel != 0f)
		{
			stream.WriteByte(21);
			ProtocolParser.WriteSingle(stream, instance.waterLevel);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class HotAirBalloon : IDisposable, IPooled, IProto<HotAirBalloon>, IProto
{
	[NonSerialized]
	public float inflationAmount;

	[NonSerialized]
	public Vector3 velocity;

	[NonSerialized]
	public float sinceLastBlast;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(HotAirBalloon instance)
	{
		//IL_001a: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.inflationAmount = 0f;
			instance.velocity = default(Vector3);
			instance.sinceLastBlast = 0f;
			Pool.Free<HotAirBalloon>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose HotAirBalloon with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(HotAirBalloon instance)
	{
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0013: Unknown result type (might be due to invalid IL or missing references)
		instance.inflationAmount = inflationAmount;
		instance.velocity = velocity;
		instance.sinceLastBlast = sinceLastBlast;
	}

	public HotAirBalloon Copy()
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		CopyTo(hotAirBalloon);
		return hotAirBalloon;
	}

	public static HotAirBalloon Deserialize(BufferStream stream)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		Deserialize(stream, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public static HotAirBalloon DeserializeLengthDelimited(BufferStream stream)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		DeserializeLengthDelimited(stream, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public static HotAirBalloon DeserializeLength(BufferStream stream, int length)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		DeserializeLength(stream, length, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public static HotAirBalloon Deserialize(byte[] buffer)
	{
		HotAirBalloon hotAirBalloon = Pool.Get<HotAirBalloon>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, hotAirBalloon, isDelta: false);
		return hotAirBalloon;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, HotAirBalloon previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static HotAirBalloon Deserialize(BufferStream stream, HotAirBalloon instance, bool isDelta)
	{
		//IL_0037: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 13:
				instance.inflationAmount = ProtocolParser.ReadSingle(stream);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.velocity, isDelta);
				continue;
			case 29:
				instance.sinceLastBlast = ProtocolParser.ReadSingle(stream);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static HotAirBalloon DeserializeLengthDelimited(BufferStream stream, HotAirBalloon instance, bool isDelta)
	{
		//IL_006b: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.inflationAmount = ProtocolParser.ReadSingle(stream);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.velocity, isDelta);
				continue;
			case 29:
				instance.sinceLastBlast = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static HotAirBalloon DeserializeLength(BufferStream stream, int length, HotAirBalloon instance, bool isDelta)
	{
		//IL_0063: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 13:
				instance.inflationAmount = ProtocolParser.ReadSingle(stream);
				continue;
			case 18:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.velocity, isDelta);
				continue;
			case 29:
				instance.sinceLastBlast = ProtocolParser.ReadSingle(stream);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, HotAirBalloon instance, HotAirBalloon previous)
	{
		//IL_0023: Unknown result type (might be due to invalid IL or missing references)
		//IL_0029: Unknown result type (might be due to invalid IL or missing references)
		//IL_004e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0054: Unknown result type (might be due to invalid IL or missing references)
		if (instance.inflationAmount != previous.inflationAmount)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.inflationAmount);
		}
		if (instance.velocity != previous.velocity)
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.velocity, previous.velocity);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field velocity (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.sinceLastBlast != previous.sinceLastBlast)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.sinceLastBlast);
		}
	}

	public static void Serialize(BufferStream stream, HotAirBalloon instance)
	{
		//IL_0022: Unknown result type (might be due to invalid IL or missing references)
		//IL_0029: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0050: Unknown result type (might be due to invalid IL or missing references)
		if (instance.inflationAmount != 0f)
		{
			stream.WriteByte(13);
			ProtocolParser.WriteSingle(stream, instance.inflationAmount);
		}
		if (instance.velocity != default(Vector3))
		{
			stream.WriteByte(18);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.velocity);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field velocity (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
		if (instance.sinceLastBlast != 0f)
		{
			stream.WriteByte(29);
			ProtocolParser.WriteSingle(stream, instance.sinceLastBlast);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;
using UnityEngine;

public class SAMSite : IDisposable, IPooled, IProto<SAMSite>, IProto
{
	[NonSerialized]
	public Vector3 aimDir;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(SAMSite instance)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		if (instance.ShouldPool)
		{
			instance.aimDir = default(Vector3);
			Pool.Free<SAMSite>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose SAMSite with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(SAMSite instance)
	{
		//IL_0002: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		instance.aimDir = aimDir;
	}

	public SAMSite Copy()
	{
		SAMSite sAMSite = Pool.Get<SAMSite>();
		CopyTo(sAMSite);
		return sAMSite;
	}

	public static SAMSite Deserialize(BufferStream stream)
	{
		SAMSite sAMSite = Pool.Get<SAMSite>();
		Deserialize(stream, sAMSite, isDelta: false);
		return sAMSite;
	}

	public static SAMSite DeserializeLengthDelimited(BufferStream stream)
	{
		SAMSite sAMSite = Pool.Get<SAMSite>();
		DeserializeLengthDelimited(stream, sAMSite, isDelta: false);
		return sAMSite;
	}

	public static SAMSite DeserializeLength(BufferStream stream, int length)
	{
		SAMSite sAMSite = Pool.Get<SAMSite>();
		DeserializeLength(stream, length, sAMSite, isDelta: false);
		return sAMSite;
	}

	public static SAMSite Deserialize(byte[] buffer)
	{
		SAMSite sAMSite = Pool.Get<SAMSite>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, sAMSite, isDelta: false);
		return sAMSite;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, SAMSite previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static SAMSite Deserialize(BufferStream stream, SAMSite instance, bool isDelta)
	{
		//IL_001d: Unknown result type (might be due to invalid IL or missing references)
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimDir, isDelta);
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static SAMSite DeserializeLengthDelimited(BufferStream stream, SAMSite instance, bool isDelta)
	{
		//IL_0051: Unknown result type (might be due to invalid IL or missing references)
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimDir, isDelta);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static SAMSite DeserializeLength(BufferStream stream, int length, SAMSite instance, bool isDelta)
	{
		//IL_0049: Unknown result type (might be due to invalid IL or missing references)
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 10:
				Vector3Serialized.DeserializeLengthDelimited(stream, ref instance.aimDir, isDelta);
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, SAMSite instance, SAMSite previous)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0007: Unknown result type (might be due to invalid IL or missing references)
		//IL_002c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0032: Unknown result type (might be due to invalid IL or missing references)
		if (instance.aimDir != previous.aimDir)
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.SerializeDelta(stream, instance.aimDir, previous.aimDir);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field aimDir (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public static void Serialize(BufferStream stream, SAMSite instance)
	{
		//IL_0001: Unknown result type (might be due to invalid IL or missing references)
		//IL_0008: Unknown result type (might be due to invalid IL or missing references)
		//IL_000e: Unknown result type (might be due to invalid IL or missing references)
		//IL_002f: Unknown result type (might be due to invalid IL or missing references)
		if (instance.aimDir != default(Vector3))
		{
			stream.WriteByte(10);
			BufferStream.RangeHandle range = stream.GetRange(1);
			int position = stream.Position;
			Vector3Serialized.Serialize(stream, instance.aimDir);
			int num = stream.Position - position;
			if (num > 127)
			{
				throw new InvalidOperationException("Not enough space was reserved for the length prefix of field aimDir (UnityEngine.Vector3)");
			}
			Span<byte> span = range.GetSpan();
			ProtocolParser.WriteUInt32((uint)num, span, 0);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
	}
}


using System;
using System.IO;
using Facepunch;
using ProtoBuf;
using SilentOrbit.ProtocolBuffers;

public class Motorboat : IDisposable, IPooled, IProto<Motorboat>, IProto
{
	[NonSerialized]
	public NetworkableId storageid;

	[NonSerialized]
	public NetworkableId fuelStorageID;

	public bool ShouldPool = true;

	private bool _disposed;

	public static void ResetToPool(Motorboat instance)
	{
		if (instance.ShouldPool)
		{
			instance.storageid = default(NetworkableId);
			instance.fuelStorageID = default(NetworkableId);
			Pool.Free<Motorboat>(ref instance);
		}
	}

	public void ResetToPool()
	{
		ResetToPool(this);
	}

	public virtual void Dispose()
	{
		if (!ShouldPool)
		{
			throw new Exception("Trying to dispose Motorboat with ShouldPool set to false!");
		}
		if (!_disposed)
		{
			ResetToPool();
			_disposed = true;
		}
	}

	public virtual void EnterPool()
	{
		_disposed = true;
	}

	public virtual void LeavePool()
	{
		_disposed = false;
	}

	public void CopyTo(Motorboat instance)
	{
		instance.storageid = storageid;
		instance.fuelStorageID = fuelStorageID;
	}

	public Motorboat Copy()
	{
		Motorboat motorboat = Pool.Get<Motorboat>();
		CopyTo(motorboat);
		return motorboat;
	}

	public static Motorboat Deserialize(BufferStream stream)
	{
		Motorboat motorboat = Pool.Get<Motorboat>();
		Deserialize(stream, motorboat, isDelta: false);
		return motorboat;
	}

	public static Motorboat DeserializeLengthDelimited(BufferStream stream)
	{
		Motorboat motorboat = Pool.Get<Motorboat>();
		DeserializeLengthDelimited(stream, motorboat, isDelta: false);
		return motorboat;
	}

	public static Motorboat DeserializeLength(BufferStream stream, int length)
	{
		Motorboat motorboat = Pool.Get<Motorboat>();
		DeserializeLength(stream, length, motorboat, isDelta: false);
		return motorboat;
	}

	public static Motorboat Deserialize(byte[] buffer)
	{
		Motorboat motorboat = Pool.Get<Motorboat>();
		using BufferStream stream = Pool.Get<BufferStream>().Initialize(buffer);
		Deserialize(stream, motorboat, isDelta: false);
		return motorboat;
	}

	public void FromProto(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void WriteToStream(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public virtual void WriteToStreamDelta(BufferStream stream, Motorboat previous)
	{
		if (previous == null)
		{
			Serialize(stream, this);
		}
		else
		{
			SerializeDelta(stream, this, previous);
		}
	}

	public virtual void ReadFromStream(BufferStream stream, bool isDelta = false)
	{
		Deserialize(stream, this, isDelta);
	}

	public virtual void ReadFromStream(BufferStream stream, int size, bool isDelta = false)
	{
		DeserializeLength(stream, size, this, isDelta);
	}

	public static Motorboat Deserialize(BufferStream stream, Motorboat instance, bool isDelta)
	{
		while (true)
		{
			int num = stream.ReadByte();
			switch (num)
			{
			case 8:
				instance.storageid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.fuelStorageID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case -1:
			case 0:
				return instance;
			}
			Key key = ProtocolParser.ReadKey((byte)num, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
	}

	public static Motorboat DeserializeLengthDelimited(BufferStream stream, Motorboat instance, bool isDelta)
	{
		long num = ProtocolParser.ReadUInt32(stream);
		num += stream.Position;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.storageid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.fuelStorageID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static Motorboat DeserializeLength(BufferStream stream, int length, Motorboat instance, bool isDelta)
	{
		long num = stream.Position + length;
		while (stream.Position < num)
		{
			int num2 = stream.ReadByte();
			switch (num2)
			{
			case -1:
				throw new EndOfStreamException();
			case 8:
				instance.storageid = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			case 16:
				instance.fuelStorageID = new NetworkableId(ProtocolParser.ReadUInt64(stream));
				continue;
			}
			Key key = ProtocolParser.ReadKey((byte)num2, stream);
			_ = key.Field;
			ProtocolParser.SkipKey(stream, key);
		}
		if (stream.Position != num)
		{
			throw new ProtocolBufferException("Read past max limit");
		}
		return instance;
	}

	public static void SerializeDelta(BufferStream stream, Motorboat instance, Motorboat previous)
	{
		stream.WriteByte(8);
		ProtocolParser.WriteUInt64(stream, instance.storageid.Value);
		stream.WriteByte(16);
		ProtocolParser.WriteUInt64(stream, instance.fuelStorageID.Value);
	}

	public static void Serialize(BufferStream stream, Motorboat instance)
	{
		if (instance.storageid != default(NetworkableId))
		{
			stream.WriteByte(8);
			ProtocolParser.WriteUInt64(stream, instance.storageid.Value);
		}
		if (instance.fuelStorageID != default(NetworkableId))
		{
			stream.WriteByte(16);
			ProtocolParser.WriteUInt64(stream, instance.fuelStorageID.Value);
		}
	}

	public void ToProto(BufferStream stream)
	{
		Serialize(stream, this);
	}

	public void InspectUids(UidInspector<ulong> action)
	{
		action(UidType.NetworkableId, ref storageid.Value);
		action(UidType.NetworkableId, ref fuelStorageID.Value);
	}
}


